  [1m[36m (95.7ms)[0m  [1mCREATE TABLE "locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "skate_spots_id" integer) [0m
  [1m[35m (1.8ms)[0m  CREATE TABLE "ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "difficulty" integer, "police" integer, "pedestrian" integer, "time" varchar, "description" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "skate_spots_id" integer) 
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "skate_spots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "location_id" integer, "name" varchar) [0m
  [1m[35m (2.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL) 
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (0.1ms)[0m  select sqlite_version(*)
  [1m[36m (1.5ms)[0m  [1mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [1m[35m (0.1ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223020947')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151223002646')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220214651')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220214013')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220213928')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220214806')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220214536')[0m
  [1m[35m (19.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220213753')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:12:39', '2015-12-23 02:12:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:12:39', '2015-12-23 02:12:39', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:12:39', '2015-12-23 02:12:39', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:12:39', '2015-12-23 02:12:39', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:12:39', '2015-12-23 02:12:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:12:39', '2015-12-23 02:12:39', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:12:39', '2015-12-23 02:12:39', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:12:39', '2015-12-23 02:12:39', 298486374)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:13:26', '2015-12-23 02:13:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:13:26', '2015-12-23 02:13:26', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:13:26', '2015-12-23 02:13:26', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:13:26', '2015-12-23 02:13:26', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:13:26', '2015-12-23 02:13:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:13:26', '2015-12-23 02:13:26', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:13:26', '2015-12-23 02:13:26', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:13:26', '2015-12-23 02:13:26', 298486374)
  [1m[36m (45.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:14:22', '2015-12-23 02:14:22', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:14:22', '2015-12-23 02:14:22', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:14:22', '2015-12-23 02:14:22', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:14:22', '2015-12-23 02:14:22', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:14:22', '2015-12-23 02:14:22', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:14:22', '2015-12-23 02:14:22', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:14:22', '2015-12-23 02:14:22', 980190962)[0m
  [1m[35mFixture Insert (2.5ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:14:22', '2015-12-23 02:14:22', 298486374)
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:15:21', '2015-12-23 02:15:21', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:15:21', '2015-12-23 02:15:21', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:15:21', '2015-12-23 02:15:21', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:15:21', '2015-12-23 02:15:21', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:15:21', '2015-12-23 02:15:21', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:15:21', '2015-12-23 02:15:21', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:15:21', '2015-12-23 02:15:21', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:15:21', '2015-12-23 02:15:21', 298486374)
  [1m[36m (7.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (3.1ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:15:28', '2015-12-23 02:15:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:15:28', '2015-12-23 02:15:28', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:15:28', '2015-12-23 02:15:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:15:28', '2015-12-23 02:15:28', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:15:28', '2015-12-23 02:15:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:15:28', '2015-12-23 02:15:28', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:15:28', '2015-12-23 02:15:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:15:28', '2015-12-23 02:15:28', 298486374)
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (21.0ms)
Completed 200 OK in 860ms (Views: 859.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
SkateSpotsControllerTest: test_should_get_edit
----------------------------------------------
  [1m[36mSkateSpot Load (0.3ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SkateSpotsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mSkateSpot Load (0.1ms)[0m  SELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered skate_spots/_form.html.erb (12.0ms)
  Rendered skate_spots/edit.html.erb within layouts/application (35.1ms)
Completed 200 OK in 65ms (Views: 55.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------
SkateSpotsControllerTest: test_should_show_skate_spot
-----------------------------------------------------
  [1m[36mSkateSpot Load (0.1ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SkateSpotsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mSkateSpot Load (0.1ms)[0m  SELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered skate_spots/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------
SkateSpotsControllerTest: test_should_destroy_skate_spot
--------------------------------------------------------
  [1m[36mSkateSpot Load (1.9ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "skate_spots"
Processing by SkateSpotsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
SkateSpotsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mSkateSpot Load (0.1ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SkateSpotsController#new as HTML
  Rendered skate_spots/_form.html.erb (1.1ms)
  Rendered skate_spots/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
SkateSpotsControllerTest: test_should_create_skate_spot
-------------------------------------------------------
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "skate_spots"[0m
Processing by SkateSpotsController#create as HTML
  Parameters: {"skate_spot"=>{}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-12-23 02:15:29.761820"], ["updated_at", "2015-12-23 02:15:29.761820"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/skate_spots
Completed 302 Found in 7ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "skate_spots"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
SkateSpotsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mSkateSpot Load (0.1ms)[0m  SELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 26ms (Views: 24.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
SkateSpotsControllerTest: test_should_update_skate_spot
-------------------------------------------------------
  [1m[35mSkateSpot Load (0.1ms)[0m  SELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SkateSpotsController#update as HTML
  Parameters: {"skate_spot"=>{}, "id"=>"980190962"}
  [1m[36mSkateSpot Load (0.1ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 400 Bad Request in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
LocationsControllerTest: test_should_create_location
----------------------------------------------------
  [1m[35mLocation Load (0.2ms)[0m  SELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "locations"[0m
Processing by LocationsController#create as HTML
  Parameters: {"location"=>{}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-12-23 02:15:29.855394"], ["updated_at", "2015-12-23 02:15:29.855394"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/locations
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LocationsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[35mLocation Load (0.2ms)[0m  SELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LocationsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLocation Load (1.2ms)[0m  [1mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered locations/_form.html.erb (5.2ms)
  Rendered locations/edit.html.erb within layouts/application (8.9ms)
Completed 200 OK in 32ms (Views: 29.7ms | ActiveRecord: 1.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
LocationsControllerTest: test_should_show_location
--------------------------------------------------
  [1m[35mLocation Load (0.1ms)[0m  SELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLocation Load (0.1ms)[0m  [1mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered locations/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
LocationsControllerTest: test_should_update_location
----------------------------------------------------
  [1m[35mLocation Load (0.1ms)[0m  SELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LocationsController#update as HTML
  Parameters: {"location"=>{}, "id"=>"980190962"}
  [1m[36mLocation Load (0.1ms)[0m  [1mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 400 Bad Request in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.7ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LocationsControllerTest: test_should_get_index
----------------------------------------------
  [1m[35mLocation Load (0.1ms)[0m  SELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LocationsController#index as HTML
  [1m[36mLocation Load (0.1ms)[0m  [1mSELECT "locations".* FROM "locations"[0m
  Rendered locations/index.html.erb within layouts/application (3.6ms)
Completed 200 OK in 12ms (Views: 12.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
LocationsControllerTest: test_should_destroy_location
-----------------------------------------------------
  [1m[35mLocation Load (0.2ms)[0m  SELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "locations"[0m
Processing by LocationsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLocation Load (0.1ms)[0m  SELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "locations" WHERE "locations"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/locations
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "locations"
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------
LocationsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLocation Load (0.5ms)[0m  [1mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LocationsController#new as HTML
  Rendered locations/_form.html.erb (1.3ms)
  Rendered locations/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
RatingsControllerTest: test_should_get_new
------------------------------------------
  [1m[35mRating Load (0.2ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by RatingsController#new as HTML
  Rendered ratings/_form.html.erb (76.5ms)
  Rendered ratings/new.html.erb within layouts/application (79.4ms)
Completed 200 OK in 90ms (Views: 88.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
RatingsControllerTest: test_should_show_rating
----------------------------------------------
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RatingsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mRating Load (0.1ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered ratings/show.html.erb within layouts/application (5.0ms)
Completed 200 OK in 32ms (Views: 30.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
RatingsControllerTest: test_should_update_rating
------------------------------------------------
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RatingsController#update as HTML
  Parameters: {"rating"=>{"description"=>"MyString", "difficulty"=>"1", "pedestrian"=>"1", "police"=>"1", "time"=>"MyString"}, "id"=>"980190962"}
  [1m[35mRating Load (0.1ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ratings/980190962
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
RatingsControllerTest: test_should_get_edit
-------------------------------------------
  [1m[36mRating Load (0.3ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RatingsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mRating Load (0.1ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered ratings/_form.html.erb (3.2ms)
  Rendered ratings/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 24ms (Views: 23.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
RatingsControllerTest: test_should_get_index
--------------------------------------------
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by RatingsController#index as HTML
  [1m[35mRating Load (0.2ms)[0m  SELECT "ratings".* FROM "ratings"
  Rendered ratings/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------
RatingsControllerTest: test_should_destroy_rating
-------------------------------------------------
  [1m[36mRating Load (0.1ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "ratings"
Processing by RatingsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mRating Load (0.2ms)[0m  [1mSELECT  "ratings".* FROM "ratings" WHERE "ratings"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "ratings" WHERE "ratings"."id" = ?[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ratings
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
RatingsControllerTest: test_should_create_rating
------------------------------------------------
  [1m[35mRating Load (0.1ms)[0m  SELECT  "ratings".* FROM "ratings" WHERE "ratings"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
Processing by RatingsController#create as HTML
  Parameters: {"rating"=>{"description"=>"MyString", "difficulty"=>"1", "pedestrian"=>"1", "police"=>"1", "time"=>"MyString"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "ratings" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-12-23 02:15:30.222598"], ["updated_at", "2015-12-23 02:15:30.222598"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/ratings
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "ratings"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:17:02', '2015-12-23 02:17:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:17:02', '2015-12-23 02:17:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:17:02', '2015-12-23 02:17:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:17:02', '2015-12-23 02:17:02', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:17:02', '2015-12-23 02:17:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:17:02', '2015-12-23 02:17:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:17:02', '2015-12-23 02:17:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:17:02', '2015-12-23 02:17:02', 298486374)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 183ms (Views: 182.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
SkateSpotsControllerTest: test_should_create_skate_spot
-------------------------------------------------------
  [1m[36mSkateSpot Load (0.3ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "skate_spots"
Processing by SkateSpotsController#create as HTML
  Parameters: {"skate_spot"=>{}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-12-23 02:17:02.354663"], ["updated_at", "2015-12-23 02:17:02.354663"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/skate_spots
Completed 302 Found in 13ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "skate_spots"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
SkateSpotsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mSkateSpot Load (0.1ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SkateSpotsController#new as HTML
  Rendered skate_spots/_form.html.erb (6.5ms)
  Rendered skate_spots/new.html.erb within layouts/application (12.3ms)
Completed 200 OK in 15ms (Views: 15.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------
SkateSpotsControllerTest: test_should_update_skate_spot
-------------------------------------------------------
  [1m[35mSkateSpot Load (0.3ms)[0m  SELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SkateSpotsController#update as HTML
  Parameters: {"skate_spot"=>{}, "id"=>"980190962"}
  [1m[36mSkateSpot Load (0.1ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 400 Bad Request in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
SkateSpotsControllerTest: test_should_destroy_skate_spot
--------------------------------------------------------
  [1m[35mSkateSpot Load (0.1ms)[0m  SELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "skate_spots"[0m
Processing by SkateSpotsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
SkateSpotsControllerTest: test_should_get_edit
----------------------------------------------
  [1m[35mSkateSpot Load (0.1ms)[0m  SELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SkateSpotsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mSkateSpot Load (0.1ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered skate_spots/_form.html.erb (1.0ms)
  Rendered skate_spots/edit.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
SkateSpotsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
SkateSpotsControllerTest: test_should_show_skate_spot
-----------------------------------------------------
  [1m[35mSkateSpot Load (0.1ms)[0m  SELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by SkateSpotsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mSkateSpot Load (0.1ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered skate_spots/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------
LocationsControllerTest: test_should_destroy_location
-----------------------------------------------------
  [1m[35mLocation Load (0.3ms)[0m  SELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "locations"[0m
Processing by LocationsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLocation Load (0.1ms)[0m  SELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "locations" WHERE "locations"."id" = ?  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/locations
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "locations"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------
LocationsControllerTest: test_should_get_new
--------------------------------------------
  [1m[36mLocation Load (0.1ms)[0m  [1mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by LocationsController#new as HTML
  Rendered locations/_form.html.erb (3.9ms)
  Rendered locations/new.html.erb within layouts/application (5.2ms)
Completed 200 OK in 19ms (Views: 18.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
LocationsControllerTest: test_should_update_location
----------------------------------------------------
  [1m[35mLocation Load (0.2ms)[0m  SELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LocationsController#update as HTML
  Parameters: {"location"=>{}, "id"=>"980190962"}
  [1m[36mLocation Load (0.1ms)[0m  [1mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Completed 400 Bad Request in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------
LocationsControllerTest: test_should_get_edit
---------------------------------------------
  [1m[35mLocation Load (0.1ms)[0m  SELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LocationsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLocation Load (0.1ms)[0m  [1mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered locations/_form.html.erb (1.3ms)
  Rendered locations/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------
LocationsControllerTest: test_should_show_location
--------------------------------------------------
  [1m[35mLocation Load (0.1ms)[0m  SELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LocationsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLocation Load (0.1ms)[0m  [1mSELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  Rendered locations/show.html.erb within layouts/application (1.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
LocationsControllerTest: test_should_get_index
----------------------------------------------
  [1m[35mLocation Load (0.1ms)[0m  SELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1  [["id", 980190962]]
Processing by LocationsController#index as HTML
  [1m[36mLocation Load (0.2ms)[0m  [1mSELECT "locations".* FROM "locations"[0m
  Rendered locations/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 14ms (Views: 13.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
LocationsControllerTest: test_should_create_location
----------------------------------------------------
  [1m[35mLocation Load (0.1ms)[0m  SELECT  "locations".* FROM "locations" WHERE "locations"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "locations"[0m
Processing by LocationsController#create as HTML
  Parameters: {"location"=>{}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-12-23 02:17:02.551980"], ["updated_at", "2015-12-23 02:17:02.551980"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/locations
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "locations"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:17:21', '2015-12-23 02:17:21', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:17:21', '2015-12-23 02:17:21', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:17:21', '2015-12-23 02:17:21', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:17:21', '2015-12-23 02:17:21', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:17:21', '2015-12-23 02:17:21', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:17:21', '2015-12-23 02:17:21', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:17:21', '2015-12-23 02:17:21', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:17:21', '2015-12-23 02:17:21', 298486374)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 169ms (Views: 168.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------
SkateSpotsControllerTest: test_should_create_skate_spot
-------------------------------------------------------
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "skate_spots"
Processing by SkateSpotsController#create as HTML
  Parameters: {"skate_spot"=>{}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-12-23 02:17:22.086347"], ["updated_at", "2015-12-23 02:17:22.086347"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/skate_spots
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "skate_spots"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
SkateSpotsControllerTest: test_should_get_index
-----------------------------------------------
  [1m[36mSkateSpot Load (0.1ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.1ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
SkateSpotsControllerTest: test_should_get_edit
----------------------------------------------
  [1m[36mSkateSpot Load (0.1ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SkateSpotsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mSkateSpot Load (0.1ms)[0m  SELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered skate_spots/_form.html.erb (1.5ms)
  Rendered skate_spots/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------
SkateSpotsControllerTest: test_should_show_skate_spot
-----------------------------------------------------
  [1m[36mSkateSpot Load (0.1ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SkateSpotsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mSkateSpot Load (0.1ms)[0m  SELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1  [["id", 980190962]]
  Rendered skate_spots/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------
SkateSpotsControllerTest: test_should_update_skate_spot
-------------------------------------------------------
  [1m[36mSkateSpot Load (0.1ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SkateSpotsController#update as HTML
  Parameters: {"skate_spot"=>{}, "id"=>"980190962"}
  [1m[35mSkateSpot Load (0.0ms)[0m  SELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1  [["id", 980190962]]
Completed 400 Bad Request in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------
SkateSpotsControllerTest: test_should_get_new
---------------------------------------------
  [1m[36mSkateSpot Load (0.1ms)[0m  [1mSELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1[0m  [["id", 980190962]]
Processing by SkateSpotsController#new as HTML
  Rendered skate_spots/_form.html.erb (0.7ms)
  Rendered skate_spots/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------
SkateSpotsControllerTest: test_should_destroy_skate_spot
--------------------------------------------------------
  [1m[35mSkateSpot Load (0.1ms)[0m  SELECT  "skate_spots".* FROM "skate_spots" WHERE "skate_spots"."id" = ? LIMIT 1  [["id", 980190962]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "skate_spots"[0m
Processing by SkateSpotsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:17:38', '2015-12-23 02:17:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:17:38', '2015-12-23 02:17:38', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:17:38', '2015-12-23 02:17:38', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:17:38', '2015-12-23 02:17:38', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:17:38', '2015-12-23 02:17:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:17:38', '2015-12-23 02:17:38', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:17:38', '2015-12-23 02:17:38', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:17:38', '2015-12-23 02:17:38', 298486374)
  [1m[36m (7.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 166ms (Views: 165.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:19:00', '2015-12-23 02:19:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:19:00', '2015-12-23 02:19:00', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:19:00', '2015-12-23 02:19:00', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:19:00', '2015-12-23 02:19:00', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:19:00', '2015-12-23 02:19:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:19:00', '2015-12-23 02:19:00', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:19:00', '2015-12-23 02:19:00', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:19:00', '2015-12-23 02:19:00', 298486374)
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 191ms (Views: 190.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (3.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:19:38', '2015-12-23 02:19:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:19:38', '2015-12-23 02:19:38', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:19:38', '2015-12-23 02:19:38', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:19:38', '2015-12-23 02:19:38', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:19:38', '2015-12-23 02:19:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:19:38', '2015-12-23 02:19:38', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:19:38', '2015-12-23 02:19:38', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:19:38', '2015-12-23 02:19:38', 298486374)
  [1m[36m (7.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 174ms (Views: 173.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (2.5ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:20:20', '2015-12-23 02:20:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:20:20', '2015-12-23 02:20:20', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:20:20', '2015-12-23 02:20:20', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:20:20', '2015-12-23 02:20:20', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:20:20', '2015-12-23 02:20:20', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:20:20', '2015-12-23 02:20:20', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:20:20', '2015-12-23 02:20:20', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:20:20', '2015-12-23 02:20:20', 298486374)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 204ms (Views: 203.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (2.9ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:20:55', '2015-12-23 02:20:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:20:55', '2015-12-23 02:20:55', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:20:55', '2015-12-23 02:20:55', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:20:55', '2015-12-23 02:20:55', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:20:55', '2015-12-23 02:20:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:20:55', '2015-12-23 02:20:55', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:20:55', '2015-12-23 02:20:55', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:20:55', '2015-12-23 02:20:55', 298486374)
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 178ms (Views: 177.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:21:36', '2015-12-23 02:21:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:21:36', '2015-12-23 02:21:36', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:21:36', '2015-12-23 02:21:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:21:36', '2015-12-23 02:21:36', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:21:36', '2015-12-23 02:21:36', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:21:36', '2015-12-23 02:21:36', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:21:36', '2015-12-23 02:21:36', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:21:36', '2015-12-23 02:21:36', 298486374)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 173ms (Views: 172.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:21:56', '2015-12-23 02:21:56', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:21:56', '2015-12-23 02:21:56', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:21:56', '2015-12-23 02:21:56', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:21:56', '2015-12-23 02:21:56', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:21:56', '2015-12-23 02:21:56', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:21:56', '2015-12-23 02:21:56', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:21:56', '2015-12-23 02:21:56', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:21:56', '2015-12-23 02:21:56', 298486374)
  [1m[36m (2.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["created_at", "2015-12-23 02:21:56.570109"], ["updated_at", "2015-12-23 02:21:56.570109"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 170ms (Views: 169.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:22:12', '2015-12-23 02:22:12', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:22:12', '2015-12-23 02:22:12', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:22:12', '2015-12-23 02:22:12', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:22:12', '2015-12-23 02:22:12', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:22:12', '2015-12-23 02:22:12', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:22:12', '2015-12-23 02:22:12', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:22:12', '2015-12-23 02:22:12', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:22:12', '2015-12-23 02:22:12', 298486374)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 206ms (Views: 205.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'elissa@steamer.com' LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = '      ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'elissa@steamer.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'elissa@steamer.com' LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'elissa@steamer.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["created_at", "2015-12-23 02:22:12.902589"], ["updated_at", "2015-12-23 02:22:12.902589"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'elissa@steamer.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'USER@foo.COM' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'A_US-ER@foo.bar.org' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'first.last@foo.jp' LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'alice+bob@baz.cn' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example,com' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user_at_foo.org' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user.name@example.' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'foo@bar_baz.com' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'foo@bar+baz.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:22:39', '2015-12-23 02:22:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:22:39', '2015-12-23 02:22:39', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:22:39', '2015-12-23 02:22:39', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:22:39', '2015-12-23 02:22:39', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:22:39', '2015-12-23 02:22:39', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:22:39', '2015-12-23 02:22:39', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:22:39', '2015-12-23 02:22:39', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:22:39', '2015-12-23 02:22:39', 298486374)
  [1m[36m (2.1ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'USER@foo.COM' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'A_US-ER@foo.bar.org' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'first.last@foo.jp' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'alice+bob@baz.cn' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = '      ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user@example,com' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'user_at_foo.org' LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'user.name@example.' LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'foo@bar_baz.com' LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'foo@bar+baz.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'elissa@steamer.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'elissa@steamer.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["created_at", "2015-12-23 02:22:39.882945"], ["updated_at", "2015-12-23 02:22:39.882945"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'ELISSA@STEAMER.COM' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'elissa@steamer.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'elissa@steamer.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 201ms (Views: 201.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:23:06', '2015-12-23 02:23:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:23:06', '2015-12-23 02:23:06', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:23:06', '2015-12-23 02:23:06', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:23:06', '2015-12-23 02:23:06', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:23:06', '2015-12-23 02:23:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('MyString', 'MyString', '2015-12-23 02:23:06', '2015-12-23 02:23:06', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:23:06', '2015-12-23 02:23:06', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:23:06', '2015-12-23 02:23:06', 298486374)
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "created_at", "updated_at") VALUES (?, ?, ?, ?)  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["created_at", "2015-12-23 02:23:06.373032"], ["updated_at", "2015-12-23 02:23:06.373032"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 237ms (Views: 237.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (6.2ms)[0m  [1mCREATE TABLE "locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "skate_spots_id" integer) [0m
  [1m[35m (2.1ms)[0m  CREATE TABLE "ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "difficulty" integer, "police" integer, "pedestrian" integer, "time" varchar, "description" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "skate_spots_id" integer) 
  [1m[36m (1.5ms)[0m  [1mCREATE TABLE "skate_spots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "location_id" integer, "name" varchar) [0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "password_digest" varchar) 
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (1.5ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151223022533')
  [1m[36m (52.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223002646')[0m
  [1m[35m (1.5ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220214651')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223020947')[0m
  [1m[35m (28.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220214013')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220213928')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220214806')
  [1m[36m (1.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223022333')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220214536')
  [1m[36m (1.2ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220213753')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "ratings"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:26:28', '2015-12-23 02:26:28', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:26:28', '2015-12-23 02:26:28', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "locations"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:26:28', '2015-12-23 02:26:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:26:28', '2015-12-23 02:26:28', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:26:28', '2015-12-23 02:26:28', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:26:28', '2015-12-23 02:26:28', 298486374)[0m
  [1m[35m (1.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 176ms (Views: 175.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:27:14', '2015-12-23 02:27:14', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:27:14', '2015-12-23 02:27:14', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:27:14', '2015-12-23 02:27:14', 980190962)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:27:14', '2015-12-23 02:27:14', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:27:14', '2015-12-23 02:27:14', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:27:14', '2015-12-23 02:27:14', 298486374)
  [1m[36m (65.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$ujbreeDRGhLgrrkciKn0GeQZG6c8JLs0GeLSqt4ZTWuF4M/jAWLe."], ["created_at", "2015-12-23 02:27:14.239433"], ["updated_at", "2015-12-23 02:27:14.239433"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (2.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 168ms (Views: 167.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:28:07', '2015-12-23 02:28:07', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:28:07', '2015-12-23 02:28:07', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:28:07', '2015-12-23 02:28:07', 980190962)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:28:07', '2015-12-23 02:28:07', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:28:07', '2015-12-23 02:28:07', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:28:07', '2015-12-23 02:28:07', 298486374)
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 352ms (Views: 351.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (1.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$NURaK4J3s2Rq3CdqMrBeNe.Yvf/8RwgT6JT2dmMqdu6OIfW61v30C"], ["created_at", "2015-12-23 02:28:07.844271"], ["updated_at", "2015-12-23 02:28:07.844271"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:28:37', '2015-12-23 02:28:37', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:28:37', '2015-12-23 02:28:37', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:28:37', '2015-12-23 02:28:37', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:28:37', '2015-12-23 02:28:37', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:28:37', '2015-12-23 02:28:37', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:28:37', '2015-12-23 02:28:37', 298486374)
  [1m[36m (5.3ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 157ms (Views: 157.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$BBK/61bc3J8AqT5TupWgZO/cNMpETO/jhYZXyBwkjc4yxcmJ7HZDO"], ["created_at", "2015-12-23 02:28:37.445054"], ["updated_at", "2015-12-23 02:28:37.445054"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:29:30', '2015-12-23 02:29:30', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:29:30', '2015-12-23 02:29:30', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:29:30', '2015-12-23 02:29:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:29:30', '2015-12-23 02:29:30', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:29:30', '2015-12-23 02:29:30', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:29:30', '2015-12-23 02:29:30', 298486374)
  [1m[36m (64.0ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$hg2124qZjwFqeui.pkPqoezn33/a0mye3KoPO5HlzOw0KVkAHwQVO"], ["created_at", "2015-12-23 02:29:30.595102"], ["updated_at", "2015-12-23 02:29:30.595102"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$/4elv1aTZe6/LEfUbIhX/.PWfrIb0cpOoM2dQDde8sjwpxh6XqZxq"], ["created_at", "2015-12-23 02:29:30.617930"], ["updated_at", "2015-12-23 02:29:30.617930"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 165ms (Views: 164.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:30:00', '2015-12-23 02:30:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:30:00', '2015-12-23 02:30:00', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:30:00', '2015-12-23 02:30:00', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:30:00', '2015-12-23 02:30:00', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:30:00', '2015-12-23 02:30:00', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:30:00', '2015-12-23 02:30:00', 298486374)
  [1m[36m (2.2ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered users/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 167ms (Views: 167.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$vm1DvP9X8pVLhuYYGp/1Qerx.7ct5F72URMeogU0aiLIcCTl40S3K"], ["created_at", "2015-12-23 02:30:00.699161"], ["updated_at", "2015-12-23 02:30:00.699161"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$roqjxa15wmbVZYUbjYD7Ju65Q8D84gSn/1YrfRfU5gx94lQ3JHzlq"], ["created_at", "2015-12-23 02:30:00.708265"], ["updated_at", "2015-12-23 02:30:00.708265"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:47:26', '2015-12-23 02:47:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:47:26', '2015-12-23 02:47:26', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:47:26', '2015-12-23 02:47:26', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:47:26', '2015-12-23 02:47:26', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:47:26', '2015-12-23 02:47:26', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:47:26', '2015-12-23 02:47:26', 298486374)
  [1m[36m (61.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (1.9ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$xZWKEyvu1efCb8zBuas7te0GbT9Udtx.MjrKGN0JzgrMg/LGbVjV."], ["created_at", "2015-12-23 02:47:27.182513"], ["updated_at", "2015-12-23 02:47:27.182513"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$AR/B3xi1ZOJCl2ukTkU94.eyH4OVyILPJ.ooYy8sMCTSUjmkDJO/u"], ["created_at", "2015-12-23 02:47:27.203831"], ["updated_at", "2015-12-23 02:47:27.203831"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.8ms)
  Rendered users/new.html.erb within layouts/application (329.4ms)
Completed 500 Internal Server Error in 1533ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  begin transaction
  [1m[36mFixture Delete (31.8ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:59:13', '2015-12-23 02:59:13', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 02:59:13', '2015-12-23 02:59:13', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:59:13', '2015-12-23 02:59:13', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:59:13', '2015-12-23 02:59:13', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:59:13', '2015-12-23 02:59:13', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 02:59:13', '2015-12-23 02:59:13', 298486374)
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (33.7ms)
  Rendered users/new.html.erb within layouts/application (599.8ms)
Completed 200 OK in 8740ms (Views: 8734.1ms | ActiveRecord: 0.3ms)
  [1m[36m (56.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$xeiuuXOnE6bNfPk/98EuBer/.EiuhLslTv1LfyUwRMXYDaobCHota"], ["created_at", "2015-12-23 02:59:25.090984"], ["updated_at", "2015-12-23 02:59:25.090984"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (1.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (1.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$U/tBs3nF.JMC6LrOlYAXoOG9EKdnJVX.nGuGKvSoMMtd5FWlbIUJG"], ["created_at", "2015-12-23 02:59:25.244065"], ["updated_at", "2015-12-23 02:59:25.244065"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (92.8ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 04:07:29', '2015-12-23 04:07:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 04:07:29', '2015-12-23 04:07:29', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:07:29', '2015-12-23 04:07:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:07:29', '2015-12-23 04:07:29', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:07:29', '2015-12-23 04:07:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:07:29', '2015-12-23 04:07:29', 298486374)
  [1m[36m (1.4ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$RuKDOWCyjoAehLLvBcQw6OZwUft5zx5nI36eFG9iXSdzsSegG08jO"], ["created_at", "2015-12-23 04:07:31.113269"], ["updated_at", "2015-12-23 04:07:31.113269"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$QcQhTJR2J8WLbRz2GWQVJeBlcEreSNUOMDyygORqs3.ZG.6BeTiQi"], ["created_at", "2015-12-23 04:07:31.452574"], ["updated_at", "2015-12-23 04:07:31.452574"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered users/new.html.erb within layouts/application (307.5ms)
Completed 200 OK in 1889ms (Views: 1888.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 20:07:34 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.3ms)
  Rendered users/new.html.erb within layouts/application (4.2ms)
Completed 200 OK in 40ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-22 20:07:34 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (4.4ms)
  Rendered users/new.html.erb within layouts/application (9.4ms)
Completed 200 OK in 25ms (Views: 11.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 04:53:40', '2015-12-23 04:53:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 04:53:40', '2015-12-23 04:53:40', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:53:40', '2015-12-23 04:53:40', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:53:40', '2015-12-23 04:53:40', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:53:40', '2015-12-23 04:53:40', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:53:40', '2015-12-23 04:53:40', 298486374)
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered users/new.html.erb within layouts/application (431.9ms)
Completed 200 OK in 820ms (Views: 814.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$qUlqL./jdn2a.H20ur5otO8qH1MlphVDbBSrnuoY6MUm9i/72fmWS"], ["created_at", "2015-12-23 04:53:41.687482"], ["updated_at", "2015-12-23 04:53:41.687482"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$M.u9MeNKc9RdGz16BrM1EuNO2RgsNuf48txoetVlAguU/8yhh7eau"], ["created_at", "2015-12-23 04:53:41.766823"], ["updated_at", "2015-12-23 04:53:41.766823"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 20:53:41 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (5.0ms)
Completed 200 OK in 15ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-22 20:53:41 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.1ms)
  Rendered users/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 13ms (Views: 5.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 20:53:41 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-22 20:53:41 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$wgSpgWxme7w3DmbVg2rt9epWFnYCoKDSRW6QYNMydygclPaSGEjl2"], ["created_at", "2015-12-23 04:53:41.881877"], ["updated_at", "2015-12-23 04:53:41.881877"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 04:55:06', '2015-12-23 04:55:06', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 04:55:06', '2015-12-23 04:55:06', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:55:06', '2015-12-23 04:55:06', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:55:06', '2015-12-23 04:55:06', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:55:06', '2015-12-23 04:55:06', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:55:06', '2015-12-23 04:55:06', 298486374)
  [1m[36m (35.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.8ms)
  Rendered users/new.html.erb within layouts/application (270.8ms)
Completed 200 OK in 467ms (Views: 461.4ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$Igw67MLeXJm96djyBTHcte2YE6546U7uOr8wx7bHq/ElWZ7WtlhsC"], ["created_at", "2015-12-23 04:55:07.313618"], ["updated_at", "2015-12-23 04:55:07.313618"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$K9Ffp4k4iwnigBlXK5VuZO5gX0V8Po1CBN/n.DkTzoQqL0NqARZxK"], ["created_at", "2015-12-23 04:55:07.363173"], ["updated_at", "2015-12-23 04:55:07.363173"]]
  [1m[35m (1.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 20:55:07 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 16ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-22 20:55:07 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.3ms)
  Rendered users/new.html.erb within layouts/application (4.2ms)
Completed 200 OK in 14ms (Views: 5.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 20:55:07 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-22 20:55:07 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$XBTMPC5RGgS8lymjQjWC4ejcxCUZBS0FEqLo7Aem0oIs2acCbenwG"], ["created_at", "2015-12-23 04:55:07.479319"], ["updated_at", "2015-12-23 04:55:07.479319"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 04:55:55', '2015-12-23 04:55:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 04:55:55', '2015-12-23 04:55:55', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:55:55', '2015-12-23 04:55:55', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:55:55', '2015-12-23 04:55:55', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:55:55', '2015-12-23 04:55:55', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 04:55:55', '2015-12-23 04:55:55', 298486374)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$LXNAFsM9uLAHsnu/5a9c5OO1e50d3eLB.I37NkZLv9SupYESb8vam"], ["created_at", "2015-12-23 04:55:56.072416"], ["updated_at", "2015-12-23 04:55:56.072416"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$gtnB2eBKMVSFZ3DTPcCRwenE8oopx026hT9HdhtG.7rVIdm1HlTVq"], ["created_at", "2015-12-23 04:55:56.103191"], ["updated_at", "2015-12-23 04:55:56.103191"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered users/new.html.erb within layouts/application (18.0ms)
Completed 200 OK in 207ms (Views: 206.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 20:55:56 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 12ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-22 20:55:56 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (1.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.2ms)
  Rendered users/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 17ms (Views: 6.4ms | ActiveRecord: 1.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (27.8ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 20:55:56 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-22 20:55:56 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$5wTTLdlxTvIwMztysO9OFuzOO143Mexge.aprHU4Qcr01a4.fri3u"], ["created_at", "2015-12-23 04:55:56.456449"], ["updated_at", "2015-12-23 04:55:56.456449"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 05:06:10', '2015-12-23 05:06:10', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 05:06:10', '2015-12-23 05:06:10', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:06:10', '2015-12-23 05:06:10', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:06:10', '2015-12-23 05:06:10', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:06:10', '2015-12-23 05:06:10', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:06:10', '2015-12-23 05:06:10', 298486374)
  [1m[36m (1.7ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 21:06:10 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.1ms)
  Rendered users/new.html.erb within layouts/application (293.6ms)
Completed 200 OK in 754ms (Views: 741.3ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-22 21:06:11 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.3ms)
  Rendered users/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 68ms (Views: 6.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 21:06:11 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-22 21:06:11 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$bviFE2FXAf1vkQA1t./tfuv2B1RsbBL6eJA7OgeuYnryqKuoYryyW"], ["created_at", "2015-12-23 05:06:11.448363"], ["updated_at", "2015-12-23 05:06:11.448363"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$M8J.RmXDe45fAKyFhZOA3OtO44X5EYWLSY215qIvKMLzCos29CNbW"], ["created_at", "2015-12-23 05:06:11.472789"], ["updated_at", "2015-12-23 05:06:11.472789"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$Bw.i35dJPHtqBp.VXdpCgOjEPnpQ/hZvaJjQ6rAcf3TIibXM2Od36"], ["created_at", "2015-12-23 05:06:11.543569"], ["updated_at", "2015-12-23 05:06:11.543569"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "skate_spots_id" integer) [0m
  [1m[35m (2.5ms)[0m  CREATE TABLE "ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "difficulty" integer, "police" integer, "pedestrian" integer, "time" varchar, "description" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "skate_spots_id" integer) 
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "skate_spots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "location_id" integer, "name" varchar) [0m
  [1m[35m (1.6ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "password_digest" varchar, "remember_digest" varchar) 
  [1m[36m (0.2ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (7.0ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151223050844')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223002646')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220214651')
  [1m[36m (1.4ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223020947')[0m
  [1m[35m (21.6ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151223022533')
  [1m[36m (1.6ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220214013')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220213928')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220214806')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151223022333')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220214536')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220213753')
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "ratings"
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 05:17:08', '2015-12-23 05:17:08', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 05:17:08', '2015-12-23 05:17:08', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "locations"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:17:08', '2015-12-23 05:17:08', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:17:08', '2015-12-23 05:17:08', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:17:08', '2015-12-23 05:17:08', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:17:08', '2015-12-23 05:17:08', 298486374)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.9ms)
  Rendered users/new.html.erb within layouts/application (705.2ms)
Completed 200 OK in 1374ms (Views: 1366.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.7ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$idFIn3unvN88pZwWB999pugnpl9Pv06mJV8afxJB4fEsgW.zMFgOW"], ["created_at", "2015-12-23 05:17:10.352262"], ["updated_at", "2015-12-23 05:17:10.352262"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$g3gbGjBWZFbMTpg9nhwiieawGO.5AR6bx2GKRGoOG8hqfGyscmEUS"], ["created_at", "2015-12-23 05:17:10.371640"], ["updated_at", "2015-12-23 05:17:10.371640"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 21:17:10 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered users/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 15ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-22 21:17:10 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/new.html.erb within layouts/application (5.7ms)
Completed 200 OK in 17ms (Views: 7.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 21:17:10 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-22 21:17:10 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$0a1mUW3vNXTuFrZfN3cQSOJzUlolNO.2c2.IiJfYy3QJ9GN3T/aJO"], ["created_at", "2015-12-23 05:17:10.846188"], ["updated_at", "2015-12-23 05:17:10.846188"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.8ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 05:17:53', '2015-12-23 05:17:53', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 05:17:53', '2015-12-23 05:17:53', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:17:53', '2015-12-23 05:17:53', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:17:53', '2015-12-23 05:17:53', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:17:53', '2015-12-23 05:17:53', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:17:53', '2015-12-23 05:17:53', 298486374)
  [1m[36m (16.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.9ms)
  Rendered users/new.html.erb within layouts/application (301.8ms)
Completed 200 OK in 640ms (Views: 634.1ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$F4nyxf1IzWXNcTZ.pZKrBe0o.BaGhFTVCo/J9qvV7TRLq1vW93hI."], ["created_at", "2015-12-23 05:17:54.494209"], ["updated_at", "2015-12-23 05:17:54.494209"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$04OWsN5YkxapjgZcr/AqV.uIcs0q9gJWCj.GosBQVwVVLl/LPO.a6"], ["created_at", "2015-12-23 05:17:54.513500"], ["updated_at", "2015-12-23 05:17:54.513500"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 21:17:54 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (7.4ms)
Completed 200 OK in 19ms (Views: 9.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-22 21:17:54 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.5ms)
  Rendered users/new.html.erb within layouts/application (4.7ms)
Completed 200 OK in 16ms (Views: 6.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 21:17:54 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-22 21:17:54 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$siKE6p2/5cVQK1GQshmA6u79wcxX8bjRH.fI1uBU475uGJoNH009S"], ["created_at", "2015-12-23 05:17:54.671125"], ["updated_at", "2015-12-23 05:17:54.671125"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 05:18:02', '2015-12-23 05:18:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 05:18:02', '2015-12-23 05:18:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:18:02', '2015-12-23 05:18:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:18:02', '2015-12-23 05:18:02', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:18:02', '2015-12-23 05:18:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:18:02', '2015-12-23 05:18:02', 298486374)
  [1m[36m (1.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.9ms)
  Rendered users/new.html.erb within layouts/application (318.7ms)
Completed 200 OK in 539ms (Views: 533.5ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$pK52c.iYP9se0MxZylXmvuAGGHCZkD5t5guHzUI8Lm5YfiYvXKCfK"], ["created_at", "2015-12-23 05:18:03.366200"], ["updated_at", "2015-12-23 05:18:03.366200"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$ZvLxCsUxZlFI5pjxZFyuh.22MqGAkt7ywf1vbx07iADoQikKhie6G"], ["created_at", "2015-12-23 05:18:03.427659"], ["updated_at", "2015-12-23 05:18:03.427659"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 21:18:03 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 16ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-22 21:18:03 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered users/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 16ms (Views: 6.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 21:18:03 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-22 21:18:03 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$uuImmhskT1rs37GUU.m5fOc0n2E0.nRBMktJTUKKL6Mj1i9WcASAO"], ["created_at", "2015-12-23 05:18:03.521878"], ["updated_at", "2015-12-23 05:18:03.521878"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (3.3ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 05:19:54', '2015-12-23 05:19:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 05:19:54', '2015-12-23 05:19:54', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:19:54', '2015-12-23 05:19:54', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:19:54', '2015-12-23 05:19:54', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:19:54', '2015-12-23 05:19:54', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:19:54', '2015-12-23 05:19:54', 298486374)
  [1m[36m (6.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 21:19:54 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/new.html.erb within layouts/application (409.2ms)
Completed 200 OK in 6474ms (Views: 6460.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-22 21:20:01 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.3ms)
  Rendered users/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 1157ms (Views: 6.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 21:20:02 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-22 21:20:02 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$kwHO8hQ.1y9psK4G9sMi0uVJcukjEGzOTQQWky4jXrKz7FMaC9NwO"], ["created_at", "2015-12-23 05:20:02.251453"], ["updated_at", "2015-12-23 05:20:02.251453"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$YUY7BgfoPTmSoiQEdYE8ce5GPZL517zar.Wklmokm7iMj1VSrJg0G"], ["created_at", "2015-12-23 05:20:02.312487"], ["updated_at", "2015-12-23 05:20:02.312487"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$vEPrEYlAqBGuJ.No84Bga.XmP.jUdV8uVxzqt71n7.0mdQM57UcCC"], ["created_at", "2015-12-23 05:20:02.341376"], ["updated_at", "2015-12-23 05:20:02.341376"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 05:21:03', '2015-12-23 05:21:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 05:21:03', '2015-12-23 05:21:03', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:21:03', '2015-12-23 05:21:03', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:21:03', '2015-12-23 05:21:03', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '2015-12-23 05:21:03', '2015-12-23 05:21:03', 834146161)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:21:03', '2015-12-23 05:21:03', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:21:03', '2015-12-23 05:21:03', 298486374)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-22 21:21:03 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (435.9ms)
Completed 200 OK in 673ms (Views: 663.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-22 21:21:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 34ms (Views: 3.6ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-22 21:21:04 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.1ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 22ms (Views: 21.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-22 21:21:04 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (33.1ms)
Completed 200 OK in 35ms (Views: 34.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-22 21:21:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-22 21:21:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-22 21:21:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$Tw8JMg83KFk2Q9QogqqA/uVBrDUeWNERi4lNUmB6pyXSgiC7TLN8i"], ["created_at", "2015-12-23 05:21:04.243959"], ["updated_at", "2015-12-23 05:21:04.243959"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146162]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (2.6ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$caPmlYy76Cqvelpy.r8iMOepfqYZNLmjQOCwhV3Rub/kiKcWujR8G"], ["created_at", "2015-12-23 05:21:04.251628"], ["updated_at", "2015-12-23 05:21:04.251628"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered users/new.html.erb within layouts/application (8.4ms)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 21:21:04 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-22 21:21:04 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (6.0ms)
  Rendered users/new.html.erb within layouts/application (10.4ms)
Completed 200 OK in 34ms (Views: 20.9ms | ActiveRecord: 2.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.7ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 21:21:04 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 9ms (Views: 8.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-22 21:21:04 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$yYXva4qipQFCs9Qs3CWP2.zm4f9etLwMZ6aIizDmx.4xhwXXlMr/m"], ["created_at", "2015-12-23 05:21:04.380658"], ["updated_at", "2015-12-23 05:21:04.380658"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (1.8ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 05:23:02', '2015-12-23 05:23:02', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 05:23:02', '2015-12-23 05:23:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:23:02', '2015-12-23 05:23:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:23:02', '2015-12-23 05:23:02', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '2015-12-23 05:23:02', '2015-12-23 05:23:02', 834146161)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:23:02', '2015-12-23 05:23:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 05:23:02', '2015-12-23 05:23:02', 298486374)[0m
  [1m[35m (6.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 21:23:02 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.1ms)
  Rendered users/new.html.erb within layouts/application (305.6ms)
Completed 200 OK in 518ms (Views: 505.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-22 21:23:02 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.3ms)
  Rendered users/new.html.erb within layouts/application (29.2ms)
Completed 200 OK in 47ms (Views: 30.9ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-22 21:23:02 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[36m (2.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-22 21:23:02 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$n/vSHBokEcWIUsTPOj86yOnehSBkI4.2wBlznqXbT8LSlhRIgGTVq"], ["created_at", "2015-12-23 05:23:03.003204"], ["updated_at", "2015-12-23 05:23:03.003204"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$7mpDZ8mSllMYwMkZl.bk4OouahT8H3kpNWmY.kCb8QR9Qj5ygrRo."], ["created_at", "2015-12-23 05:23:03.010684"], ["updated_at", "2015-12-23 05:23:03.010684"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$Q88Xxlx1whvluiJ/Wk0FnuTVh78X2aTGmxsD895L6SjvQCjFfiFsS"], ["created_at", "2015-12-23 05:23:03.039690"], ["updated_at", "2015-12-23 05:23:03.039690"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146162]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-22 21:23:03 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-22 21:23:03 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-22 21:23:03 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-22 21:23:03 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-22 21:23:03 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-22 21:23:03 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (13.6ms)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-22 21:23:03 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 9ms (Views: 9.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 14:52:40', '2015-12-23 14:52:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 14:52:40', '2015-12-23 14:52:40', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:52:40', '2015-12-23 14:52:40', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:52:40', '2015-12-23 14:52:40', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '2015-12-23 14:52:40', '2015-12-23 14:52:40', 834146161)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:52:40', '2015-12-23 14:52:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:52:40', '2015-12-23 14:52:40', 298486374)[0m
  [1m[35m (19.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 06:52:40 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.9ms)
  Rendered users/new.html.erb within layouts/application (1470.5ms)
Completed 200 OK in 2914ms (Views: 2862.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 06:52:43 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (29.2ms)
  Rendered users/new.html.erb within layouts/application (32.2ms)
Completed 200 OK in 77ms (Views: 35.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 06:52:43 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 06:52:43 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$YnAx1GW44hkl7Wm9eeA48eyDSwDRrXdGz/FLbAhRo9NUiWleZcGmW"], ["created_at", "2015-12-23 14:52:43.851323"], ["updated_at", "2015-12-23 14:52:43.851323"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 06:52:43 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 06:52:43 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (25.1ms)
Completed 200 OK in 41ms (Views: 40.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:52:44 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 17ms (Views: 3.4ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 06:52:44 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (9.8ms)
Completed 200 OK in 24ms (Views: 22.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 06:52:44 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:52:44 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:52:44 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:52:44 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$e8nIuuK6UFrZIF/v5KnaAeNytGmUcIaR2ydNgMr98QyLcMTvYjP6u"], ["created_at", "2015-12-23 14:52:44.183689"], ["updated_at", "2015-12-23 14:52:44.183689"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146162]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.2ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$pLv8hQaiSv3YIot.ljhroO3qmovp7OSaYeB3C0x32v4fm9fI/KMXq"], ["created_at", "2015-12-23 14:52:44.228095"], ["updated_at", "2015-12-23 14:52:44.228095"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 14:53:24', '2015-12-23 14:53:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 14:53:24', '2015-12-23 14:53:24', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:53:24', '2015-12-23 14:53:24', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:53:24', '2015-12-23 14:53:24', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '2015-12-23 14:53:24', '2015-12-23 14:53:24', 834146161)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:53:24', '2015-12-23 14:53:24', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:53:24', '2015-12-23 14:53:24', 298486374)[0m
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 06:53:24 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (342.2ms)
Completed 200 OK in 712ms (Views: 703.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:53:25 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 6ms (Views: 2.9ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 06:53:25 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (47.1ms)
Completed 200 OK in 51ms (Views: 49.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:53:25 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:53:25 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 06:53:25 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:53:25 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 06:53:25 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.9ms)
  Rendered users/new.html.erb within layouts/application (11.3ms)
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 06:53:25 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$iHO4E0s0cl8W8BREarb28.vafxf3JTORLP4fU391rf286fJlUuZgW"], ["created_at", "2015-12-23 14:53:25.287337"], ["updated_at", "2015-12-23 14:53:25.287337"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 06:53:25 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 06:53:25 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered users/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 13ms (Views: 6.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 06:53:25 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 7ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$lpBpLW3HvDV1MTea9jsO8.L8CtQiZezd3niTvwXI3GEFM/2wx4tjS"], ["updated_at", "2015-12-23 14:53:25.360548"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (148.4ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$OasDgHJJNxiUA4VjzkaZaOOmQABL4csCq0e0BKQLh4ggbnpm4Ly3C"], ["updated_at", "2015-12-23 14:53:25.389552"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$.4A.q1/9FZBQGtEdXSSLKecLd/CSEVWi9F5CSOWM3gt.bcglL2/JW"], ["updated_at", "2015-12-23 14:53:25.548622"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$xxI2oAMBmb52UzrszNdEWeYwkEtR6MoR8u0SrrPWmkHL6MqLXYkWq"], ["created_at", "2015-12-23 14:53:25.561169"], ["updated_at", "2015-12-23 14:53:25.561169"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$U7113vbZaiXZgaxKXvOFPOB18cnw0RgLM0eW0f/NV864VPl2GiWXi"], ["created_at", "2015-12-23 14:53:25.581636"], ["updated_at", "2015-12-23 14:53:25.581636"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146162]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 14:54:40', '2015-12-23 14:54:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 14:54:40', '2015-12-23 14:54:40', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:54:40', '2015-12-23 14:54:40', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:54:40', '2015-12-23 14:54:40', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '2015-12-23 14:54:40', '2015-12-23 14:54:40', 834146161)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:54:40', '2015-12-23 14:54:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:54:40', '2015-12-23 14:54:40', 298486374)[0m
  [1m[35m (6.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 06:54:41 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (521.6ms)
Completed 200 OK in 1299ms (Views: 1152.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:54:42 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 7ms (Views: 3.2ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 06:54:42 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (43.4ms)
Completed 200 OK in 48ms (Views: 47.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:54:42 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:54:42 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 06:54:42 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:54:42 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (18.1ms)
  Rendered users/new.html.erb within layouts/application (25.4ms)
Completed 200 OK in 29ms (Views: 28.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$zWHvdIBMgqSrX7qSk5NwG.2pZ6hpA6k6/PHbC3vn4fH8RHLqqxiDu"], ["updated_at", "2015-12-23 14:54:42.474557"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$6gY3vTlKdRFFRxFGY2No5eOPJD/b3ZgmMWtW/1.g393KNzmTPYTCi"], ["updated_at", "2015-12-23 14:54:42.483555"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$etdX4WeHxMxK2tri9bvnGO/ng6Gcm/KSLKD6BxJhJC8sUuoqqkvtq"], ["updated_at", "2015-12-23 14:54:42.490485"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$H5EfgHUAvlRlBxMqtPYE1exmrKJDcYygamDpeyB3L221TN/gS3zOW"], ["created_at", "2015-12-23 14:54:42.512372"], ["updated_at", "2015-12-23 14:54:42.512372"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146162]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (3.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$XwqMyMxWO936sHLFMQ92a.fHlGTOrCyQB8XrUtN7hq3pe6vfz.B5S"], ["created_at", "2015-12-23 14:54:42.597205"], ["updated_at", "2015-12-23 14:54:42.597205"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
UsersEditTest: test_successful_edit
-----------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 06:54:42 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 06:54:42 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 06:54:42 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (5.6ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 06:54:42 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (6.4ms)
  Rendered users/new.html.erb within layouts/application (12.5ms)
Completed 200 OK in 34ms (Views: 16.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 06:54:42 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 06:54:42 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$7yrP41nkcXVAVkQD0ROEBO7.bytW1Yz7wHHNzu7rXxjz6pO0KFOdq"], ["created_at", "2015-12-23 14:54:42.743165"], ["updated_at", "2015-12-23 14:54:42.743165"]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 8ms (ActiveRecord: 2.1ms)
  [1m[36m (1.4ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 14:57:26', '2015-12-23 14:57:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 14:57:26', '2015-12-23 14:57:26', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:57:26', '2015-12-23 14:57:26', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:57:26', '2015-12-23 14:57:26', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '2015-12-23 14:57:26', '2015-12-23 14:57:26', 834146161)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:57:26', '2015-12-23 14:57:26', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:57:26', '2015-12-23 14:57:26', 298486374)[0m
  [1m[35m (6.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/new.html.erb within layouts/application (325.2ms)
Completed 200 OK in 739ms (Views: 734.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 06:57:26 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered users/new.html.erb within layouts/application (7.8ms)
Completed 200 OK in 21ms (Views: 11.4ms | ActiveRecord: 0.0ms)
  [1m[35m (4.7ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 06:57:26 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.6ms)
  Rendered users/new.html.erb within layouts/application (4.7ms)
Completed 200 OK in 35ms (Views: 6.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 06:57:26 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 06:57:26 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$ZwlahIETgS.7gTbsNctC.OSV83ApLMxxZSaSBo34y7y6pnsQhUhYC"], ["created_at", "2015-12-23 14:57:26.971181"], ["updated_at", "2015-12-23 14:57:26.971181"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (2.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$NlMH3uLT3PNlJ7QQetTTS.uaC0s4dmttoxWo8Q0kao3fEI0r0DCn6"], ["created_at", "2015-12-23 14:57:27.028544"], ["updated_at", "2015-12-23 14:57:27.028544"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$zbDhC756smwhb2sXhwB.YuFGHRAJNWY1NKb0yK3mhfWnpaqXyHAFe"], ["created_at", "2015-12-23 14:57:27.036352"], ["updated_at", "2015-12-23 14:57:27.036352"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146162]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 06:57:27 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.1ms)
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:57:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 11ms (Views: 3.8ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 06:57:27 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 15ms (Views: 13.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:57:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:57:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 06:57:27 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 10ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:57:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$Lmw77YZ.fymlwQBIqI4fReIHOkk5LV2Fd5jSnDd68PNk2aaqtW4ea"], ["updated_at", "2015-12-23 14:57:27.189040"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$.U8w8uvdX2tCft4.CV5Dte/h58A.o2GD9qV8cbdNd9nWGThKEqFC."], ["updated_at", "2015-12-23 14:57:27.196220"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$sHSIn13BMWkgC3aNkRJloeGMBVzyLMhzBnTuSq0Zj0/CbFdHe7diK"], ["updated_at", "2015-12-23 14:57:27.207542"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
UsersEditTest: test_successful_edit
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:57:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:57:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 14:58:09', '2015-12-23 14:58:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 14:58:09', '2015-12-23 14:58:09', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:58:09', '2015-12-23 14:58:09', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:58:09', '2015-12-23 14:58:09', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '2015-12-23 14:58:09', '2015-12-23 14:58:09', 834146161)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:58:09', '2015-12-23 14:58:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 14:58:09', '2015-12-23 14:58:09', 298486374)[0m
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 06:58:09 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/new.html.erb within layouts/application (313.7ms)
Completed 200 OK in 633ms (Views: 611.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 06:58:09 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (28.2ms)
  Rendered users/new.html.erb within layouts/application (30.6ms)
Completed 200 OK in 56ms (Views: 32.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 06:58:09 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 06:58:09 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$FEEEXZ6rnmLbjWhrG6pcoe9ic5WjNqU4I2gYdJvZRdEsjM4kDai3K"], ["created_at", "2015-12-23 14:58:09.833501"], ["updated_at", "2015-12-23 14:58:09.833501"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$QR7dGwQpUFtKPg5admqxTeMjNuuC.C2ixP54GmbZL92TSCeef70TW"], ["updated_at", "2015-12-23 14:58:09.845449"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$qF/AUs2T7lrvgzLrwzNk1.6ZyrhlYk5bg4JxNxafWaLL5B5p0Ftrm"], ["updated_at", "2015-12-23 14:58:09.858902"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$x47Brr8ir0rCExL.jymF2O8ZMzchE/QKDjAy2kAd2i2hMVZBJB12G"], ["updated_at", "2015-12-23 14:58:09.868230"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$aXbkqpk895IcxKAPttHn3ubIggcxIvYKJ9o8UCyTzJ.kD6pBa7JXC"], ["created_at", "2015-12-23 14:58:09.891066"], ["updated_at", "2015-12-23 14:58:09.891066"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$xl0F36kv5Xqf43EpQYi9jeT666vbKiKljc2th369XMd1OAAa/W3oS"], ["created_at", "2015-12-23 14:58:09.926816"], ["updated_at", "2015-12-23 14:58:09.926816"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146162]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered users/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:58:09 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
UsersEditTest: test_successful_edit
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:58:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:58:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 06:58:10 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (7.4ms)
Completed 200 OK in 15ms (Views: 14.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:58:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 06:58:10 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 15ms (Views: 14.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:58:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 06:58:10 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (11.0ms)
Completed 200 OK in 17ms (Views: 16.2ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 06:58:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 15:00:23', '2015-12-23 15:00:23', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 15:00:23', '2015-12-23 15:00:23', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:00:23', '2015-12-23 15:00:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:00:23', '2015-12-23 15:00:23', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$3738HkhXZ1m5rGRh7xB.Pe/TBmokHQ33Yqjkpub3T2PcggGL02XHi', '2015-12-23 15:00:23', '2015-12-23 15:00:23', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$qttfz7fDTXKb9R/FWUuQW..I.iAR0i5HNCANxB0r3EdvLVxW/Kgk.', '2015-12-23 15:00:23', '2015-12-23 15:00:23', 436798503)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:00:23', '2015-12-23 15:00:23', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:00:23', '2015-12-23 15:00:23', 298486374)
  [1m[36m (1.5ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/new.html.erb within layouts/application (346.7ms)
Completed 200 OK in 980ms (Views: 980.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:00:24 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
UsersEditTest: test_successful_edit
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:00:24 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 07:00:24 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:00:24 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 07:00:24 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:00:24 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 07:00:24 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:00:24 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:00:24 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$WcrlIgkzHR9rvxqVKPi/fumQjln5.S6EHLn7ZMvKOHzd5qv1WQUAe"], ["updated_at", "2015-12-23 15:00:24.607667"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$je3Nh5jy9Qg8I3qAD25VBeMLw2PHouC2yfve07ADiATEV0MHNuGzq"], ["updated_at", "2015-12-23 15:00:24.615703"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$BIqKDmTxW2My7a9zyh41GuJCDCwB.ZLd/aZX3v4YQ/n1vT.0vmkK."], ["updated_at", "2015-12-23 15:00:24.628732"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$OYCVcx1ABobPRX1fJo5jz.7/if8ugljFUDWPk43EtSWlU2xm9uPnS"], ["created_at", "2015-12-23 15:00:24.669834"], ["updated_at", "2015-12-23 15:00:24.669834"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146162]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$QpYjY1kpX3pEqiUQSKjOy.yX9uiQcNZutmg/7fSAnDJ/bBVl0RdOy"], ["created_at", "2015-12-23 15:00:24.698938"], ["updated_at", "2015-12-23 15:00:24.698938"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 07:00:24 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 07:00:24 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (3.3ms)
  Rendered users/new.html.erb within layouts/application (7.3ms)
Completed 200 OK in 22ms (Views: 10.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 07:00:24 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 07:00:24 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$oB6zc.Izv4ni42y/NVJlCOf9BNNyIlSwDZMWgPYZ42Qq4FK6Td9t2"], ["created_at", "2015-12-23 15:00:24.793896"], ["updated_at", "2015-12-23 15:00:24.793896"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 15:02:54', '2015-12-23 15:02:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 15:02:54', '2015-12-23 15:02:54', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:02:54', '2015-12-23 15:02:54', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:02:54', '2015-12-23 15:02:54', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$zAqSuC8lq4MazI6z1qA5/elAWj8Im2nqpnMFUXV4uJhDRy6abtyvy', '2015-12-23 15:02:54', '2015-12-23 15:02:54', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$T/XzzP5fuPSJ69tXCbcb8uQOLN0uWDLjAYleY8oq.tBR7qRmzVib2', '2015-12-23 15:02:54', '2015-12-23 15:02:54', 436798503)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:02:54', '2015-12-23 15:02:54', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:02:54', '2015-12-23 15:02:54', 298486374)
  [1m[36m (6.6ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 07:02:54 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/new.html.erb within layouts/application (398.3ms)
Completed 200 OK in 708ms (Views: 695.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 07:02:55 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (29.0ms)
  Rendered users/new.html.erb within layouts/application (32.2ms)
Completed 200 OK in 50ms (Views: 34.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 07:02:55 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 07:02:55 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Nb5Tv6F5GYPcLvujIi7e0u1lto8bSpm.E4l.l0c6GABujIwua3Zoq"], ["created_at", "2015-12-23 15:02:55.403405"], ["updated_at", "2015-12-23 15:02:55.403405"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$VK76LfGHt8IUabsqfTWFC.KhhYfH3rswFut8aQrOxrXGRTbvGddRu"], ["created_at", "2015-12-23 15:02:55.411511"], ["updated_at", "2015-12-23 15:02:55.411511"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (2.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$otUwtkrQD0G3aJdW2coTPeZuKWWr2.WINn140Mk9CUqfvw.XmXmWm"], ["created_at", "2015-12-23 15:02:55.471898"], ["updated_at", "2015-12-23 15:02:55.471898"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146162]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:02:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 07:02:55 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$58Sfu0J3jA6fov5Yl0d5yOIzDlwYE89L7W9egvfecENWzbRtEDc7e"], ["updated_at", "2015-12-23 15:02:55.525504"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$crLlPESg41dWztPkStkUO.3ajCXaV7E7BPU.PYRneSnmmLok/KT92"], ["updated_at", "2015-12-23 15:02:55.532650"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$FmPtdvOX7qx1zWQfpqU6VeRHjlOwm8rQOwdhBPGtlex5BCOOl6NU."], ["updated_at", "2015-12-23 15:02:55.542235"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 07:02:55 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:02:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:02:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:02:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 07:02:55 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:02:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 07:02:55 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (1.1ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (14.2ms)
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 1.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 15:04:50', '2015-12-23 15:04:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 15:04:50', '2015-12-23 15:04:50', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:04:50', '2015-12-23 15:04:50', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:04:50', '2015-12-23 15:04:50', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$o44g4eqvu5U7JMIZOn6KZuFhD2UqDSLVhTkWg6a7xADFx10ukHD82', '2015-12-23 15:04:50', '2015-12-23 15:04:50', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$dktGH.xmhnGAYLwK6aUATujZj3vsYXyicw4S8egk1AANk/Xp56QbG', '2015-12-23 15:04:50', '2015-12-23 15:04:50', 436798503)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:04:50', '2015-12-23 15:04:50', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:04:50', '2015-12-23 15:04:50', 298486374)
  [1m[36m (1.8ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 07:04:50 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/new.html.erb within layouts/application (307.1ms)
Completed 200 OK in 5077ms (Views: 5064.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 07:04:55 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.3ms)
  Rendered users/new.html.erb within layouts/application (4.8ms)
Completed 200 OK in 32ms (Views: 6.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 07:04:55 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 07:04:55 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$F7i85DvGCdJhyH9LvDnmuODfr13zEiL8Q3UyXrc/avNkwWBvDCecm"], ["created_at", "2015-12-23 15:04:55.421097"], ["updated_at", "2015-12-23 15:04:55.421097"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 07:04:55 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:04:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (3.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$ywG3T.UglxnNqcH.BvZBNO2iuZx5D3qB91Z0PhRf/IrMPbof1SMc."], ["created_at", "2015-12-23 15:04:55.520080"], ["updated_at", "2015-12-23 15:04:55.520080"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146162]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$asbstqMEC/8X3NrDXa2S9eszTZcGoqrokanGfm3aEwl3Vu6Wkq7jK"], ["created_at", "2015-12-23 15:04:55.531215"], ["updated_at", "2015-12-23 15:04:55.531215"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 07:04:55 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (10.0ms)
Completed 200 OK in 13ms (Views: 13.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:04:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 07:04:55 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 07:04:55 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:04:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:04:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:04:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$AvqPs9GkYVqG7ihHamGTjuzXojNAPpARjjwQO9.KgqB0HMk0a1ZP2"], ["updated_at", "2015-12-23 15:04:55.652281"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (3.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$xWncG1hqr6vHnyBY4WBSA.WvuePZak4xb/h35LV4cA4Lzbnulk/2a"], ["updated_at", "2015-12-23 15:04:55.661264"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$dSHJ7deGs134wWTeqsFhDe9pMgia4X4q7dgtWc9KmGtCiQnrJ9CV6"], ["updated_at", "2015-12-23 15:04:55.672853"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 15:16:55', '2015-12-23 15:16:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 15:16:55', '2015-12-23 15:16:55', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:16:55', '2015-12-23 15:16:55', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:16:55', '2015-12-23 15:16:55', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$Y9ZYIY2ozNN5khRBQqDB4Oo50RNjjxL35W6RodvHttANXysIkgLHW', '2015-12-23 15:16:55', '2015-12-23 15:16:55', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$lopvFQNLVC/WTuG2HXvLfu1DH7ZWRZFP8SSzbGl6tRliLe0SkOrC.', '2015-12-23 15:16:55', '2015-12-23 15:16:55', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$JSLXVOG7p/3zu.RlY/IkY.vHcvvtqwHR2TTsSI8XddG91aFw7FMpy', '2015-12-23 15:16:55', '2015-12-23 15:16:55', 712064548)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:16:55', '2015-12-23 15:16:55', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:16:55', '2015-12-23 15:16:55', 298486374)[0m
  [1m[35m (3.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 07:16:55 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (590.7ms)
Completed 200 OK in 1262ms (Views: 1224.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:16:56 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 07:16:56 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:16:56 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 07:16:56 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (11.2ms)
Completed 200 OK in 17ms (Views: 15.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:16:56 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:16:56 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$i4KWf1H0VkXZG7AFUnAZN.6FCV4YYWEW3Rx5muM.rOw9me./EkWDu"], ["updated_at", "2015-12-23 15:16:56.937707"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.7ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$IeHtcQOClVs5x1hF5Nm6V.66KKFeaTZAlXSRtlLuYK67XL5etrBjW"], ["updated_at", "2015-12-23 15:16:56.949545"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$1pBW3.2g7.UnitJtBcQuH.RBBooslsEPtgl0cm0uFa65S1xLRjf4i"], ["updated_at", "2015-12-23 15:16:56.961206"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 07:16:56 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:16:57 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 07:16:57 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (33.3ms)
  Rendered users/new.html.erb within layouts/application (180.1ms)
Completed 200 OK in 189ms (Views: 188.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 07:16:57 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.5ms)
  Rendered users/new.html.erb within layouts/application (4.8ms)
Completed 200 OK in 26ms (Views: 6.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 07:16:57 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered users/new.html.erb within layouts/application (5.3ms)
Completed 200 OK in 19ms (Views: 18.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 07:16:57 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$wvvUCY0H6IDrD4ehfIsdfe9SlWteFxn7fMATufImU3prubfngDeQK"], ["created_at", "2015-12-23 15:16:57.278904"], ["updated_at", "2015-12-23 15:16:57.278904"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.9ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (8.2ms)
Completed 200 OK in 13ms (Views: 12.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$UZ0Cz1js5Oct1AGRw93noOL3eDhnzNEQ2xropHFfb4hHbrdHJy7dC"], ["created_at", "2015-12-23 15:16:57.378016"], ["updated_at", "2015-12-23 15:16:57.378016"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146162]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$Dl33MSs.9HtXm9tco7Vqqeh8tLmKCXtwJWOq3itvgwVy.Unt9ifhy"], ["created_at", "2015-12-23 15:16:57.409384"], ["updated_at", "2015-12-23 15:16:57.409384"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (1.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 15:37:37', '2015-12-23 15:37:37', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 15:37:37', '2015-12-23 15:37:37', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:37:37', '2015-12-23 15:37:37', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:37:37', '2015-12-23 15:37:37', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$Azf3XLVddSizGxtWgTYhdur135cJCdHxo6HBFNqUs3uCMJAZe8Jia', '2015-12-23 15:37:37', '2015-12-23 15:37:37', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$TFlp2dNH6F0rIOaL93Meg.6C9dtJdZIX.axG7V9mQcQDNSM1A3mBG', '2015-12-23 15:37:37', '2015-12-23 15:37:37', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$AJIC0ngW.fzn6M8gMwuOAuwcHp1wvMqgVXpspVmBnjNYqqqHEJrsO', '2015-12-23 15:37:37', '2015-12-23 15:37:37', 712064548)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:37:37', '2015-12-23 15:37:37', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:37:37', '2015-12-23 15:37:37', 298486374)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$b.mEsHditgKUu9YWzlQogOComFr/u8jLqCl3VKuFGqvqQU/w6ADWe"], ["created_at", "2015-12-23 15:37:39.117001"], ["updated_at", "2015-12-23 15:37:39.117001"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146162]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (2.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (3.0ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$hupxKxgkpFfXdDcK84na4Oyls71kZ36WDGMgQqf6/y0213.UalIbq"], ["created_at", "2015-12-23 15:37:39.169590"], ["updated_at", "2015-12-23 15:37:39.169590"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UsersIndexTest: test_index_including_pagination
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:37:39 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.8ms)
  Rendered users/new.html.erb within layouts/application (337.4ms)
Completed 200 OK in 1709ms (Views: 1708.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$IoE7c.2NLNKNh40DEX06t.L8.C5Y4F9OtJhEWp6SJF6iEeWbSC/8m"], ["updated_at", "2015-12-23 15:37:41.198903"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (64.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$b3hzD5Uy5C/MjQDyQCQUIOkJad1x5NRaw4g6xwIehnEPpf9xg0aEC"], ["updated_at", "2015-12-23 15:37:41.765225"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$E/bNEGewXdCKGj1CM/QK5unnnhUNX8GG8lTNVoOJXGWNFf.d1qL22"], ["updated_at", "2015-12-23 15:37:41.837876"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 07:37:41 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 07:37:41 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (3.4ms)
  Rendered users/new.html.erb within layouts/application (5.9ms)
Completed 200 OK in 18ms (Views: 7.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 07:37:41 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 07:37:41 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$bycqrcmSIiHyHMYzdGpsCeINMleUmIskAhAl8kNT/D4ZV4fgRtD52"], ["created_at", "2015-12-23 15:37:41.971491"], ["updated_at", "2015-12-23 15:37:41.971491"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:37:41 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 07:37:41 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
Completed 200 OK in 13ms (Views: 12.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:37:42 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 7ms (Views: 5.6ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 07:37:42 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (10.4ms)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 07:37:42 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 9ms (Views: 9.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:37:42 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:37:42 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 07:37:42 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:37:42 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 15:40:51', '2015-12-23 15:40:51', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 15:40:51', '2015-12-23 15:40:51', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:40:51', '2015-12-23 15:40:51', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:40:51', '2015-12-23 15:40:51', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$8SWbGCdK0NrJuwuxHPouBuC8WaglMA4HeaZbKZHCLKIwxb4DJhK.e', '2015-12-23 15:40:51', '2015-12-23 15:40:51', 834146161)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$dWr59mEG2ka0/W.lEUP7SeXOEBn5U1yJ7mG4ifbcz.KIcy60C3bPu', '2015-12-23 15:40:51', '2015-12-23 15:40:51', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$Li3GKf1C.JfM3glhQvUsQuMx5TeP4hAxmI0WYPXQr2eEE5XAYNWAu', '2015-12-23 15:40:51', '2015-12-23 15:40:51', 712064548)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:40:51', '2015-12-23 15:40:51', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:40:51', '2015-12-23 15:40:51', 298486374)[0m
  [1m[35m (3.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (2.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (44.1ms)
  Rendered users/new.html.erb within layouts/application (992.4ms)
Completed 200 OK in 2035ms (Views: 2034.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 34ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$jRmXwN.Diba77bZJDAr9fOT.w88c3zAap2pJ.rc.eeR0g5ZXB4.BG"], ["updated_at", "2015-12-23 15:40:53.320462"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (31.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$c2sx0b6EIN2sZO4M6SLe3e8yW2Ti3O7/zDYnSShYiSH648FApWpiS"], ["updated_at", "2015-12-23 15:40:53.567111"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$211Y5C2uxa73.L8NIiFqC.ojae50Svw2wsPHLAMquzCTGWupa.dDS"], ["updated_at", "2015-12-23 15:40:53.609403"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 07:40:53 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 12ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 07:40:53 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.8ms)
  Rendered users/new.html.erb within layouts/application (5.5ms)
Completed 200 OK in 28ms (Views: 7.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 07:40:53 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 07:40:53 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$8.otnr9iuDqxaOd4ZhVZyOKow0iX1BYoQjORAv2lPMDGiVlA9W/A2"], ["created_at", "2015-12-23 15:40:53.754497"], ["updated_at", "2015-12-23 15:40:53.754497"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UsersIndexTest: test_index_including_pagination
-----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:40:53 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 07:40:53 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:40:53 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$3E5UztBgNxdP24Db2ZRrr.bQqlegRavpv/kX6coxdFG0gOm5dpOIq"], ["created_at", "2015-12-23 15:40:53.804387"], ["updated_at", "2015-12-23 15:40:53.804387"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146162]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$TuZRthK0q8YralQRW6IUuOUh3tzTBjvAbEjCcjCIxIXqcR6JtXASq"], ["created_at", "2015-12-23 15:40:53.840551"], ["updated_at", "2015-12-23 15:40:53.840551"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 07:40:53 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (29.8ms)
Completed 200 OK in 36ms (Views: 35.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:40:53 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 07:40:53 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:40:53 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 07:40:54 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (12.2ms)
Completed 200 OK in 17ms (Views: 15.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:40:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:40:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (2.1ms)[0m  [1mCREATE TABLE "locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "skate_spots_id" integer) [0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "difficulty" integer, "police" integer, "pedestrian" integer, "time" varchar, "description" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "skate_spots_id" integer) 
  [1m[36m (2.1ms)[0m  [1mCREATE TABLE "skate_spots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "location_id" integer, "name" varchar) [0m
  [1m[35m (79.3ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "password_digest" varchar, "remember_digest" varchar, "admin" boolean DEFAULT 'f') 
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (159.8ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (1.7ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.7ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151223154827')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223002646')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151223050844')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220214651')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151223020947')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223022533')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220214013')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220213928')[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220214806')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223022333')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220214536')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220213753')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 15:55:19', '2015-12-23 15:55:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 15:55:19', '2015-12-23 15:55:19', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:55:19', '2015-12-23 15:55:19', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:55:19', '2015-12-23 15:55:19', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$69lWDyhNssDcXAP9bEu5FeSIiFRIEbnVU3XgniAj1QJpFTfp7j4tS', 't', '2015-12-23 15:55:19', '2015-12-23 15:55:19', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$yTPhKUku9zFJ6a6iLWeU8ev.ISu9c.H7vsWDzh2D2Y5wzKLmm3id2', '2015-12-23 15:55:19', '2015-12-23 15:55:19', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$UyQsTfrjksLysZn7eyRmSOSSPyMMbhIzUmYAqLz7faWjs9/gN.V7q', '2015-12-23 15:55:19', '2015-12-23 15:55:19', 712064548)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:55:19', '2015-12-23 15:55:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 15:55:19', '2015-12-23 15:55:19', 298486374)[0m
  [1m[35m (112.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 07:55:20 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 49ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:55:20 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (1.8ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (43.7ms)
  Rendered users/new.html.erb within layouts/application (2272.1ms)
Completed 200 OK in 3222ms (Views: 3221.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$.TGBucPp8TsJ5r7DBeSxNu1Fm2q7TC7j/COXAastBRS66kThjWxJG"], ["updated_at", "2015-12-23 15:55:23.669184"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (23.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$SqoMi9pfHSc192RdW9PdHeZrFwEMyjICTtFNjnMx1TJwMWBAFziay"], ["updated_at", "2015-12-23 15:55:23.716364"], ["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$nmoI2wMv9p4YGI4Udm/dpucKojvU/9Fhb6iEDijFxy7O9ACR6/mwC"], ["updated_at", "2015-12-23 15:55:23.748340"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:55:23 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:55:23 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 07:55:23 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 11ms (Views: 10.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:55:23 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 07:55:23 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.2ms)
Completed 200 OK in 9ms (Views: 8.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:55:23 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 07:55:23 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "elissa@steamer.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$al4dnZJBvxT.Dxam2Om7buh262ggbwEZzShUeplWl1NUXfGgxoUj2"], ["created_at", "2015-12-23 15:55:23.888287"], ["updated_at", "2015-12-23 15:55:23.888287"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["email", "foo@example.com"], ["name", "Elissa Steamer"], ["password_digest", "$2a$04$VVljjZ3IQ4ImqoD.IZEig.98AS7mHM8C5xsWVGy8FU2mtOZQb0Vnu"], ["created_at", "2015-12-23 15:55:23.994078"], ["updated_at", "2015-12-23 15:55:23.994078"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146162]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:55:24 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kimberly@example.com"]]
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms)
  [1m[36m (1.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 07:55:24 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 07:55:24 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 07:55:24 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (5.4ms)
  Rendered users/new.html.erb within layouts/application (11.1ms)
Completed 200 OK in 32ms (Views: 19.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 07:55:24 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/new.html.erb within layouts/application (5.1ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 07:55:24 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$v/csoHlArWwdHxbZE.ZM6.Pm/Zza1cTzLhIpVse7/MXcEbn/poh/i"], ["created_at", "2015-12-23 15:55:24.116462"], ["updated_at", "2015-12-23 15:55:24.116462"]]
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "skate_spots_id" integer) [0m
  [1m[35m (1.9ms)[0m  CREATE TABLE "ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "difficulty" integer, "police" integer, "pedestrian" integer, "time" varchar, "description" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "skate_spots_id" integer) 
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "skate_spots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "location_id" integer, "name" varchar) [0m
  [1m[35m (1.7ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "password_digest" varchar, "remember_digest" varchar, "admin" boolean DEFAULT 'f', "activation_digest" varchar, "activated" boolean DEFAULT 'f', "activated_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (1.7ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (1.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151223184753')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223002646')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151223154827')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223050844')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220214651')
  [1m[36m (1.1ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223020947')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151223022533')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220214013')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220213928')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220214806')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151223022333')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220214536')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220213753')
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:04:52', '2015-12-23 19:04:52', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:04:52', '2015-12-23 19:04:52', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:04:52', '2015-12-23 19:04:52', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:04:52', '2015-12-23 19:04:52', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$5LOJvvrGgY0zsi7ku1exoe22iQOsgHeA7rPAGangC7hWZ74DIWj.S', 't', 't', '2015-12-23 19:04:51 UTC', '2015-12-23 19:04:52', '2015-12-23 19:04:52', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$eu/rE7WO/2ArYHx2mmpic.jmccelXW6RUMXJXKDUDlO88tIv1BHky', 't', '2015-12-23 19:04:51 UTC', '2015-12-23 19:04:52', '2015-12-23 19:04:52', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$NwvdLj3SKYbcgzJ6wWUYj.6LaAjv/LSE6ATaLEZ/rTqpe3UR/Vs5i', 't', '2015-12-23 19:04:51 UTC', '2015-12-23 19:04:52', '2015-12-23 19:04:52', 712064548)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:04:52', '2015-12-23 19:04:52', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:04:52', '2015-12-23 19:04:52', 298486374)[0m
  [1m[35m (1.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (23.9ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.8ms)

UserMailer#account_activation: processed outbound mail in 91.3ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:06:02', '2015-12-23 19:06:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:06:02', '2015-12-23 19:06:02', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:06:02', '2015-12-23 19:06:02', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:06:02', '2015-12-23 19:06:02', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$woaJwRR7BPIa9tYcVKr9AuWd1HyXZdAZSBtvOyip7QDtHMvXh..na', 't', 't', '2015-12-23 19:06:02 UTC', '2015-12-23 19:06:02', '2015-12-23 19:06:02', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$1ImaKwYbyIWphWnjnz1yKuWigSrQ/YEvR.gYUGV97OTC5k0t58V.m', 't', '2015-12-23 19:06:02 UTC', '2015-12-23 19:06:02', '2015-12-23 19:06:02', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$c0gRE.ka9V4bvDvnEmm29uz7kJEcZqjZMS0rTrbHQ5.uJcx8EVV2C', 't', '2015-12-23 19:06:02 UTC', '2015-12-23 19:06:02', '2015-12-23 19:06:02', 712064548)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:06:02', '2015-12-23 19:06:02', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:06:02', '2015-12-23 19:06:02', 298486374)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/_form.html.erb (409.9ms)
  Rendered users/new.html.erb within layouts/application (433.8ms)
Completed 200 OK in 3905ms (Views: 3904.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$5Pg7.GQdfpPJoEDqhbICr.h2MVbNRJL8UN2O2khRuXmm8drKqpfN2"], ["updated_at", "2015-12-23 19:06:06.171404"], ["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (51.4ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$dyEgF5HKyU67cSYtSSfOluHUIvcLtTVJAJICVK9/EJVZicjtJGUGy"], ["updated_at", "2015-12-23 19:06:06.244935"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$UKLwjIChwwvnHFg7Z1BPvOVAop/HSmbeDupBCj1J8rcdN50Hx96lG"], ["updated_at", "2015-12-23 19:06:06.448295"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (1.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$oZ8gu8cLaqs0LE2WoxC4KerLBwgoEGycZmYJECr9UoGg9b1WZpCvW"], ["updated_at", "2015-12-23 19:06:06.562994"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.1ms)
  Rendered users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (1.8ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered users/_form.html.erb (4.6ms)
  Rendered users/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 27ms (Views: 6.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.3ms)
  Rendered users/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$s1H42TUJZsPxbhYI8vhgjuNI7SGynU/yDkE2/tN7UG1cNkC398JGi"], ["created_at", "2015-12-23 19:06:06.644847"], ["updated_at", "2015-12-23 19:06:06.644847"], ["activation_digest", "$2a$04$5UndsdiCKWc2jQJPC2BeyeKIZ/2yhpM.AvZ2ctWroGObymBBr6yTy"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (41.6ms)
Completed 200 OK in 46ms (Views: 45.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (5.9ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$xf0sqTXedoVlV.b0kKVyXux/1ZvfaDVlhDlVijwQI1lebzNTqe0pa"], ["updated_at", "2015-12-23 19:06:06.762092"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 29ms (Views: 29.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$JhQ7pCEO8j3Sz0qVbub6tuELBdl8jciWvP934PaiUzBRWMngo5/aS"], ["updated_at", "2015-12-23 19:06:06.829342"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by UsersController#index as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$lORFAfV7F.m1EDbb3JnyB.KjTM.n8jAzLJAP/SEnth.lPf1Bdk5si"], ["updated_at", "2015-12-23 19:06:06.850150"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:06:06 -0800
Processing by UsersController#index as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$cNrM23hu883sMca5l8m7H.nXYDQaczF0nWf0K3vIGSX9HXRwOuocy"], ["created_at", "2015-12-23 19:06:06.880527"], ["updated_at", "2015-12-23 19:06:06.880527"], ["activation_digest", "$2a$04$e7wSKpifkAja499qbkzaM./HGlETDnMHWEgSpqG9iEp1dtDUk5/gy"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$M72tTR8q95RIfvyms0McFeAlTquPcNdmSO88lXloIlVHoFcZBWen6"], ["created_at", "2015-12-23 19:06:06.896258"], ["updated_at", "2015-12-23 19:06:06.896258"], ["activation_digest", "$2a$04$44BjJ9Y/ajuPVl.HZDvVfuvtnAknU5WM0VdbTpC/0v0Mu7meHI152"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146162]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (1.9ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.7ms)

UserMailer#account_activation: processed outbound mail in 14.1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:15:33', '2015-12-23 19:15:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:15:33', '2015-12-23 19:15:33', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:15:33', '2015-12-23 19:15:33', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:15:33', '2015-12-23 19:15:33', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$iHZMtpn9Fl22bUla88V32.Kh0agt8uEdW0Ngl7vBgnNE7Ay8I06/i', 't', 't', '2015-12-23 19:15:33 UTC', '2015-12-23 19:15:33', '2015-12-23 19:15:33', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$7MJIHMhDGD7vART8McOm2O7aCcC8DjDv5qMtSs21BMw4JrYFGxT7W', 't', '2015-12-23 19:15:33 UTC', '2015-12-23 19:15:33', '2015-12-23 19:15:33', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$WwmHy.91CDsNfItQilU0vOI1y2POkKArAn/R/ED44s/qTE1rZqWXW', 't', '2015-12-23 19:15:33 UTC', '2015-12-23 19:15:33', '2015-12-23 19:15:33', 712064548)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:15:33', '2015-12-23 19:15:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:15:33', '2015-12-23 19:15:33', 298486374)[0m
  [1m[35m (1.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:15:33 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (3.3ms)
  Rendered users/_form.html.erb (345.4ms)
  Rendered users/new.html.erb within layouts/application (351.7ms)
Completed 200 OK in 973ms (Views: 955.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.6ms)
  Rendered users/_form.html.erb (5.2ms)
  Rendered users/new.html.erb within layouts/application (5.4ms)
Completed 200 OK in 27ms (Views: 7.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.4ms)
  Rendered users/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$eU8QRXsEJUSVIrphHp6D2.aXo9Rsi73OfURvu/KmuTlaOMX9yJxhS"], ["created_at", "2015-12-23 19:15:34.414716"], ["updated_at", "2015-12-23 19:15:34.414716"], ["activation_digest", "$2a$04$gPRm5xBOvgNRz5kHRpFNAOAF3iLKHEU4qm6865QzfILVGFlxJ2uny"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.8ms)
Completed 200 OK in 22ms (Views: 21.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 23ms (Views: 21.6ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$koRc3XOAR2seqB3c1zw3Y.lpod5agNMOmODJY6nJiPDys/rnC.BNK"], ["updated_at", "2015-12-23 19:15:34.533697"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 14ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (16.7ms)
Completed 200 OK in 21ms (Views: 20.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$Fx.HvUE27pWZ2/IdB4nv2OhXqTo0Ib.QZ5kf21HyxMO6Yw1fHmyg6"], ["updated_at", "2015-12-23 19:15:34.597047"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (2.8ms)
  Rendered users/index.html.erb within layouts/application (12.4ms)
Completed 200 OK in 19ms (Views: 15.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$MtMwu4rZje8zD4GS2X8en.oQOVwdHyuVNW7hxODgTRFTF61wgFU7C"], ["updated_at", "2015-12-23 19:15:34.671128"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 11ms (ActiveRecord: 1.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (2.2ms)
  Rendered users/index.html.erb within layouts/application (6.2ms)
Completed 200 OK in 16ms (Views: 11.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$yNStBRMbG1eVds./XfGAjOtfvnxy9NJOXVJCNsDX9MgJ9jGsN7AT2"], ["updated_at", "2015-12-23 19:15:34.707777"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$1NZ4Etyy7oDPx9vuPNps4ekiN7v1DtGEI9Wj7FIWzyB7klJplqol."], ["updated_at", "2015-12-23 19:15:34.721027"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (4.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$bRvR2FFuYgwiI.nL5SZVietqMJHjvaJ9yF3gCvuy09ZVMRVWbspN6"], ["updated_at", "2015-12-23 19:15:34.726786"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.4ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$RhOqEDBnv7hSQcBN7hYrSeTszfV2N4NCIIsfANjISP3MJEcmcnlJq"], ["updated_at", "2015-12-23 19:15:34.744603"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 12ms (ActiveRecord: 0.5ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.5ms)
  Rendered users/edit.html.erb within layouts/application (5.6ms)
Completed 200 OK in 27ms (Views: 23.3ms | ActiveRecord: 0.1ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (3.8ms)
  Rendered users/_form.html.erb (7.1ms)
  Rendered users/edit.html.erb within layouts/application (7.4ms)
Completed 200 OK in 22ms (Views: 10.0ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$mTAnu48EKXy.5AWE5iAUieAWw4RQBqPPL9c8hiN2J8iq3Px93J4vS"], ["updated_at", "2015-12-23 19:15:34.832900"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:15:34 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 19:15:34.845567"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$d95sYgBRHofx11FXeRg7UO.SF4VWDK.c0Ary/QSUyBcUz78lfnAb2"], ["created_at", "2015-12-23 19:15:34.891086"], ["updated_at", "2015-12-23 19:15:34.891086"], ["activation_digest", "$2a$04$zHcfPZs3BWpqfyxPLrVm7eA.ZJ9TIKrB5JIIuNuDGS7heEDsQYsX."]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$EXmN7wm/doYHJLMaGZZwTu2XXjswyoIIDKdrAGzNP3L3WxY7GCnX."], ["created_at", "2015-12-23 19:15:34.920515"], ["updated_at", "2015-12-23 19:15:34.920515"], ["activation_digest", "$2a$04$eniDJXMcj/.8pHItgYmZee38TaJS0TuXpjacj23TYTJG.KmDiW2tW"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146162]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.4ms)
  Rendered users/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$IxDvAaAzZeKIzVEhQm4SzeueikJN1u2iWnV/OfS6o9sviUgbPJYHe"], ["updated_at", "2015-12-23 19:15:34.992666"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (1.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (1.9ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.5ms)

UserMailer#account_activation: processed outbound mail in 11.8ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:17:09', '2015-12-23 19:17:09', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:17:09', '2015-12-23 19:17:09', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$3cLyiMeA4vaMP2UhPx624eKnXonM/7jpSXoCKv8MEgzGYC9iPYcQq', 't', 't', '2015-12-23 19:17:09 UTC', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$lckR24IpzCSghK8YxHTvc.hguleza8QvjqdWmv9kwLb44lcDiuGcy', 't', '2015-12-23 19:17:09 UTC', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$dMPsNhjnOvP.TBn8FaSCHO457X7X2gr6f5lgvq/YhVwT.M1iIkxQm', 't', '2015-12-23 19:17:09 UTC', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$uh7n7io473/cFqDVCHXUDeHcvBbAJeL6b6Z5Js3gfBlwLlPZ.s.0a', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$Kfi26WNE3oR0vGVSESrzleM7DnD56BRZ1E9VuPtCWDNDBRzsynitu', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$IbOk7TiAdrxNt1AjDOOv/uxnE4IQBE3SgzycqTz40Pqy27K2yzVIy', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$tDjPk1x/sXCXuN5p2Aw0s.CqoEvzQbdQKUM/R7sXYtuXuekMqivzS', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$oB6oU92sxL0oqUUo9xc1l.G3HmZolSp.bPxC80yYmV.24kbYwhLLq', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$5VjLsbODWDxMvbgwQp8AN.nA8I9nxMg2x22Ciyyozdi0CP9hlXg3C', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$7GeV5IA5Nk0WPlzDW3.rGeyAyfoNeZxa097qt9GJzeKK6Wgr6uGEm', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$djXh.cKiE8NLOsiNKqw90Os4G0JFJVcXwZCl9c1Y7VZ95aIkplTim', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$HIPvQJ5qOGChEqwvPcDkjul4T9S5YagnNCMbl96gzgSk2HNY1H5Ai', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$ZDyDytHfN97nJbE6AAboyOfeb0EmUm15voYPfX/PRc66y9h40vTqK', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$v0YG8Q3lj.KvvLIV46iSZeHJxTCrkdhL44c5oXgGBbaw5qhKsalue', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$vvLSb5XUfiRewSG.CCO4GOypNbUrBnv02f4QwjDs7KXYNKDsBm3Om', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$MIMKllQBJhZPaf6ejN6tfuch6qAyG/bUMVbJnSqIcBcYgMaKzAk3a', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$lDSDUEN.oY88wnYgAsSRxOTvdvgao8VNxNmUCHuV0Gwmy3zp4bmf2', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$ct4E1pTtFptJjNAI7LUY8./sGedqlbONgaN7t9bD37bsFUDg.m6ki', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$YQq93onsxUdXkssOrX.RyOjFlTD0ZJKYY2QwXL3FRAxpCWEHUKIQ6', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$mk/wLQrrFomOSmxUO7yDt.b.AuYMcxBzIflxDB3ZLpaSrzCDDNG8O', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$hvwyZ9cNFn1ZrjXmOy38huq/Xeg8oYsiLHQ.sq9YNHIaBt2ZrBKo6', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$IuLXb2Vz1HfEFpbSn9mx3Ol4E1WT0JRE.5Dc15J3U9b/.BvnaEqQe', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$x2CgWjI1TeE0YB.BCGd72.NQmCEvq6wqoqNobclfzt3i9WwfFQf7q', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$okCHc7KbO2V9N2xhZBtzo.yIRw2baWGqGOR6awW27RsJeHVwqQEay', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$VWPB9yP1bgYGes/NB.eg1ukMwgmhj71j3HNfviH4hfjP3Aom95sHW', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$1Qg5hvlleee87CcUG1Zq2uUdQ8JEnnAicDXwKWlL9znDv2ym1Pgxq', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$zcOqBABn7WXsz6FDo6IuF.Rvnhe1DQIFF5Epv2i/rLi8vymX7o4Di', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$UGQNAU88PHc/pw1/NKSmauBYaOZZanKT6corqbZ.MlbCkRN48KMri', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$Y2rJIF4PIlEqtVql32lXUeMx..jj9KrTzzBhxVZYuUiTQt1v69rT2', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$kS.fWyoAMnIsvl2aZiKL3O.W6.Em4gJKuLhrh7ahJPtMtHDGm76XG', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$c6KoW6fB11i20bKLr/IAU.PQASl4XLpiXwM5.2o42SqTEDUEEVHOa', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$tOxYpUSqVIOCJ9/nMjXG6uMqt9/j6unn0jIHRDlxktKJDS4eTryq6', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$UmEENhCWzQFQZEh3R8oEeesfv7Q8wHYP7CrfxegqE4KZfBKLyaKIu', 't', '2015-12-23 19:17:09.000000', '2015-12-23 19:17:09', '2015-12-23 19:17:09', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:17:09', '2015-12-23 19:17:09', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:17:09', '2015-12-23 19:17:09', 298486374)[0m
  [1m[35m (3.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:17:09 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kimberly@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$JcJL4hS2JhqwnqEVf0vXMeVV0MpiAS1jRFVacsFFLdUjRejZPb8ou"], ["updated_at", "2015-12-23 19:17:09.810627"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 20ms (ActiveRecord: 0.5ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:17:09 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (6.9ms)
  Rendered users/index.html.erb within layouts/application (355.2ms)
Completed 200 OK in 676ms (Views: 673.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:17:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$pqMkS5zz0cHdj0V/cslFCOPVx3MxzoJ8RwHsG6Xx0pImMZhjdxiVq"], ["updated_at", "2015-12-23 19:17:10.513621"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:17:10 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (15.7ms)
  Rendered users/index.html.erb within layouts/application (19.7ms)
Completed 200 OK in 23ms (Views: 21.5ms | ActiveRecord: 0.4ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 11:17:10 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 436798503]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:17:10 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (8.3ms)
  Rendered users/_form.html.erb (40.5ms)
  Rendered users/new.html.erb within layouts/application (43.0ms)
Completed 200 OK in 51ms (Views: 50.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:17:10 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (4.5ms)
  Rendered users/_form.html.erb (8.9ms)
  Rendered users/new.html.erb within layouts/application (9.1ms)
Completed 200 OK in 47ms (Views: 12.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:17:10 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (4.2ms)
  Rendered users/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:17:10 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Ph01La.9NOeA1t7TlPSbs.4suTBMx9U8hbor.toP9XY1Hczvy6wgm"], ["created_at", "2015-12-23 19:17:10.710833"], ["updated_at", "2015-12-23 19:17:10.710833"], ["activation_digest", "$2a$04$m2JOlWH9UkD2rHiNuy38febQSvwKITQl.aZ2J36fdVkkYK7drOBDq"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (2.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$n4HpFxSe.eYyYd7ppwBpl.WAVvUsUKRIrnxY2zocDyB1EQIglJbvu"], ["updated_at", "2015-12-23 19:17:10.796850"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (2.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.9ms)
  Rendered users/_form.html.erb (4.7ms)
  Rendered users/new.html.erb within layouts/application (5.0ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (1.8ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.5ms)

UserMailer#account_activation: processed outbound mail in 10.9ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:17:10 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:17:11 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:17:11 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$i3pTtIr8KMwXo3KBZ9xi6.q8f5nSHsAd6H997Oc.YmkIjXRwmmd4C"], ["updated_at", "2015-12-23 19:17:11.036641"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:17:11 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:17:11 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 11:17:11 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:17:11 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$bxWZ.UdiSPQD4C6edOJ49e081c3DG4OdjGaR1gmewXWijXdpxPFpm"], ["created_at", "2015-12-23 19:17:11.105643"], ["updated_at", "2015-12-23 19:17:11.105643"], ["activation_digest", "$2a$04$Gh.S5KFXNfF1WXqsUzapYOnJoo9x158XBNKtBPlBJ8wq2EpN6MJEy"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (1.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$7kD.PY8RMwEBzoe53J3eXOdnd/TDL5h.cJObqIkYhUsditG/ijqXW"], ["created_at", "2015-12-23 19:17:11.123059"], ["updated_at", "2015-12-23 19:17:11.123059"], ["activation_digest", "$2a$04$e2FQCvwxF18BTSpjKq6JrOXuX9sWOOCh1uqW6bqWV.esnKJrSCQbC"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:17:11 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$kzUH85GUqIeSqZaBwgWE5uR6JyqG/5VXQ.lDLFWbwhDuPjyerL1FW"], ["updated_at", "2015-12-23 19:17:11.170712"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:17:11 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.0ms)
  Rendered users/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 14ms (Views: 7.4ms | ActiveRecord: 0.4ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:17:11 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.8ms)
  Rendered users/_form.html.erb (5.7ms)
  Rendered users/edit.html.erb within layouts/application (6.0ms)
Completed 200 OK in 14ms (Views: 7.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:17:11 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:17:11 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$TGiVASZKrnsg0CcPS0I8Xe2HGzuwxJE3Z5Uq2iBf9tnzEr95TEi.e"], ["updated_at", "2015-12-23 19:17:11.218137"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:17:11 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (13.0ms)[0m  UPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 19:17:11.228614"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 20ms (ActiveRecord: 13.5ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$YuVC4nfGhxe5P/lNTH1m0.YlC5rHGXq6G/exnI4k4b9Ryb7mEk8SO"], ["updated_at", "2015-12-23 19:17:11.252421"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$cp4qi67OFRvMQZC3JHwsAOm43Ne.3Mn4Tt7WzuC1beaTWkK23kQ9a"], ["updated_at", "2015-12-23 19:17:11.256867"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$m3uAd67eq3stRbNslM4uZ.Bq/2ZRUxeuK8drf5gygeN9bqMovpWVq"], ["updated_at", "2015-12-23 19:17:11.263246"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:19:33', '2015-12-23 19:19:33', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:19:33', '2015-12-23 19:19:33', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$6yV9Th9BDz5B80hlFb/Nxefu/JRjzo9xyelOLiVQnhZB2oiziOTTG', 't', 't', '2015-12-23 19:19:32 UTC', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$9qlqguXr7jvcc4m1MIHzRehbpuBda2LdhwbKMYQCD2C1IXkH4.LWG', 't', '2015-12-23 19:19:32 UTC', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$PxpztxpoF3SbNeA.o935dezcVE7lUPk5aE5i5fMGpJ6cBW5atCT2.', 't', '2015-12-23 19:19:32 UTC', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$vBOeOvam3AMLavndnzhXnOumI9rbRzakRb0YwNlpBc85p4l0FgkDq', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$uoBieCH4kljcNAYK5RWW/uK6xywrX4/UCa.GzyEFS/P4IWB9tvJ1y', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$E3IcWlWBIex65M2Z3tSa2uiOq2Tx0Luz7IvecKpK10VS0jp48W2V.', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$JV/9nPr/rNCM/DJwNBq1t.nbDu//JFiglVHlHzY9CHx3mom3x4/Lu', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$MGEnKGQD8mx9nUxWLOE24OEyti9sSDtWDtdjbmLmzVhI8AAHtTyVe', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$FbGYo9bauuXMLcbnpjacEOyEt8yrlKPBdgJLchBa00fDD9f3y2JkO', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$vBedtpQw7lPlKt4iDp1Oh.auAn/9zzXA6yAjvTH/jhqXQ5K4Y./ra', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$am9Dltl/9PxLpkid3v6UPuzLy6TQzse3sGlh3KjRNKxziMtk/pin2', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$jXoBWxRcuU24Ofe8uQ6mku1yi./ym20sDuEgUh9tjaxRviK8B4ta.', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$rak3L9K47oVCMGRftB6djuj7JsBQgrazuY/qVVbH2i62vudJVr9f.', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$13XktaO9ZQeGst6l4u2eC.1/6G.VbUtryddf6fbnpF0MsQ7y1HHC.', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$r5hCEsO0RUq4ekvT1UxoHezpjUdvfHnD1WaKcoHmRnTxzYwGV44w2', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$Xmm0bnqKkqDl3x30FXpGZeL80j7.3Cz5anWZzBuYJRtNMlPtesylu', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$daO/wxNCKmSXG1ms9dA34uW2dxVW0PF21c9SsYekqD2g60jEC/oWK', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$IhLnvgtmJ69hDhJpuwElfutsBUC2zeHA.GOZ5oMvqMfsTeIyT4biS', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$rmunUnjdLwHV4eGWzddCM.SpK0NR3Iv5QGl6LWZDiQnNPtKoUGUg2', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$tiLjhkriTLhW68oCYwbHyOlO1bqqaXIjMF4w.rK5FQ0C0DvQJZf7G', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$.dhbaxQFiXc3EwOyiZtyp.wwkEX2vju0Ql5aQ8BvdBlHB7um0D5km', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$0a0.8eqKKbsf3mi/3w6t/.9.I2KStuPmSGralcDUYh4ixqxi/HZfO', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$CqUaiWCZa0ar99dLYmJhN.ZPXRP0PsQTb8645E2JP9IovHTAkXa2O', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$K2n72CMTPiZEBN2kQErIf.h.cVp819loSJntJzR362fOvS1dxprym', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$uvtW4MZz8hgsG6tLANNy3enY1BsoU8RE33U0w8xab8gANlQrjBhXm', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$3MsxpLUWz3/j1z4BRGhLL.xof8D4qRtgrHw9z0f2bSXyEJBfkx1ni', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$hDz6vOcZ9Udls808O8pwHOoiMlKfZJ5xJo9SaLlcFDR.k9/zuJF6a', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$jvdX7UajWpG6xZsKmfYfBexy8Tm/32ALFVcRYN5wjvM.c4WPGSBYu', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$x8bCpio1h0STu9ojv9BMBe8l9ZYH33.QfcOujp35vOcBGEwTcU7.e', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$.ajtaaRDzEWeaGRs12UBwOCILmmGM.l/O6/WWViMcSzsUQ4/lvK1y', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$BFeUc54ADVfKd2xE91lSZe1JWx7kiG7qGAzsI7XYSNjYUtYCpjMVS', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$7L2bU6g14GsdqFCdo6aHxOAVSuJ2bzwiPgLaKJsEMSMMtLZgYu78i', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 486296279)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$UNlXNh8MyzFJWpPwiJdPt.lwCkwc2NMRxa75TtvrN9AZXNRE7Ie8q', 't', '2015-12-23 19:19:32.000000', '2015-12-23 19:19:33', '2015-12-23 19:19:33', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:19:33', '2015-12-23 19:19:33', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:19:33', '2015-12-23 19:19:33', 298486374)[0m
  [1m[35m (2.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$3WJCVaIUiCWYuyMzqnbCAemB3TlaqPh6VBy8VfR0p.GkBVmkt5lnO"], ["updated_at", "2015-12-23 19:19:33.068777"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 25ms (ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered users/_form.html.erb (380.9ms)
  Rendered users/new.html.erb within layouts/application (386.0ms)
Completed 200 OK in 733ms (Views: 732.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:19:33 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$59nIFgG8qRhAzewNqK6dfuvYFA6dQlpoCfZpQEtELBZRrPu4IeKbW"], ["updated_at", "2015-12-23 19:19:33.911435"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 17ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:19:33 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (8.0ms)
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:19:33 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 11:19:33 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.3ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (9.4ms)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.3ms)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.6ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$C9qDTU4LSjt2eUzPetPdI.LlVSV6YGstwzgOMgjVFNUS0kmou3ibu"], ["updated_at", "2015-12-23 19:19:34.062704"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (6.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$Qp3iSQ4MU86Rl7EXbp08Ae.1nUyucAA4.5mpbWmx.S3EeQPeRgi4e"], ["updated_at", "2015-12-23 19:19:34.068406"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$fIkOFnFfyTjtUBHrTHpw4e4tXiixm9gq4TRNWMG63epGlccm9dVbe"], ["updated_at", "2015-12-23 19:19:34.083726"], ["id", 834146161]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.6ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$q8on714ETOio/F6/Gyf0ge7JbsOZnOmdVIzo95JHLQhgHPJ699w5a"], ["updated_at", "2015-12-23 19:19:34.110912"], ["id", 834146161]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 19:19:34.154016"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 10ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$sgUscBSf9NT4o8vzpBu3cuGtmvVPhoUYcqm6laQeN3DAoNbXi2j3q"], ["updated_at", "2015-12-23 19:19:34.167435"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (11.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (5.4ms)
  Rendered users/edit.html.erb within layouts/application (7.1ms)
Completed 200 OK in 24ms (Views: 11.0ms | ActiveRecord: 11.7ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (4.0ms)
  Rendered users/_form.html.erb (7.8ms)
  Rendered users/edit.html.erb within layouts/application (8.5ms)
Completed 200 OK in 22ms (Views: 11.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$XpvzrWPp6RACNepd.l2cxehxMFTuRX06k2NhEI.R.mn2ro8Ho0FXu"], ["updated_at", "2015-12-23 19:19:34.248367"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (21.7ms)
  Rendered users/index.html.erb within layouts/application (34.3ms)
Completed 200 OK in 61ms (Views: 36.8ms | ActiveRecord: 1.3ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 436798503]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$PbwN/wk8b3bH0qR/nicG/.9y6CFxgXzEwLBN.djzm/js.nKlJcmuC"], ["updated_at", "2015-12-23 19:19:34.396188"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (6.3ms)
  Rendered users/index.html.erb within layouts/application (11.3ms)
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (2.5ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.5ms)

UserMailer#account_activation: processed outbound mail in 12.0ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.5ms)
  Rendered users/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$0VgA0tDPkM3Bf6BPkb1rweK6rLnnM.F7NJVegYDxQplW7UuDun6JW"], ["created_at", "2015-12-23 19:19:34.626742"], ["updated_at", "2015-12-23 19:19:34.626742"], ["activation_digest", "$2a$04$z2qEW7MxYI3rRUzUbbkD.e1oNiLsOVdK.EcLP3s4Fxkqpz7gqn/Fa"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (6.7ms)
  Rendered users/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 10ms (Views: 9.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:19:34 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.7ms)
  Rendered users/_form.html.erb (5.5ms)
  Rendered users/new.html.erb within layouts/application (5.8ms)
Completed 200 OK in 13ms (Views: 7.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$oDlorZd8cYudVA5tOjKNrOL3lNGr1zK4ROuVaPWOqnqfYCfQ4Updi"], ["created_at", "2015-12-23 19:19:34.705686"], ["updated_at", "2015-12-23 19:19:34.705686"], ["activation_digest", "$2a$04$hTkhOqMpnjpcvuw8tsW20O8rEc3/x0nF3I3SL902lwmtPjpBFT6RK"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$h53oVbunZNpZNsADIvAHduZWtNlBsRpu.K3d847tj2oHI1wHCuiIW"], ["created_at", "2015-12-23 19:19:34.725952"], ["updated_at", "2015-12-23 19:19:34.725952"], ["activation_digest", "$2a$04$hM0.KlJxt9mlWq78jjqiXeiXbOKot4l7PLdjdL5lPi7pW9y4/8eSC"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:20:50', '2015-12-23 19:20:50', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:20:50', '2015-12-23 19:20:50', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$rm6pbpUIGT.vAM7F8HP/jeTjeP8EOXnCDH.d53ZLR928H9vTrbAQy', 't', 't', '2015-12-23 19:20:50 UTC', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$XFP/B8fENDiQ8MDAs1EPEeo7zRQUcWHHuFpDl8.cK3K/m3HAL8ph.', 't', '2015-12-23 19:20:50 UTC', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$a3BveBlv1oAVf6CMOIFSAOZdgov54x9IqW4fxtltCFQFpExBKXdYu', 't', '2015-12-23 19:20:50 UTC', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$D.Q2YKGs95FrJ2yve.13duMHNuv30E7EuAL5HBxzhbnzugwxjvauy', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$fKjfFbD/RMDRBsHVBhlyFe7QufxgxUslRGQ4okiL8wTLhUKscLfoi', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$F6jUf.pb9fzkqq9uDC4K2epCTJmd8GBo4.LPzzhUOdWA2BEwUOEy2', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$/b63Sp7XEap26DWin.ALF.7/5nbL9.uWAG80GP7wrN2VH3RbS8G0G', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$Cb6thgkASgu5ZP8PG3UMTemRK3m9at2ObAoGBZWHhxj33eA6aqYeK', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$SJd2nnR/XFFGmKJmRG5CtueTdpo2noNlEJZ4q.kKUu57Z703Lszqy', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$k5/Gtutlnh70VPIXCiuOG.YZy2KZiTZFYl7p7oeCNAfYH.0Xe4qz6', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$ZFior3jUkuYYTMEdv.oX5.FS9b0x8xrUBDo9a.ZbAPuaE/yU40Kym', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$ED3YxBfxZeWDHFH4.A36DuP7Ffu3WouaJE233M/PWOw1UpK9R9D6.', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$ar7vw7N8fn9sz.hp1USgRe5fJsi.Sx3cO/B3Vdydovf3/AKoULw.2', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$lgdJ5LmOPzCYS34dqjmOJOrrQ85R5KC7Et2rU55jy8BwvBOlPLWvm', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$fldM2KZH9m6X.q6I1b3ALuKeRusQHNgo5vLYl/N2i6TA8m43JBcAe', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$dFb8YER0HGuf41vDNtzy7ehl6ysqodQUVzneAyCsUJKFVPze5.tYe', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$bLelo0FkKaKTy5G2Bip9uu1ObcZw9lU9tA2Bs4Zu6c9WypuR2ZnZi', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$Qzh3v3MKLVhypdpqRBysHexpCA6OZDefWAiZRJ3SCYDAFmTaVpEdC', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$A7sVDN6cqwX0WoKAYtJS.OBIlYBoroBX24F5acjpXW8xVAaf6DUMy', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$FBJMD4ae7NdtxHBuVAP8de3Y8cTmtrbQ7v1.KOrpS8YQYZYlt/wpq', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$m044EIr3exUfEIb5eDGTEO1p35iIJMx7lh4N3AnjopY3tkByCQCzW', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$JadWv.t1k.OMD9pZ3/C3AulnBIZN37v0b.jPZkIwbS0fEiGqYLv7u', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$pgqayDIFERtUudh0I34KJuWQxhF1l0lhQMwDe4Wk7kfVW0nLIDTEO', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$j6zXuExeHIeeX/OIviuRS.evG4xaIKirv.tLDYZ7nRYxPIhLhEJ8i', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$mz1UsTBLLb7xW6feIwqB8uZ1LizOEqbtfJQZk.KM5USse5NACTgdi', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$oXWy4ahHMHX/rA/cnI69muv4mRZYw/yF6BK3KhTWwm8/l0ncVOuvC', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$3NaGmsCsnO1/7xjtAS1.lO5JzXILqHYU0yz3JxkjweahcNnipkygm', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$BVi.s1M5ySI.h66YE/w7B.RzSvKXGAZsWYFHc16CRmoeaWxvBWhXm', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$RTWW6yqTnS3PwYHL5jaVi.3hIXSXv58HqoJT3eYus3evYapvJNIi2', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$dLHlqb0CLNMNkGUo35c/NOLWhN9llt1ZffSe7rrIXej8KYtQ048Vy', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$5KR1R1IfNfc8lQXV9EBz4OUJz8KYOB1QzJRtyk7a2S.egzg8Oz8nm', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$dt6lux0Bz0QsPwCnrFZCPOsjdqPCtHywvcZMJ12f/qjnGAVXlyKEi', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$vdXQd7kHzkJSUAMajfPg5uh.VBEsj2gKp50iZNRNGmszyic1r/9bW', 't', '2015-12-23 19:20:50.000000', '2015-12-23 19:20:50', '2015-12-23 19:20:50', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:20:50', '2015-12-23 19:20:50', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:20:50', '2015-12-23 19:20:50', 298486374)[0m
  [1m[35m (3.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:20:50 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kimberly@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$4.wXVuAVOXyvPX5o6oP7duA15qbeAJ.vMmzjjUck5rTfL8L8RsumO"], ["updated_at", "2015-12-23 19:20:50.588253"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 20ms (ActiveRecord: 0.6ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:20:50 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (7.6ms)
  Rendered users/index.html.erb within layouts/application (375.7ms)
Completed 200 OK in 683ms (Views: 680.4ms | ActiveRecord: 1.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$Tb7Yz0WJcMuzLui9ofdJh.WfO8jsW7b0EZh9eVk67.0ZyyYaLHx1S"], ["updated_at", "2015-12-23 19:20:51.297981"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (12.6ms)
  Rendered users/index.html.erb within layouts/application (17.9ms)
Completed 200 OK in 22ms (Views: 20.1ms | ActiveRecord: 0.5ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 436798503]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$YchwEhJ.sM/FCiaNcfj34.CdXaabixiaxDZf0RlI4mMO8Mu4YNxDy"], ["updated_at", "2015-12-23 19:20:51.376414"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (1.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$Fr7U6aLj9dQdyaJNDpmLgO7TZeV4wxbAFSE8ngZIH3VdhXXNF3vhS"], ["updated_at", "2015-12-23 19:20:51.385420"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (5.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$8xuruPjiqKa7cv/YAZCM.OUv4GlqDy2MC5148FggMxu98uUYG730u"], ["updated_at", "2015-12-23 19:20:51.389113"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$qFuwyyYw/SpaL30ewP4UOOaZbstF1h1M4j9C8Qtf5yg.NNzVWRVj2"], ["updated_at", "2015-12-23 19:20:51.438940"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 19:20:51.481002"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 36ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$wJmUJVOvv/./awKCZNQ/k.lFk/ZUjNV6BgFPt12kZNTZ3MpW3RA9a"], ["updated_at", "2015-12-23 19:20:51.504604"], ["id", 834146161]]
  [1m[36m (1.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 12ms (ActiveRecord: 2.0ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (1.8ms)
  Rendered users/_form.html.erb (29.7ms)
  Rendered users/edit.html.erb within layouts/application (33.0ms)
Completed 200 OK in 45ms (Views: 37.9ms | ActiveRecord: 0.3ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/_form.html.erb (7.7ms)
  Rendered users/edit.html.erb within layouts/application (8.1ms)
Completed 200 OK in 21ms (Views: 12.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$Re6AAdEHMQPuDsgtB5JkI.OlJGfvaRf7J6kowmu3aMI2QANwXus3K"], ["updated_at", "2015-12-23 19:20:51.607987"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (9.8ms)
Completed 200 OK in 16ms (Views: 15.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 11:20:51 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (6.0ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (2.1ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.6ms)

UserMailer#account_activation: processed outbound mail in 12.9ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.9ms)
  Rendered users/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$p2KJQ961PNwuM5QPjJMOXeLp7ViHQhXlBffXnwgYvvDxuhdkKBqn6"], ["updated_at", "2015-12-23 19:20:51.948871"], ["id", 436798503]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$0WfVfHiGJD8ndMZqPZyUru9yS8REi59ZWqVSeE2dcM4eWZrC4ctca"], ["created_at", "2015-12-23 19:20:52.004256"], ["updated_at", "2015-12-23 19:20:52.004256"], ["activation_digest", "$2a$04$5S6xgrgoDBbG0Gs.ggLi6OySsYXjK/aJ5SkOg9kXbZCEA761.XV5S"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$nUThxMVWmOQoZfjenDgf8uNKRCnnlarxW1Hj/P0zRdU3QmHj.E/SK"], ["created_at", "2015-12-23 19:20:52.031737"], ["updated_at", "2015-12-23 19:20:52.031737"], ["activation_digest", "$2a$04$rhQwbTPRLzTs7RxovK2X9..JXiWeqNE5RiaqoiaAbvg1k2rZ.6vYC"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:20:52 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.3ms)
  Rendered users/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:20:52 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.6ms)
  Rendered users/_form.html.erb (5.0ms)
  Rendered users/new.html.erb within layouts/application (5.2ms)
Completed 200 OK in 12ms (Views: 6.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersSignupTest: test_valid_signup_information
----------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:20:52 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.3ms)
  Rendered users/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:20:52 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$warXgrfJGqXZtkZZTx2XwuOYx.PTVCvX7Tuh5fMKVMdZA5QD.gfd6"], ["created_at", "2015-12-23 19:20:52.094512"], ["updated_at", "2015-12-23 19:20:52.094512"], ["activation_digest", "$2a$04$GQSnr07jsF6ksGzOkFmDxeYfYaig28lNgeX8RYRV8c4VrazJPhJRS"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:23:29', '2015-12-23 19:23:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:23:29', '2015-12-23 19:23:29', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$g1vcDyYZOD4czqOOZFo69.36vj.hf7cPrjvE6AIyCK7tga.EsJtdq', 't', 't', '2015-12-23 19:23:29 UTC', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$1HY/4GGq64FsKbYFpHIqA.a5LVg5QkoIA9wZAzTOCHk5qtMGl0jne', 't', '2015-12-23 19:23:29 UTC', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$f0z2Gx8uZ6qwrqLjoqHw6.o5kJhFT5HfvwFrUk7iBQwtkwR6Jl/w.', 't', '2015-12-23 19:23:29 UTC', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$bQBx.sCEmMDfSPiSQllWUObPy7NxXIWj4fhYQkivhq3T8mNy0C816', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$5plsmsYwgnyeCiqSyhGtsu6CesDtd8oBUZys0VGN/Fi0xnL2QqJAS', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$Nk00uCvVPi1UJcsZ2FzUcuPxRDDeFCPjcXVm03nFf57n7BcsHGKUG', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$gLu1RIUwLUBuWa942y43cuM/XD69Pj8mtp7NaApUGKGkSdzyvugHy', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$VC/J.11z5Bjdp7sUiseTGO7ly9zrHaZlFshWCnVYRZEj5fE9Bt24y', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$bjao6J1ExC1hReWB1CHhV.fbaGwR0POQbcsi5Zmx1/Q8q1Vr.p1IW', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$jQNDKt/VhqQLIIQU5M53oOLIql6UJD5v//bUHLFNgu7cWO1piteIK', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$I6MiAvzebeqqidV7LJ71VuKB9j9bXKimrG/IZRiOHm6suby6OpAuK', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$ww./ZiHXKSBgrDYFR0e4FueXhTgVINV0QGU5kGp00XQmnwFLvO9Hq', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$kjhP7opRjfxdkzDdjQ3B9eFKx5kYzcgCh5k2/DuqdUMsl2FQUa96m', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$V4sxij1d182cAub/xczBoOTLSzQjhKeq3t1wI/FOr.e0r5LI9SRhm', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$84DLNUUh/F.qWF63ROJEL.xBJbg6bDTg5aXPtBIVKwulf9rGFY9by', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$Asf5YU52Nlnaq8EBzkD3peIpdIdYenJND7qZvQYJGbz/vs2J3bFhy', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$od0nVifaM2xh1jgpQwiz2etTMLvANwhxwE.S.zn4oDjp1bM.4yVc2', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$dAVmB.MIK/YJDw/nRoGXm.U/9lpe4XcjoQuXXBlpUM8xucM22yVdG', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$BKss.pD5R0.IT7g3xJmPpekiJH6gKCCvmSFzpg06Y905TKVo5wexe', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$TNg8927PlUIACKgIq.roDuIaZBQYirMDg9QsSR24QYnpdIbnoTx5y', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$IwZnreeyMF/LbygpkjEY8OumFaR/itWpWXdHcoITn4RHsXgB6SdrO', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$8qcB.oeohHvwUmb1BpIh3.R8Ks3IbjPU1r.q5TjL2Lb2otRmB980W', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$B/MpgNIpjisi6Oh7s4yGpe80ug31ale6de2KsOAxdr9zktQZd0Ree', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$m.OR9XiXyYdlOkSj3yVneOF4m4u7PilX5J/RlsRR/WZodLuOwbmHG', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$eY.60WyXYSoE4QmKFVijuO.kZE22igz/Z9Q7RsdDVQhxSdof9ciW.', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 622916212)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$ETHJvKsUKBFQeYxg6kY3EuGu4u4fHXonYCcg8ysxs0lCx4j69Igjy', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$TViGJsXU0gOHwrm.wpBmGeEp9ml11upLBJRGhYrtJcY2rxjLAX.WK', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$MLWySk822TqitzSmG7XbCehPJOGOfdwjYFZ.GZuwIQY77ZRf.2/jy', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$BxVvLN3xahFNk2tJZL4bOejxPKqE/4oIBBRcRNBmfo7xLGtgojQqW', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$Htwk2wuW4rjIHJJklyXzzOyv3FHXnEP.47lOotfdOZYNvDCZUx.S2', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$6g.rH.R4OTZ1BCp68Pe3wu3PuRtak7pjjLEHuiLsh0uVfMxIq1YZq', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$fLaVQmRiknVJKJSPNFubBug98xtxJvxH7uH0sVOajeFN8b7ebLDCi', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$AYMKoab3vGHh9ypXnokRQeQVx.LMAeIAFlcdn2oABGjSOXZtx7x8i', 't', '2015-12-23 19:23:29.000000', '2015-12-23 19:23:29', '2015-12-23 19:23:29', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:23:29', '2015-12-23 19:23:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:23:29', '2015-12-23 19:23:29', 298486374)[0m
  [1m[35m (3.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:23:29 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (346.9ms)
Completed 200 OK in 687ms (Views: 678.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:23:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 9ms (Views: 3.6ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 11:23:30 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.3ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (6.4ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:23:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$vlCF3q5yIJUheh430tNJRO0xeTIiy8ntp4U/2i5YkdS6Ao/W.A6li"], ["updated_at", "2015-12-23 19:23:30.631169"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:23:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:23:30 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:23:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (3.1ms)
  Rendered users/_form.html.erb (7.6ms)
  Rendered users/new.html.erb within layouts/application (15.5ms)
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (2.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$gEamkQX0W4p5MPBYrd992eSeWgFsnU5BTvwLD.m5YEfVdR0bMTkni"], ["updated_at", "2015-12-23 19:23:30.750971"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 42ms (ActiveRecord: 3.5ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.9ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.4ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$qy/OCJ2us1D3M6KvOz0JHesSZpAU9.ceWWCisZKqd02lUy9zxgHV."], ["updated_at", "2015-12-23 19:23:30.824978"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (4.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$XnAytnmAM6PFFiM3XzZifOZdigo2K8Yido4BcHy0hbY20pgppsv/a"], ["updated_at", "2015-12-23 19:23:30.831615"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$jB1.Ys1e5yU5JRmWXuxY7ee3eve7Qk.6Is.VEohabMf66P2SnUb5e"], ["updated_at", "2015-12-23 19:23:30.845370"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (2.2ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.6ms)

UserMailer#account_activation: processed outbound mail in 12.9ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:23:31 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:23:31 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$jU0PLaJxIDIDx/4wiabkKe5ekw/VjRxzOX1bGx3P0T6StD5p/YImW"], ["updated_at", "2015-12-23 19:23:31.095158"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:23:31 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 19:23:31.124809"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 9ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:23:31 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$v0Dk/6zk9p2bekYP9Kl40.N2p28LKbL/xTVM1MqiuQeIRzmbwkT/u"], ["updated_at", "2015-12-23 19:23:31.137186"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:23:31 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.9ms)
  Rendered users/edit.html.erb within layouts/application (3.9ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 0.2ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:23:31 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.2ms)
  Rendered users/_form.html.erb (4.4ms)
  Rendered users/edit.html.erb within layouts/application (4.7ms)
Completed 200 OK in 14ms (Views: 6.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:23:31 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kimberly@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$LJHKLVbM5tmK2OA6l4Wwu.kiOUD.ta0krHeSgRKUQ/393eNgsvL2y"], ["updated_at", "2015-12-23 19:23:31.182481"], ["id", 436798503]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 8ms (ActiveRecord: 0.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:23:31 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (11.3ms)
  Rendered users/index.html.erb within layouts/application (19.2ms)
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:23:31 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$a5A39p.EqlqDTFPIINQwGeZSj/WvFku0/YQb/1sNEFGdllWr3WNC."], ["updated_at", "2015-12-23 19:23:31.253272"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:23:31 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (10.2ms)
  Rendered users/index.html.erb within layouts/application (14.6ms)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.4ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 11:23:31 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 436798503]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:23:31 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.1ms)
  Rendered users/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:23:31 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.2ms)
  Rendered users/_form.html.erb (4.2ms)
  Rendered users/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 11ms (Views: 5.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:23:31 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.8ms)
  Rendered users/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:23:31 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$hiPwGYkuiW5.COMDcFpoLuQkIPE4.0Tr3i6meQRJHxAVQN41BVw5G"], ["created_at", "2015-12-23 19:23:31.359843"], ["updated_at", "2015-12-23 19:23:31.359843"], ["activation_digest", "$2a$04$N5niETxt02rWetW53WESneSRk7cEplWcOHyKIbKjTA3QujFe07qHC"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$VmBd6Q2sETXHRK3fOIsF9eA/YrGzN7EDZUg97CUKiP0Y7mPvdJI6q"], ["created_at", "2015-12-23 19:23:31.397735"], ["updated_at", "2015-12-23 19:23:31.397735"], ["activation_digest", "$2a$04$u3IRI7JiD.Iyvx4sn2.9WO7ZbOlDkGtAhXsJYxgMQWpvfaJuu2E8y"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$oNMkPooSp2KES.HnMySwRuQBXIyjHIIdIdBX35AF4Hz1bypE3RM/q"], ["created_at", "2015-12-23 19:23:31.423920"], ["updated_at", "2015-12-23 19:23:31.423920"], ["activation_digest", "$2a$04$z3sJqFUmSLG8Ta/EwahyV.shFQhppttimKji/Wu9cn7/R5pS391.K"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:24:53', '2015-12-23 19:24:53', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:24:53', '2015-12-23 19:24:53', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$yqs0nt0xIY15g.usk.bX1.MbQu33x0qFSXazbt7Yczc.kPO7yZ95.', 't', 't', '2015-12-23 19:24:53 UTC', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$OXXVquy.n50E2s4ufUJVWOy60u37slHKemhzt6N7hZBwx/6hrIRI2', 't', '2015-12-23 19:24:53 UTC', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$rEVn2VrdYsbCaeboND8tH.ah8qpX6JOCMQo0N0pGfWZ7MhbgOXiVe', 't', '2015-12-23 19:24:53 UTC', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$3ebGl/s7Iiwgu6h8NKUaWOY5cRb3AYU1pJCuxXJetH.tlW34KJwly', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 338193910)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$phBEvVRN4sjsDq/YkgCexOI0FwBR0tkolcvRf1LUiL/.q6IaLI2z6', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$S580GxMc0s50111S4Ooo9.uhOlScdm32UzHGXuoVzDguJYSVLzLBi', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$p/8JwYaxt2DrHk97i6vmmebCEW29G3PvpmjdH/j1L.1lqhPou7qy.', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$3/VqJUQLWV7cP7kEewDKY.IbOxICzHNTQmEBcI844CF6H/.aVclEa', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$1pFzFKNM99VamfqxpjiWIeh96eKbxPSf1KvNDfJ6m/oMq/ow16Y1S', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$ikflYGWD3iS2ES..Gbm4lOpgd75Y2YETl8VHQC1xTm429/34E7PpW', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$Vm1/qbr2xAmUucZMNZLtEOb3/mM3eaTHk/uWGFLpmPR2IkTxu.Aum', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$2Z6IXzDOZa12kRojjRd/l.w08cRB7thzagB/FTmO6TUsa.jDl1TKO', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$d8f6RzG.tfgCCHTxEnMZfuhTboLkJb5nMJqPKajrz30krkF3oDYIq', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$jdsDUWs90QAVAkV0KlYs...SDqsroy1fvMZpq2E4pvSB8eg9rOkWS', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$DLK/T5mcFBe6ho4x5qTf2.f0fSEqPbz6Vttgr3KXfcPgYpOVQJUH.', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 235774389)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$dZI3DXAeDyCvoCl7cbAuSuFiWSbrRwEm4Vndl3B6i7UybUe82wXFK', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$iA3/LTrcKiBMUvN8BAGaW.juZXALR3GkG/6LY91wQeDz8w82Ry8pi', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$n96TphZv9hTmOtInsHJpTO72UwdB9WxIL6mX6yFVEuZw0mqM80JZ.', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$2SIGl9NooFupfDuNlGLznuApycDm8TIyy3uihxPIE5Z8nFGPqhT/G', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$HEGgifh.dwBgVRk07GeLA.0sESWYyzf7mL09y9Zex5DtvAtO9uMh2', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$8ykYGeAvwHVIwiwy2mFAouD0DlLrx8sufenOT6eN9UsKfkcLGr.ny', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$C/86z0ChqBcTArpHrPnNHemKYM8snxggP1MG7hqDa99Zb419l84F.', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$gm43Lnm075V4Th/.EZwcGeNbSqUVhF80o0dzvU6wqMk5LndEuNYxu', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$iv55DnZ72bktBLTFK19UceIMinPamMmpbXeoLp07LJ5jham80IMpm', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$ePcK8esfWOBlnBYD5IqGY.q1.cxaq4HP4mmyuoE0RQU19ppfV7i9.', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$RUvI0PFafjNFHi2ju6cGne3F2Ipt.b5gqQF/TZscBtt3eT4ofM7mC', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$okfHXhLsK/XZLa7/PPmymuolKBrJ1RYjlNbsnhFITrgpGmafaVqiG', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$V/DwMDSfB0C4uyHUXkPgAu6YpN.QhmNRKz1OPRPuBcRiP1xXEZjZO', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$nyfAGgL87rxW4Yw6wC8Szu/r7Fx7j1pa9k7vppIhIRcVRKqywiYy2', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$iXIRBwUkBFoLDwx12IR/gOLsj.p0fP9MPolNCfpM2CBt2bxJDoGQS', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$nC0F1GjhFCz4IATVtTsaSeZgUB6L73x0LIHLspzm4Jec.gWKfUISu', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$U7GKsbXG4iAjLLgETi6beOg4yH0qBuY4uzq3KbClEiP1CTho18VJa', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$1AmJXnnr631vnD1Y4TefHOo9ep3p1kgf1KllzPDbfxKKufzV.KOfW', 't', '2015-12-23 19:24:53.000000', '2015-12-23 19:24:53', '2015-12-23 19:24:53', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:24:53', '2015-12-23 19:24:53', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:24:53', '2015-12-23 19:24:53', 298486374)[0m
  [1m[35m (2.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:24:53 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$NCzQlz3DBPUyP.kEKoilueUmqJOrDPcnl17lhPpwtQs7QrIS8IAiq"], ["updated_at", "2015-12-23 19:24:53.489280"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 21ms (ActiveRecord: 0.6ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:24:53 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (11.3ms)
  Rendered users/index.html.erb within layouts/application (346.1ms)
Completed 200 OK in 641ms (Views: 638.1ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kimberly@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$irN3prejsA3KtFg.O8QtluAZDJc61BEf.eDxKjUlBOcoqA1DSGEXO"], ["updated_at", "2015-12-23 19:24:54.196936"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (5.6ms)
  Rendered users/index.html.erb within layouts/application (10.9ms)
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (10.2ms)
  Rendered users/_form.html.erb (39.6ms)
  Rendered users/new.html.erb within layouts/application (42.4ms)
Completed 200 OK in 47ms (Views: 46.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$ZDFPsnem7PgwCoyTto11z.L3PIch8ikkZYiuGYpPF5Pu6DVVMwvJS"], ["updated_at", "2015-12-23 19:24:54.363326"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/436798503
Completed 302 Found in 35ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (10.3ms)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$HIng5dduwweAIRu9CeF7luU1vEdUKLDO4jJAJbhpSuLFDTXtcL0H2"], ["updated_at", "2015-12-23 19:24:54.449589"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.1ms)
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.1ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (6.0ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$akvmrnCp94fzaaqhgeEQq.n5bSLYCcD4Nmyq.yLBQ/GIHXYDLnsSy"], ["updated_at", "2015-12-23 19:24:54.528350"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.5ms)
  Rendered users/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.1ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.5ms)
  Rendered users/_form.html.erb (5.0ms)
  Rendered users/edit.html.erb within layouts/application (5.3ms)
Completed 200 OK in 16ms (Views: 7.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$psytw0q.OFim8dqpnYZCr./JW3f5.lv3APbhYnE/1Y/077aexI0SC"], ["updated_at", "2015-12-23 19:24:54.579573"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (4.2ms)[0m  UPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 19:24:54.589895"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 11ms (ActiveRecord: 4.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$ywmDZj3Dsa0oJ496ahyO.u8irPcwGvG3Yz43WEmONkqnipPWkeHXS"], ["updated_at", "2015-12-23 19:24:54.616023"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$Nf/TCxFDh4Mr4takWpX9m.nMCxdk7nJ/CQwBAnIUHWnFIxUPNEhp2"], ["updated_at", "2015-12-23 19:24:54.622356"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$QhEbS.gify.gziEN46tYSuE1RstOoQF3/juDlMZpeTDj3Bgo17BSK"], ["updated_at", "2015-12-23 19:24:54.625481"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (2.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (2.1ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.6ms)

UserMailer#account_activation: processed outbound mail in 12.9ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$f7Snls72Uw12sAirizgElewSZGa4pJD45rZ7j1PkiX7DS51CSXXcO"], ["created_at", "2015-12-23 19:24:54.853742"], ["updated_at", "2015-12-23 19:24:54.853742"], ["activation_digest", "$2a$04$wKPddM77s5uTrJ0t3Dkzb.jV0atAcHYN.IBH0.i/gN9fVUEDACqxq"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$/hPEcJM5ApAdxzCDS7Owc.H6dtyRnFmxc414bXEjqj.2K7qc8ayzu"], ["created_at", "2015-12-23 19:24:54.868892"], ["updated_at", "2015-12-23 19:24:54.868892"], ["activation_digest", "$2a$04$yQyXfrogGfhNdEFNwsx0XuvlwsHMxGREWKRLn3DidIwb5jHM4tbFy"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.4ms)
  Rendered users/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$UVrj.cM.bWjkGalEfMRCZuxebzevNiVhn7JIvq9LXrr.aCdGro8NK"], ["created_at", "2015-12-23 19:24:54.895256"], ["updated_at", "2015-12-23 19:24:54.895256"], ["activation_digest", "$2a$04$.YWhOiNZVsW8GovRIRz0zOIPL0Buw5lDZsdhNgWWmNuvtfbiOqzSm"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.2ms)

UserMailer#account_activation: processed outbound mail in 2.7ms

Sent mail to user@example.com (35.7ms)
Date: Wed, 23 Dec 2015 11:24:54 -0800
From: from@example.com
To: user@example.com
Message-ID: <567af506e3e0f_1540212ad98c1368b@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567af506dc212_1540212ad98c135e0";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567af506dc212_1540212ad98c135e0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/fkGHqd1eREAvmNUPyFhAhA/edit?email=user%40example.com



----==_mimepart_567af506dc212_1540212ad98c135e0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/fkGHqd1eREAvmNUPyFhAhA/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567af506dc212_1540212ad98c135e0--

Redirected to http://www.example.com/
Completed 302 Found in 52ms (ActiveRecord: 0.8ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/fkGHqd1eREAvmNUPyFhAhA/edit?email=wrong" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"fkGHqd1eREAvmNUPyFhAhA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/fkGHqd1eREAvmNUPyFhAhA/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"fkGHqd1eREAvmNUPyFhAhA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "t"], ["updated_at", "2015-12-23 19:24:54.958669"], ["id", 1046959424]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "activated_at" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated_at", "2015-12-23 19:24:54.960041"], ["updated_at", "2015-12-23 19:24:54.960383"], ["id", 1046959424]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.0ms)
  Rendered users/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:24:54 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (1.9ms)
  Rendered users/_form.html.erb (3.9ms)
  Rendered users/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 13ms (Views: 5.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:29:54', '2015-12-23 19:29:54', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:29:54', '2015-12-23 19:29:54', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$ofkKCLSYSxfbHt9QL9FLkeJXtPPuAXcDjWJB0MkVA71AXT7rhDF5q', 't', 't', '2015-12-23 19:29:54 UTC', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 834146161)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$kts5dMRVH3HKKs3pZQHziuGbN8pGZG35fPjFcsnCC1WVbzHqQkl8a', 't', '2015-12-23 19:29:54 UTC', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$Bhs5V4/Kr.OEtm8c74w/Me3aVt61GPV3/JBtDZr./dsTjNuZjR./u', 't', '2015-12-23 19:29:54 UTC', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$BXLtbHGFpFgY6n/BAkVo3eQ5UoPkCtJ5SP8rsV3GyCJ2qELORprtW', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$/QDA8YvSHFymIA6ZtG2eNe2Ur8RLZkjUTJFotwx3Xti7NktzKQoXS', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$kq.Gb3/3Ez3h2qqEq3oQfu3mF2r3P3HlpfpjG9EPeV5Q8k/N6qw.q', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$K2g0r52AyEHCuYhmHnX2SeZVRtLu1fAAs7PyL1YEoRSmVJRCTF.CW', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$Z7XAfmhNR8RTzLil.iWYB.2i2/4SaGiQO1Kv7O4lCtnsLMXTDKwya', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$P.WHNBI0sfE1YN7w7IgqR.fCsnyMVg9mr37pzB9.WmjxAU6UYWfiS', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$ZMbPIBamIaFJxrDKEdE55e9ezd98WGtvESJlviJgqt3FNEjTA2LLS', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$T1/bF4hmb3C/c1Gl0CbaHeHgR/FqAuSDhQvM9IQKxdtPoE/.wzuVG', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$OV4QfxSAtEp.tq6Ck5TcQuk7fWTTLPWhG5pYc9gg6WKq9YF/a5D.y', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$zEzIlL.fwF/LAOq92X2U/uEgdXN33IjpF/rwP3C796JYOvuLyDmL2', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$Kyz87zXsejU/J44qW2t3jemxs.it62AW5GOUB9WaS88pTI4Czxj/u', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$vCwDdU7LO2RatIJlCThd.OiyCq2x4SBA06YzWC33SXLBj9fknsU/e', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$8lb44pjWZVo2CtQL9MJtDOvGMhaFyhfQWcRZ9BPYp3gy2qpvy3mqG', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$ZADpQ3t36qtFZ4xOVnmBgeKSRUoIf4N33eGCWQ4wkegVHoEDSPUlq', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$MdIUgSOQX8tpMZ7qxNINN.dgO8zKrXf/WyV05LO9nzKKFrzjEeb0W', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$xRhpyoKqYzZgOFSBlxeQqOnQVXHJULc4Yr3NkBdmtV/Z594CZfvhi', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$BeRqcYaa2yCh.Cco7mtO4.kM8To4nsckHoaUwREbTaOrhydfqazfS', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$eFtcOTb35HRf.MrPZXtHG.xrFc63XrZINGZrgqak0pKLG9AIEAGWq', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$z0XQzyMxtIjqwy2i7IIXGuzwpORVbW4Ut2bjVkshUlyNWq5Q/Kky2', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$fDSx4n27YzFGqZ0A0Bjkq.j5dR5pjunmBFZ/x70qOi8i45tdFZ21G', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$SxApKlOur2srzSwhtvBK7.CIgzSwB1x9NU2f7c.ENKQxDXTT8aLM.', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$w2IF206c6kiwunZKrkeoOO4qCwzHoiHR.lKi34UWjRwG9E2ICZluy', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$Ryf/dnIb4yy/hnKS2gQDQeW7buL35C2pVsWOZbLgz9fx1VroX6FHC', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$ilFQWWJyg466FOVST2K7oOAqerxZOIAblhMFDWcBYbSPJb3BH90p6', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$TTk7SKS3.DAazU5XObUYQekPf1D4jU4TYAJ1RofeBoRRltRu.pnce', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$y.fWI9k8ctpILX.iNfhteueiWnChkqsvIjJvluWrNosHUJfIWnb1a', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$IXqtqSypNUVC2j.8OL3nD.xKbhK/ba7STzOkoUUS9C8Jizv8jS.Iu', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$sgi5AyqwvQB8dfqBwTv/0O9VQaOhjOugBnr9teOiibnVHbGi37f6a', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$Hbf3VeVKfI2qljS4fkPumutmRH13jLaJK9aZPk.7Bw8mZs8GjjqnK', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$D1oVXw62paJYU1/WMSOBreD5uuwstMDYf/TOokDVLAOIRX1C28K7q', 't', '2015-12-23 19:29:54.000000', '2015-12-23 19:29:54', '2015-12-23 19:29:54', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:29:54', '2015-12-23 19:29:54', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:29:54', '2015-12-23 19:29:54', 298486374)[0m
  [1m[35m (83.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered users/_form.html.erb (354.6ms)
  Rendered users/new.html.erb within layouts/application (360.2ms)
Completed 200 OK in 730ms (Views: 729.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$uTUA7znqCZ7NuowvuTYJD.f3nLzmdRCulNcRZrc.SJeMl.gnTjTCG"], ["updated_at", "2015-12-23 19:29:55.794227"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 25ms (ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:29:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$bi35vmmg1TPXiGYy1HpyTOHczBY2N4BIWtKcneu6YBzjEXDSs357O"], ["updated_at", "2015-12-23 19:29:55.853653"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:29:55 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (14.3ms)
  Rendered users/index.html.erb within layouts/application (21.7ms)
Completed 200 OK in 27ms (Views: 24.6ms | ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 11:29:55 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 436798503]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:29:55 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$0Z.pDbKS1vU1H6pLFv6LCu3ywMfMdG.CN0/He/HP1Ynf5Kn215Zpa"], ["updated_at", "2015-12-23 19:29:55.978614"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:29:55 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (11.5ms)
  Rendered users/index.html.erb within layouts/application (21.7ms)
Completed 200 OK in 26ms (Views: 23.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (8.8ms)
  Rendered users/new.html.erb within layouts/application (9.2ms)
Completed 200 OK in 19ms (Views: 18.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (3.5ms)
  Rendered users/_form.html.erb (6.9ms)
  Rendered users/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 23ms (Views: 10.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.8ms)
  Rendered users/new.html.erb within layouts/application (4.7ms)
Completed 200 OK in 9ms (Views: 9.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$3R3yhqCAvtfKAVf42upW/u5bHC.XcD9F5udgNSHHuWd7fbUp7LPvC"], ["created_at", "2015-12-23 19:29:56.103155"], ["updated_at", "2015-12-23 19:29:56.103155"], ["activation_digest", "$2a$04$XXmJSUomZZDIYXXrKxV6c.uSGdkf332wHpuUn74qZut9OjnS9WpWS"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (1.8ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.5ms)

UserMailer#account_activation: processed outbound mail in 194.4ms

Sent mail to user@example.com (32.0ms)
Date: Wed, 23 Dec 2015 11:29:56 -0800
From: from@example.com
To: user@example.com
Message-ID: <567af63453e93_154966f19901894b@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567af6344d3dc_154966f1990188b6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567af6344d3dc_154966f1990188b6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/KpKXrBEBaK5Pf-TSlz08nA/edit?email=user%40example.com



----==_mimepart_567af6344d3dc_154966f1990188b6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/KpKXrBEBaK5Pf-TSlz08nA/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567af6344d3dc_154966f1990188b6--

Redirected to http://www.example.com/
Completed 302 Found in 251ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/KpKXrBEBaK5Pf-TSlz08nA/edit?email=wrong" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"KpKXrBEBaK5Pf-TSlz08nA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/KpKXrBEBaK5Pf-TSlz08nA/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"KpKXrBEBaK5Pf-TSlz08nA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (5.2ms)[0m  UPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated", "t"], ["updated_at", "2015-12-23 19:29:56.371005"], ["id", 1046959424]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "activated_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated_at", "2015-12-23 19:29:56.383662"], ["updated_at", "2015-12-23 19:29:56.384097"], ["id", 1046959424]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 17ms (ActiveRecord: 5.7ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$mZ3rdI2MGvNQGI4u6AyENuoevAcwpKStVLEyKfDHiW6sZd6KbtQdG"], ["updated_at", "2015-12-23 19:29:56.404074"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 19:29:56.412437"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$Asuf07lgPE4EyWKGnYDeheLu9cvSWMY3jSO0n/1kYxnUkYjYOsTya"], ["updated_at", "2015-12-23 19:29:56.428055"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.2ms)
  Rendered users/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.2ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/_form.html.erb (4.1ms)
  Rendered users/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 19ms (Views: 6.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$RtGOKqe92dgJAz9zrwwymuWQidHWH36r5Py14uuKGsb999C2hbygK"], ["updated_at", "2015-12-23 19:29:56.469755"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$uhATqA9/YYEaapMidNumUut0eLeAiWrzyac/VF.9swSnY2I23eVIC"], ["updated_at", "2015-12-23 19:29:56.474084"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$2SwWW0FIFvnJbrBPY5uTFOH9xBZDMJ5vLMT.yMbdw.KWEm09oCOt2"], ["updated_at", "2015-12-23 19:29:56.484973"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (7.6ms)
Completed 200 OK in 15ms (Views: 14.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 0.3ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.1ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:29:56 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$Jb.lkYPF29I0hdZpHnBEYeVC.Ob7SvsXVhQojM/D9JcNp5qxvduAC"], ["updated_at", "2015-12-23 19:29:56.573895"], ["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 11ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.4ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.2ms)

UserMailer#account_activation: processed outbound mail in 3.2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$z4hio5lvyvKYwj5RQBy7oOR4SQs8QXd9.qLNEnH3vp19JzaEn0lDO"], ["created_at", "2015-12-23 19:29:56.593754"], ["updated_at", "2015-12-23 19:29:56.593754"], ["activation_digest", "$2a$04$uMXlJrgKyEgSKmcbukFmP.c7Tm01JbgdyKLU.tA0SXJEyOXiAv1Ai"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$i4j4UaLAVDnJi2qiW9l4f.zip3c1ZLxZJnDBnPVuXsoPg6XHtWsHm"], ["created_at", "2015-12-23 19:29:56.646886"], ["updated_at", "2015-12-23 19:29:56.646886"], ["activation_digest", "$2a$04$PeMXlNcWMkeqK4k7CfSDRemzGIfZdnYGrWzG.z3QTGZpP0cO50iga"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 298486374)[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:30:31', '2015-12-23 19:30:31', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:30:31', '2015-12-23 19:30:31', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$ZR7LuBqfNLdkmIfcTh6J7e8aMlKYZec6ECHCgmyQLgzoyl3cXxReW', 't', 't', '2015-12-23 19:30:31 UTC', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$ngd1LYJ17/Cet5FA3vjK3uyiIyNayLIqjGUq3R1MqUnfkQGvIeZqO', 't', '2015-12-23 19:30:31 UTC', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$T/J2AbZ45vY4TQu5FKfGe.nGwcLBFRjeOXnn4KYt.aTyYDBKS.2m.', 't', '2015-12-23 19:30:31 UTC', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$EbwQfD.nVVR8e7pV6jVXve7NkGkdqtNZoLfiWR5Q2SNF2DcOR9YgO', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 338193910)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$CvYyVEki9tkZnsNRRYtpqeEdpBi4Q2if0S0CCqc.R8KPT6rpD0RYq', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$H5WDqrtbcidZWUEjn7dEKOhOtR0QrY6NyWZu5t2VZ1XgUV0E5KMKO', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$tN9LfrwPGt8zgMou4Lb3n.yXXBmO4DPcL1i96ojrnXusncE.uKB92', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$eLORODZPc4LfcPnW3egLEuF1SR.TE9UtTOkyoNaFcV1gqfDa1Xpqe', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$DWIRTO8bwO60mLlOWjoDpeAG83YVxdE9XLzRYoZGFAb4wijeVP8FS', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$2.cNGHae7Wj7txcmiq76iOGTaZZjSbFm4c3NPC9HnEelRVviGEkoG', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$f1icdNcZMfuNYA1JVvIoWOebdvDcRt.1sra34IZfIu.hx4jv88uUi', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$uWuNu5m2v6QTn0YjHxE1oO97MLTgM2hHelVft0cLo01OEYyWGIcmS', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$BlLso7/MxOAQ8xliaEzrMOQGKcrpCrLhppcGmP4lI4GkKEiXmDUUm', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$lG/teIqI8bNj/dA/LTOUK.JMQwyC2tXnzV1r1QGBIOIUkA.IZvjvm', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$PDAK.nBo6Zmw7eklDEjKceinefNyR6GPyij6WrqAzSVYbh41twohK', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$2eb1THpRma/C0L7S1xcPZehpBkigKZNNByh5FqNQcY3dQdHAEDUsK', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$WEHBaS78W8z3mWM76o58AejuqkkyKx4ZkP0qynN9Yf3lbdyLNf4Ii', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$VrpLo/JykNBuHiC3kEtWFOuGp62JJVyL1.1KrnbtqbKTF.5qAqTrq', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$DQfUuR73MtN1NTiDLLlF2emYJDsAXwdEZGCvEqaW94XRXhPAyCURq', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$SJKlRdaZUEZkviT1lrYQI.P0iIsCFTHc8KJ7j37ojKRKcSjppQwM6', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$lOej9VH5FOVEkW5LshSkKun6EQ3jpQs7/AAk7ZhttODjqFF.MmPi6', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$/cysi3WImQNxinGgpwDR6.WNm2MQzZYM28qlMGzzlo8XqbcYk6YGm', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$hZ26DRZFZ4FcRGWpLXzT0Oal3NJoy/z.KQVNBUFQHntBKx/V08nZq', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$VXUjGBmde8sW2Q1P48PA1O8dpGBTdT.DhDltOyjiyq6yDHJy4PHsi', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$TJWqZfz4FAOwU8p7PXIcbOTMZuNqCvTKq1v33bs2Uewc3NBnn7N7O', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$qyyZd0dd9XWeaCNU5oUGZ.nMu0.QTB3F5RDhgpw09mEazgLV6zbSm', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$9tu3CPice3pVXevOydL1luvbPOdkLKi8uBwMEOxPb24eh6tbYdiXy', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$vu5bxnpyP.UXrJNlfh7DS.p/uYSzXFiIXPJTuZe1wkqnuuad5SUYy', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$Mv65iHl.f8MvbHSDfr/v/eJOfr4ZASCZovEZUkcVo78Q3bbQ68j5S', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$Gsx9pPy8c.0uiGPGiErT0uTGCkAQyLZQRgU15EljMBhJ1dcFxohIm', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$S6cYdrzBxMeDz1yzqge2EOuZ20xAH7O3ugau4oQDcCuBgE13TmN3S', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$g47LNo5H1REtk9Mf5vPK4.akzUi3qrosC8PdWi7.boBC3u3sO0B56', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$GBQ2icQ9xcvpslwJ8dmZQON7gSlANvY95lrftb5KIyBghUpb6aoFu', 't', '2015-12-23 19:30:31.000000', '2015-12-23 19:30:31', '2015-12-23 19:30:31', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:30:31', '2015-12-23 19:30:31', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:30:31', '2015-12-23 19:30:31', 298486374)[0m
  [1m[35m (2.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:30:31 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:30:31 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$57i7n//Eahpr94sXaRP8teRaaDLjjuu5yFoz0t9QZbL70LMYrX0gG"], ["updated_at", "2015-12-23 19:30:31.197568"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:30:31 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 19:30:31.223539"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 34ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:30:31 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$OG75uOrhje48vFqkLfKEpeYmhnW.B3kbvHujz9IH5X/e3gi6xlzR."], ["updated_at", "2015-12-23 19:30:31.248606"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:30:31 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.8ms)
  Rendered users/_form.html.erb (333.8ms)
  Rendered users/edit.html.erb within layouts/application (343.7ms)
Completed 200 OK in 676ms (Views: 674.9ms | ActiveRecord: 0.1ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:30:31 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.6ms)
  Rendered users/_form.html.erb (5.2ms)
  Rendered users/edit.html.erb within layouts/application (5.5ms)
Completed 200 OK in 14ms (Views: 7.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (2.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$lgXM0EA7yHcXIlaC9leYoeXmUSPq7Y8JtAj.PEi5.llAvqPKmqLyC"], ["created_at", "2015-12-23 19:30:31.983760"], ["updated_at", "2015-12-23 19:30:31.983760"], ["activation_digest", "$2a$04$C/2XOFRaLiMXl3huC1DpoO7038YEx45fwS9afLVnI05cboPEHRLaK"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$ldR7b.Zaj4jibFBjOjJ3/ej.iv8zKyXMEozlltmZnPJoG/G5evYyK"], ["created_at", "2015-12-23 19:30:32.026291"], ["updated_at", "2015-12-23 19:30:32.026291"], ["activation_digest", "$2a$04$S87SYAJPGUs6GSdU4tAKSeS.YTx5oSWk/l4u1gUvzxCi31Cpt9//m"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (2.2ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.6ms)

UserMailer#account_activation: processed outbound mail in 13.1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$rW1GuE2XlNhAvso2LXohaepNpdA8nYwQocmUdBIzSdrGDHsf0Dvl6"], ["updated_at", "2015-12-23 19:30:32.320308"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$3uImMCzO70XrojktMYTJhuzyCfiqv2.zTNJX7ifejIkXBZmn3P916"], ["updated_at", "2015-12-23 19:30:32.325821"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$UWNadxjviwOM9uMjxb.Sbe5rWQWSAaCNrVmM.CreEarWTLFjKyt1G"], ["updated_at", "2015-12-23 19:30:32.331841"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$dTMV0wXdcCPhUvIYqeMZZuEWmBfUAThNrhxNxvxDKo.wA06UTWcEG"], ["updated_at", "2015-12-23 19:30:32.347664"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (10.4ms)
  Rendered users/index.html.erb within layouts/application (19.0ms)
Completed 200 OK in 23ms (Views: 21.3ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 436798503]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kimberly@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$5UNq2ZN5QjtsnQhKl.167.zdmBn6gwNfhFFMW796nF/7SABgEegsW"], ["updated_at", "2015-12-23 19:30:32.422914"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (5.0ms)
  Rendered users/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.8ms)
  Rendered users/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.1ms)
  Rendered users/_form.html.erb (4.2ms)
  Rendered users/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 11ms (Views: 5.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (1.3ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.2ms)
  Rendered users/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$kiMNVYtMKShSRYyOr98gG.Xyr8e2Axf5afaTmTPVX3oeibeWT39Sq"], ["created_at", "2015-12-23 19:30:32.492586"], ["updated_at", "2015-12-23 19:30:32.492586"], ["activation_digest", "$2a$04$ZKAkN.T4gtY6AA67dUmQ5OK2c19hrzyZPXNhQDpIR4kHQaeFndFrC"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.2ms)

UserMailer#account_activation: processed outbound mail in 2.7ms

Sent mail to user@example.com (14.2ms)
Date: Wed, 23 Dec 2015 11:30:32 -0800
From: from@example.com
To: user@example.com
Message-ID: <567af6587ab34_154baeab98821020@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567af65879bdd_154baeab9882095d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567af65879bdd_154baeab9882095d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/OXOwMMickd3RUaX97K9G_w/edit?email=user%40example.com



----==_mimepart_567af65879bdd_154baeab9882095d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/OXOwMMickd3RUaX97K9G_w/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567af65879bdd_154baeab9882095d--

Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/OXOwMMickd3RUaX97K9G_w/edit?email=wrong" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"OXOwMMickd3RUaX97K9G_w"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/OXOwMMickd3RUaX97K9G_w/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"OXOwMMickd3RUaX97K9G_w"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "t"], ["updated_at", "2015-12-23 19:30:32.537218"], ["id", 1046959424]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "activated_at" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated_at", "2015-12-23 19:30:32.538574"], ["updated_at", "2015-12-23 19:30:32.538911"], ["id", 1046959424]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 19ms (Views: 18.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.6ms)
  Rendered users/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$1SSpp2JUdVRaN1j5O66v/O5Uo4SUz2QLBHp/BOFjucWymask/XI7u"], ["updated_at", "2015-12-23 19:30:32.617815"], ["id", 436798503]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.1ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (5.3ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.6ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$97uajeNMYTobplkQYcWRWOH0v6gIHNILTZnI0V3Q5v8wAgSGji/8u"], ["updated_at", "2015-12-23 19:30:32.679822"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (13.1ms)
Completed 200 OK in 16ms (Views: 15.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:30:32 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:30:59', '2015-12-23 19:30:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:30:59', '2015-12-23 19:30:59', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$t5vOz.8MH9PH.Kbd6dL57OffDhYaI3CsZnaKkklgIanoDBNIqOKhK', 't', 't', '2015-12-23 19:30:59 UTC', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$MsBpODUi4dbwBuhaXf.6zOs6/o79YtPCCY.7e2l5Azsx52VAdxKme', 't', '2015-12-23 19:30:59 UTC', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$14bs9LfLoa3wy70WXnhCWu2gtdKPKhqPABlSzel0q3hrhTwoy4SAm', 't', '2015-12-23 19:30:59 UTC', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$dc.BjOYol1GIv47xvho2B.xHO/gFAtH4wY5sKiROSatRXaqPoLL4W', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$JGnf3l3B2Xz6axHQFiSLG.cTUAVorSGNOz7tMbt1JqmSAUnHcAMyq', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$hqbtkFIz0lmoD2h1WlZLVuuHAgPqB6Q4dmdj3I/P7JrtLRk1A/RKK', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$jfPDECOEnBDjdOzUQzkEH.zR1.j6/b.zqOqNiLvpkm8UtLVbp/GBa', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$t6crOidfffTXx6qqj9tvV.mSYU8hgWTh4Q4PRH0DQn6p2l5C2sree', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$.GCES0tgWBsogDsrip1y8eawL46D7H9OCbCVeOt/ZFscrEBs9MprK', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$b/BCx9qT/Ial4JAtS/seHe5/mPWWfut6gEMKBAVGcZJzOJTj3bKhe', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$38JM60LjrU5YZZO1n02JjuvDzkfX3i4jrY3IrjwujlOhCUAnlIHLG', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$OaCqHg9atUiDLfzTzQ/XlecEZCRJEjETHm4jKW0pb9WDDsKoXk2Pa', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$P5v03lkTUSsCZU5H5n.S0ecNQpwDkzUjqMwaKue9tQtGtsp3CR5HK', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$dYp//BPveNrGxrt/U9ByPuN0xdZMIrlin./lJT764ABfSiqZgo/LO', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$WCAyWG2t.zzYoxoKsi85ou19ZMaygXywXqJ386bwgp9Y3htxq4rSa', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$lNqtU28Svc0gscv8hNk/s.FVVx0.YWrc/SlhswyzmmB3WGydVWzQS', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$pfrZ/OtVr6YBp4jfpZ5ncuZGKLuum6Jizn7ghrp9xt8PbcsVdIk3e', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$7/Zt9gb5ps7k7aFPANnuuOejhvhseZa4AiZmMTAl3QsUDfQu5WSea', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$4UDn37bIW7eimFnSLSptTOXfQOmfcjLXkwAS7WJe4a94Gu1cI8/ve', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$M9cHw6mViRw0Lay3mCMKZONxo2FPniU1jKYnZHQfcTZJzdDeL4G8O', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$5U8T4qhddJPGbe5qOfuBuug1eX1ZpO5QKyaBN7E1zd72rnh1PHPBK', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$ErEMqUejCbC3KKoEx.zvwObb8YEIj/JsjB7j6Ep6nIlmox2nXOvGu', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$q4EVeEMpJzO3hMcg2/j7aOcAYKVUJXvsEUmEpe60b0JqNLgKTqVPS', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$3zymtMEy/thyb6BkbBrY7.ZFBei2AWAaIuhY92FbeLQLc36M5e2fO', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$Cc1zEn/jG69CmPS4.282x.MIdfigrE0YxVClKTbVrfT4.Es45CvUq', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$bjY/1qLVFT/DX3J3GyqrkekTzgUWOw4jO9NKdaMlp2EalB4g9yQEO', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$VWz3c44i7S1ZptgflwU4bOe5dXZKFjh3LaRGrEKy1ppD//dgd/PKq', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$N.q0CkZ15702cOwoV3t7duY2zF.21mnlKxNxPbdCKeJeqs5Kpd.qq', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$geisaFBIpOQcOv5HJT6LC.8lTiX7ubciXpn6SUjOoX5JVwhdro0S.', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$OfYaI2sf9q1kNTrtaOq3NumfDvJm3hOg6qNSYR98rhPgk1yMxNcv2', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$XgASz0zH8t3w1zb2uSqL9.gB98cxqHpU8T.CagR5nd9xH5.ZCOzOy', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$oUJALP9vIZwdZY69YpOpPuV6GpQfSZasQqXFSvuPAUH8iMxc7nHHe', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$silYP7RbEFCwV3fYf.L3N.odmidMWl0qlyC4q5.Ab8YZa01/NJyue', 't', '2015-12-23 19:30:59.000000', '2015-12-23 19:30:59', '2015-12-23 19:30:59', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:30:59', '2015-12-23 19:30:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:30:59', '2015-12-23 19:30:59', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (3.1ms)
  Rendered users/_form.html.erb (351.0ms)
  Rendered users/new.html.erb within layouts/application (362.2ms)
Completed 200 OK in 602ms (Views: 602.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$SnOK7QNv7ut8DQNvWar8cuh89U.Ld7zeS9g7XsSuRZZQFLZrK0SyO"], ["updated_at", "2015-12-23 19:31:00.325702"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/436798503
Completed 302 Found in 26ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$GgwT9xx.JZUGGoYZ9jOxSuP5c9OheAZ/S9XjoMUscMHojC/DLs/QK"], ["updated_at", "2015-12-23 19:31:00.373760"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 14ms (ActiveRecord: 0.6ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (6.6ms)
  Rendered users/index.html.erb within layouts/application (13.5ms)
Completed 200 OK in 17ms (Views: 15.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$5Nq.PYuoWHjsQ2RqLiZDge0AT3fALUKR2aFF5OljKEeEn9OPkue.q"], ["updated_at", "2015-12-23 19:31:00.408911"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (31.1ms)
  Rendered users/index.html.erb within layouts/application (36.3ms)
Completed 200 OK in 41ms (Views: 39.0ms | ActiveRecord: 0.5ms)
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 436798503]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$6PyWMlL/UctcexoPzhT7DOWS2Ge5r6.oYIDhu1701HpxsxKE2SYgK"], ["updated_at", "2015-12-23 19:31:00.531079"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$0YNfYR9dymqcaNPc6XOXs.5lbBWKi.pAS8QNZVy8X/Eo6i7oaqW.C"], ["updated_at", "2015-12-23 19:31:00.536759"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$kI9PB9t6Nia/xf5p9jmGCeKNahzJWDhXCB.oU8EP4MG58jnp4UiYO"], ["updated_at", "2015-12-23 19:31:00.544546"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (8.9ms)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.1ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (11.2ms)
Completed 200 OK in 19ms (Views: 16.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 12ms (ActiveRecord: 1.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$yXgBzZU58Zy/N00fx4cjj.OYaLRwolZv5muRgv2B95rmwmcxrwu4y"], ["updated_at", "2015-12-23 19:31:00.634952"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.8ms)
  Rendered users/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.1ms)
  Rendered users/_form.html.erb (4.0ms)
  Rendered users/new.html.erb within layouts/application (4.2ms)
Completed 200 OK in 13ms (Views: 5.6ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered users/_form.html.erb (2.8ms)
  Rendered users/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:31:00 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$qJg/.qlc15x0grym92JGLeyZm8BTR7VjPB111Qz7yb2z0b4HqL7mC"], ["created_at", "2015-12-23 19:31:00.717267"], ["updated_at", "2015-12-23 19:31:00.717267"], ["activation_digest", "$2a$04$jMz/byWQqEglt8GJ37wCzuydWwSKLb5scfy8au/2WzAgCa.3BIG0C"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (1.8ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.4ms)

UserMailer#account_activation: processed outbound mail in 256.1ms

Sent mail to user@example.com (49.1ms)
Date: Wed, 23 Dec 2015 11:31:01 -0800
From: from@example.com
To: user@example.com
Message-ID: <567af6757b28_154c96839902171c@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567af674f0b77_154c968399021647";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567af674f0b77_154c968399021647
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/wHf1Xjju2c_hm5BymbOXIA/edit?email=user%40example.com



----==_mimepart_567af674f0b77_154c968399021647
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/wHf1Xjju2c_hm5BymbOXIA/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567af674f0b77_154c968399021647--

Redirected to http://www.example.com/
Completed 302 Found in 323ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:31:01 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 11:31:01 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/wHf1Xjju2c_hm5BymbOXIA/edit?email=wrong" for 127.0.0.1 at 2015-12-23 11:31:01 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"wHf1Xjju2c_hm5BymbOXIA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/wHf1Xjju2c_hm5BymbOXIA/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 11:31:01 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"wHf1Xjju2c_hm5BymbOXIA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "t"], ["updated_at", "2015-12-23 19:31:01.057524"], ["id", 1046959424]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "activated_at" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated_at", "2015-12-23 19:31:01.058902"], ["updated_at", "2015-12-23 19:31:01.059208"], ["id", 1046959424]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 11:31:01 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 17ms (Views: 16.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (2.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$gycegkHgK7vhYbBNMdG7DeLJXX3NklRSQVfY2B9YFD6Z8Z460U1AG"], ["created_at", "2015-12-23 19:31:01.103261"], ["updated_at", "2015-12-23 19:31:01.103261"], ["activation_digest", "$2a$04$UBB/fI87d3Pe65iANOJKWOu/KwcT4QOhSSguQGoYQokJcq.xs67um"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$9XnaR9f7BsMKuZteQIBl9eOq.Y1Qs2/IiqPSCmOqWI3nzRgo0herC"], ["created_at", "2015-12-23 19:31:01.122257"], ["updated_at", "2015-12-23 19:31:01.122257"], ["activation_digest", "$2a$04$pMHdFmY2SSBwgSw6CW2.KeXEUHB7gipo02CT0OKbZJaWmWc7C.GZO"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.2ms)

UserMailer#account_activation: processed outbound mail in 3.3ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:31:01 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$z99rEktjlF9b7UHQdQOHGOz7zExPRsy6ViDuFDWsuXEBqFQH428f6"], ["updated_at", "2015-12-23 19:31:01.178664"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:31:01 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.1ms)
  Rendered users/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.1ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:31:01 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.2ms)
  Rendered users/_form.html.erb (5.3ms)
  Rendered users/edit.html.erb within layouts/application (5.7ms)
Completed 200 OK in 19ms (Views: 8.0ms | ActiveRecord: 1.7ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:31:01 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:31:01 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$FLFQonber7utuGBOuzqz8.mp3iz3EjOvi4R.LsDVo3CMXsegY7sT6"], ["updated_at", "2015-12-23 19:31:01.227734"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:31:01 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (5.7ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 19:31:01.246373"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 17ms (ActiveRecord: 6.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (14.6ms)[0m  [1mCREATE TABLE "locations" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "skate_spots_id" integer) [0m
  [1m[35m (2.0ms)[0m  CREATE TABLE "ratings" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "difficulty" integer, "police" integer, "pedestrian" integer, "time" varchar, "description" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "skate_spots_id" integer) 
  [1m[36m (1.9ms)[0m  [1mCREATE TABLE "skate_spots" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "location_id" integer, "name" varchar) [0m
  [1m[35m (3.2ms)[0m  CREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "email" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "password_digest" varchar, "remember_digest" varchar, "admin" boolean DEFAULT 'f', "activation_digest" varchar, "activated" boolean DEFAULT 'f', "activated_at" datetime, "reset_digest" varchar, "reset_sent_at" datetime) 
  [1m[36m (0.1ms)[0m  [1mselect sqlite_version(*)[0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL) [0m
  [1m[35m (1.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.1ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151223193607')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223002646')[0m
  [1m[35m (0.8ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151223154827')
  [1m[36m (46.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223050844')[0m
  [1m[35m (1.2ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220214651')
  [1m[36m (1.3ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223020947')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151223022533')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223184753')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220214013')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220213928')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220214806')
  [1m[36m (2.5ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151223022333')[0m
  [1m[35m (1.4ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20151220214536')
  [1m[36m (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20151220213753')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM "ratings"
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "locations"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:40:00', '2015-12-23 19:40:00', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:40:00', '2015-12-23 19:40:00', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "users"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$4CSqr4ofSyOZG1YJUWM1pOaMWnwf8LyN5A9lsEgPHf5MGTb9zEMrm', 't', 't', '2015-12-23 19:40:00 UTC', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 834146161)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$70h045V7vtqtPMht97uOMupCnC7KymbMbz.BpVrzLYnqhWHEkZYea', 't', '2015-12-23 19:40:00 UTC', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 436798503)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$9JpRIRWKxvytBJDEEpCXpeB/IOf2wxbb.CGFBDjc9R.yU2hffFJoi', 't', '2015-12-23 19:40:00 UTC', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 712064548)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$PhP2TR2f1QGAw3a9lLrQWufZl0cAmnk/5v9ERp6TRum/eD42loBji', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 338193910)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$RvKUNrIY43hotjVQHRBWTOl9IVPeRSr7qc7VhmCHBXi/XsereW6Jy', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 590306657)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$xbj4lg0GKrg8mxumyXnnS.tVQfoCt1SG3NQI4KggSspMWOiz.amEC', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 975572189)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$V.ioUbx8nUJRz/yE1vJldOrykBqo.GX7YhLaCE22IT9RCtMOAw5x.', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 220281934)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$Sbkrbgdx.xAciz/j6OjH.OZh2rK7CGrZOq2Kt.ntqBDqElsFzAp66', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 323332591)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$A4EqMUVI4M2tfVF3oHwnzuVYB/UiRjoHZ.BOcMC2Pa.ijyaLECji2', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 608344442)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$twEWmkS12PJbkDKrQYtu..nekawGd52eUcDWOAvZ3aGl07/O8jg5e', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 1028376774)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$hlyxTwo/kQD4EpD.fNoa4ujS8ecPU2OXUkZyWMSFi8vzLAcXcopuO', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 172816471)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$gS2cqjmGf9IS9W.OIc2DiehJPdhPfa7C6Y1CaKzkixrWqNKvLrP5.', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 452191684)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$J1oK4XREvvt0agb2nkr5oOhzqvKg0Sl0dZ.82HwnFaAMAKUDBg8Fy', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 771020115)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$NkyW/rOObhiJiK8iYxBz8ujwbW3GhF6gZLf4/CnM4R9WHGc6y21Vu', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 956993830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$znZJ6h2G1UIFZmbih4vTUeLti/BnxQ9BkB/NKgcJWhFswbYIiBKqu', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 235774389)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$ZeF3Unn3rTrCQNCha79Ju.BZmPxonI.AbR8XfTVrv3imJYtepdCia', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 386199561)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$UWDZJOxV6gjFqGBU74eD0.B36.u0voFS4vcLXs6D2/ui7xW0kQk1W', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 537116830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$fUxjnYb.a0qGQBJc258D6OhODzXkPxHG6yi7iJ/LIcvViH.lKme5O', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 1046959423)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$U0pemlTEGKvH.jXoBizNve82y5xs6UvL9BzY3WMJxT4M9iB8HbmqO', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 157312430)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$XVRUftzQOO//nRwGOxCk0ORXxZOx9MFBqfYppTvXVV9usq4aNT8Wy', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 275330066)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$hiNOVai45Hrf13FkuHihr.4o5kSsjoIZvS0OFQj/C/0Jh/KvM9eCK', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 661521543)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$kFSRN0pugfgaTpP2uNz6Te/zevEBJPbF/4NAmoErsfx11HAe/c3aq', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 936450328)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$rTTSOXRBrG0kGrYHut0SoeNmW2fcR1xYeNlJH7SW7m/QvCc6uE/iu', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 14035331)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$Ce6RAyP2MsA2QpxdNAGj9u22zT4dTo6gfJc1a7wEPzGtDGtDgjrIi', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 304595689)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$e1dJssSWWVYzxFn9i5ZuSuqXMpP4ia5IIYLJ.fxxxTVsKTAfS9jr6', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 622916212)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$abdHEYD.KIIZH9Gpzmza4eUNZIBOkeeCulYT0SQvpPZ3oXIqexftq', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 1009361868)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$oA5RzQw3o3myj3KvIuznt.62DZgeyY8ehUqGcj0w2nwdGilgvGFta', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 187601757)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$MzQd.RUZDS8aOjopRcZj1O6IokY2qutvmJrP9r0PdhzNP44eWW2ge', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 357172992)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$tWlI23YsH4zDgunWFxRhv.YbfQYLYbzj9ErPWwIX8h6QVaI92nj0u', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 575485547)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$slYXnXzTCsKqH9jOr7BOIutoOEELB6hNka6HvMDRIPaF501lJ3.jC', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 994338771)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$0MCDz8SeMlcOglCpF6CDv.FqvDouwZWtH5UJ24/vGLkkRpAb9OwwS', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 205739844)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$ax0v.jkPiQzs3V21XDFAV.K8UhIY.1rSqsddiHSFAboEgxi7CK5OO', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 486296279)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$9ACTbSO8jQl9Z1zdcCoG9uCyRSzc4fEuBsYqCC6PGB7GkxF.4aqaW', 't', '2015-12-23 19:40:00.000000', '2015-12-23 19:40:00', '2015-12-23 19:40:00', 737901126)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "skate_spots"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:40:00', '2015-12-23 19:40:00', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:40:00', '2015-12-23 19:40:00', 298486374)
  [1m[36m (1.9ms)[0m  [1mcommit transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:00 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (19.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$fvPWPFTEQNnSh/EZl3qE7u.vIh0CZZYiXiU8yDl0RB/yjpPL8B1vS"], ["updated_at", "2015-12-23 19:40:01.007821"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 128ms (ActiveRecord: 19.9ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:40:01 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (12.3ms)
  Rendered users/index.html.erb within layouts/application (383.4ms)
Completed 200 OK in 3196ms (Views: 3192.5ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$b9sRQStXI5eY1DBWamU/ieWFdorVz3oM7lVsqJNGeXE7fVUcyKC1."], ["updated_at", "2015-12-23 19:40:04.369519"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (6.2ms)
  Rendered users/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.9ms)
  Rendered users/_form.html.erb (20.9ms)
  Rendered users/new.html.erb within layouts/application (22.7ms)
Completed 200 OK in 27ms (Views: 26.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$RorTV4mQqHCU1m23iHx0Pu9p2Ste3RJJ0YH2V06.J4baE9gDBR81m"], ["created_at", "2015-12-23 19:40:04.470830"], ["updated_at", "2015-12-23 19:40:04.470830"], ["activation_digest", "$2a$04$Qf1LVjdTHuPIlebijg59iuab.x2pur2fXz4pcJKn4T1l.Rgla8kye"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (1.9ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.5ms)

UserMailer#account_activation: processed outbound mail in 170.5ms

Sent mail to user@example.com (29.1ms)
Date: Wed, 23 Dec 2015 11:40:04 -0800
From: from@example.com
To: user@example.com
Message-ID: <567af894a694d_1566351b9905765a@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567af894a08f2_1566351b990575d4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567af894a08f2_1566351b990575d4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/9ngRUTqEz3hRfdg2dfsqbA/edit?email=user%40example.com



----==_mimepart_567af894a08f2_1566351b990575d4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/9ngRUTqEz3hRfdg2dfsqbA/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567af894a08f2_1566351b990575d4--

Redirected to http://www.example.com/
Completed 302 Found in 234ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/account_activations/9ngRUTqEz3hRfdg2dfsqbA/edit?email=wrong" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"9ngRUTqEz3hRfdg2dfsqbA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/9ngRUTqEz3hRfdg2dfsqbA/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"9ngRUTqEz3hRfdg2dfsqbA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (5.3ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "t"], ["updated_at", "2015-12-23 19:40:04.709375"], ["id", 1046959424]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "activated_at" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated_at", "2015-12-23 19:40:04.716175"], ["updated_at", "2015-12-23 19:40:04.716619"], ["id", 1046959424]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 11ms (ActiveRecord: 5.8ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 30ms (Views: 28.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.5ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.5ms)
  Rendered users/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.1ms)
  Rendered users/_form.html.erb (4.1ms)
  Rendered users/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 13ms (Views: 5.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.5ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.3ms)

UserMailer#account_activation: processed outbound mail in 4.0ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$SPQ45wt1noI/2TGaOodNdOdTKOBGOI0KQj8K1M.whvCqMqngfDsoy"], ["updated_at", "2015-12-23 19:40:04.798216"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.2ms)
  Rendered users/edit.html.erb within layouts/application (3.0ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.1ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (1.8ms)
  Rendered users/_form.html.erb (4.2ms)
  Rendered users/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 14ms (Views: 5.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$.aBLN9AUF23b59b6uG16QOI6rNz5wIMjRubqMO3qvaBg.p9xl76oS"], ["updated_at", "2015-12-23 19:40:04.848410"], ["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 19:40:04.858954"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$CADW8ngXaD6KSIjIS.nIL.V2Lvj8WmOKKA7FdGWZEqrN2ZtQYVy7i"], ["updated_at", "2015-12-23 19:40:04.869448"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.7ms)
Completed 200 OK in 29ms (Views: 28.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$djG1SqAWCug.io5yFuO8t.Rt1WU4/BwB94P4pFuN39r1RZ3Jnyjx2"], ["created_at", "2015-12-23 19:40:04.965690"], ["updated_at", "2015-12-23 19:40:04.965690"], ["activation_digest", "$2a$04$8s7A9daCDWNuK5xh6cLLvOHrL5XsKA6TMdeSbLgh56oZb.WKxHPrW"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$Or9.mvXTUWftTuhqAVpgB.HqPSDu39qPjDNl4A9m1Nf6t9ghEFOyi"], ["created_at", "2015-12-23 19:40:04.990088"], ["updated_at", "2015-12-23 19:40:04.990088"], ["activation_digest", "$2a$04$Ag9U8DdxkBbvK2Qt.ujX8OzK2fFXWNBt9At4pxG/AnM07o3EAbm.K"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.1ms)
  Rendered users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$Fq1vHESoKUok.cmgidiBtuXvtwzsunsPVAVIqwPGWK6LUlSrmW7Oq"], ["updated_at", "2015-12-23 19:40:05.092660"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$hzvzoRD5Rixl8VqDuseO2eVjAgiVjabEixW8.Ni7.8QQFKY/jcUia"], ["updated_at", "2015-12-23 19:40:05.103207"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$GaUgNJD.2QXayexjzlHZw.zUkglnVz0tYmFAgbE4kq8QgODpSPnjW"], ["updated_at", "2015-12-23 19:40:05.108304"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$9rEezEbKZMGAUQrWuxOOReUZIbuJyHUks9mYn1RJxLsmbIvsFMMAa"], ["updated_at", "2015-12-23 19:40:05.114237"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:40:32', '2015-12-23 19:40:32', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:40:32', '2015-12-23 19:40:32', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$./lTwzTPrfL/ZWPO2TOy.O7h.hJBbU7nKfNA8LyLpVDmrVGVFazre', 't', 't', '2015-12-23 19:40:32 UTC', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$Cx.XQ4ltMaqDjTbp5nvt4O7ORgKNkOyolB737lrOtBSpVHBXQ/wnS', 't', '2015-12-23 19:40:32 UTC', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$m5iCG6UQPPPb4TPnedAnXeEJRkhX9ZnDWCA9ANcAU0GKcubmRP2Ea', 't', '2015-12-23 19:40:32 UTC', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$KHqbSFfvcww0D3wtb3aFfuO6in90TSurQtsB9fVwqmFKQeAFhSZFu', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$dyTpOqa6gP46JamlGdXaRegiDUOPZp2GQaOceA.Q5zQHHENxYZ3Zu', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$HzTKu7NZJz0H7H0Yu.hyKeQUefYiBnr3chU67pXU7kCI8MtCmPI9e', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$U9e9hbXGb5VxusmOpRs2ZOP7yVXAmu2QM8Eu3qlD9Ci8LugPm4oi6', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$qR9ZF0XUUGNF0qOS7rirEOQDKE743sF41EOodxHZ6ampwmJCxnEPq', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$iNpXbLTWSrLRrfoIQzSbFefdF4YS4irYgCIe3wn8yZpggY3ThNQBK', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$2J9jSrP2fQObJBwq8A6P1u7oksWI2/eL.0f9pqj6zyaP8udiAKDYq', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$4Hs2Zzq.VrMhsBbGqLIe5.jLQNniedkMltiIbbR57esHfLeXAgks6', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$FtS0azIat065eyISSNAx5OPkbK4W1BCdSM.rt.FDnCWSDEjfAjPVC', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$oWdGFvacdfSnmrPYZgy/ee8/6BxGJ9w8cGD5v/wielhbZQE25AYXa', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$qvAFOZ0Jruzo6/yf1CdYwO6.dMzU40kwMXwlqdPMaokHdF2MMGLzu', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$WQuaa605pAkpU2tzVsi1A.v33TVIeye6gZpkPaM0V36NIPpCdEbqe', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$Qj10dJM8F4XBnEzj3h9O/ukCEf93Z5usqBQ3VSXb1vWPeLAgsvGu2', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$XMovyQRNbbKR5IsxIXU0N.L65pTSfqHyykbvGYYbBqjFifbpsjiFa', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$aJruMi4sBpBjABHMb5DGMuTsy.hTSMmHKa3EfLsiGB/VnFqTjvfny', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$rQUJ2l75F9lqRSzQDuPTF.yhk.CFoJBtBwhO/EYihw4C8Tt3ZfgA2', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$Pk5qgACelcjsno6weBlXfeiJ/8od5CeFw8KH6JhRrXafjkKe6XKya', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$xnTnNkO/GTQcavGTIyZ3kOcWkFstMUmntKMlamD7ndjZQpWNdtD5G', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$WOCqXX.l4g3ANlNOfyk/NuqYzIfyEkoRsLj1rkWVC/FpVwpodmuiu', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$2MfI6O.g5tR3wM8XnCcU5.WzSdFnMnGRAK95nLUQgXAYsMF/W/ns.', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$eMcFMEN9Z/QsGSStLOKnF.aZecoYYnd5gmYvu1UH5xmGUG4Ipn/t6', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$DVU5o.LCAzTGxyB6df7bgudqNJMBN3c9VHFCp4b62HsJcq6XCRX9W', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$i40NiZJbQfCmS4Y3SO5qfuKkDeWRPG/aDyECPiBeAQ7bSS4EYxkTy', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 1009361868)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$UYGBL3VeuqoL7nZtHran/el4k/95gMiSGBMAR4PH/ZnZR7W3Yvl/q', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$kuxURjuxvyMAd.Sc5BEFXuQwVMyETbGJruB3U2yZj0hBH1HoUbWO2', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$XQaDmrA3O9.jL8regkSNluB12eMu6y53CKt4O5syo8AIx2CU3HFny', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$XUAI17DouVdNKpQe578mjex51Q4J6Te8gPGSvyJlt3e6S1lnAXgki', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$ttcoJgIrkEM/gtNqUL6fe.KD39lWpRZyM3IXzinAD8sdEBUd6k5GW', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$bQVP0gXFhtuhOZmw1xi3reY5iAYOpUkBYlWFaloEg2CPcpTKCnBhW', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$a6PLZdPhkNqm37i9t9ZikeI.EcINS.RPhs5X.OkUi1uv00b/3cX6q', 't', '2015-12-23 19:40:32.000000', '2015-12-23 19:40:32', '2015-12-23 19:40:32', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:40:32', '2015-12-23 19:40:32', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:40:32', '2015-12-23 19:40:32', 298486374)[0m
  [1m[35m (41.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]

UserMailer#password_reset: processed outbound mail in 0.7ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (3.8ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.6ms)

UserMailer#account_activation: processed outbound mail in 22.2ms
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:40:32 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.6ms)
  Rendered users/_form.html.erb (369.9ms)
  Rendered users/new.html.erb within layouts/application (374.3ms)
Completed 200 OK in 662ms (Views: 648.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$DSX3waN1cKCrj9d9IfiXQepN0ORRISai79EC.AFgojLE5AaPG2xre"], ["created_at", "2015-12-23 19:40:33.365955"], ["updated_at", "2015-12-23 19:40:33.365955"], ["activation_digest", "$2a$04$B/mQwFUxlk7U8bDVu08Rbua5e/aX8QPKNZ1Zvr/WFbZpDHj0WFlBq"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.1ms)

UserMailer#account_activation: processed outbound mail in 2.7ms

Sent mail to user@example.com (16.1ms)
Date: Wed, 23 Dec 2015 11:40:33 -0800
From: from@example.com
To: user@example.com
Message-ID: <567af8b15b5e7_15687119f98c37633@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567af8b15ae46_15687119f98c37550";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567af8b15ae46_15687119f98c37550
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/lFFKoi-8G_HnE_XZTTXmlg/edit?email=user%40example.com



----==_mimepart_567af8b15ae46_15687119f98c37550
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/lFFKoi-8G_HnE_XZTTXmlg/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567af8b15ae46_15687119f98c37550--

Redirected to http://www.example.com/
Completed 302 Found in 39ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/lFFKoi-8G_HnE_XZTTXmlg/edit?email=wrong" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"lFFKoi-8G_HnE_XZTTXmlg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/lFFKoi-8G_HnE_XZTTXmlg/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"lFFKoi-8G_HnE_XZTTXmlg"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "t"], ["updated_at", "2015-12-23 19:40:33.416799"], ["id", 1046959424]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "activated_at" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated_at", "2015-12-23 19:40:33.419151"], ["updated_at", "2015-12-23 19:40:33.419555"], ["id", 1046959424]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 24ms (Views: 22.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.5ms)
  Rendered users/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.2ms)
  Rendered users/_form.html.erb (4.1ms)
  Rendered users/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 14ms (Views: 5.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$rAkZWTL7//dtewIYU38L0OJKNMrDVCR3LqkS/e8JJiOx38Es9mRz6"], ["updated_at", "2015-12-23 19:40:33.483958"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$V2BlLyCz/qtUrfsQ1mEmaOfWLZdh8ZxJRqt8t29oUIOrhpl0pMiWq"], ["updated_at", "2015-12-23 19:40:33.490885"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$mgil7lWmIA.uqdLtBP9USul94PeoqS0MTiBxvfemr.ZZ76drxAuM."], ["updated_at", "2015-12-23 19:40:33.498924"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (1.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$XR7tv2wMmSkFX3iG/PMFNuhc4z3zS8WObyA9AQ/AL3ybV1onIndEW"], ["created_at", "2015-12-23 19:40:33.556023"], ["updated_at", "2015-12-23 19:40:33.556023"], ["activation_digest", "$2a$04$0KpnHvwPbDkoTo/4WAacVe1IxO3EHugpzDqTpTv5p.Ty5ciGOefxi"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$Gqbzinn/JQ4ripM9zcbWOOQTlbKpaXGToUDJr3Lo3Lr/fyTfSeSHO"], ["created_at", "2015-12-23 19:40:33.565866"], ["updated_at", "2015-12-23 19:40:33.565866"], ["activation_digest", "$2a$04$uI4XtenxI17taEZthLfFlusIBFrKsz9Hy6IszgpYZevPwHboNDZmO"]]
  [1m[36m (1.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$xyL6XDdm98/DpL8uzkhdxugV2aC1R/dqAAwTIwj5BytWRuAk7.wg6"], ["updated_at", "2015-12-23 19:40:33.592139"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 19:40:33.606492"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$nrexBEDoqhsyGPL3gZCEM.y2E2UmgGjJG9VU/S8BPoK.btXN06Qgu"], ["updated_at", "2015-12-23 19:40:33.618623"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.1ms)
  Rendered users/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.2ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (1.9ms)
  Rendered users/_form.html.erb (4.0ms)
  Rendered users/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 13ms (Views: 5.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$ZnOGmna5TMU3hYzWhMy3D.IIgsxX4fczZjZiQK1Tc6SrGBP98A.i2"], ["updated_at", "2015-12-23 19:40:33.667443"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (8.8ms)
  Rendered users/index.html.erb within layouts/application (16.8ms)
Completed 200 OK in 21ms (Views: 18.9ms | ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 436798503]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$B.hIL5RzFELJLZio8cV0v.1HY80KRyAnOWi1VMx1.gThiKjLSms5e"], ["updated_at", "2015-12-23 19:40:33.738306"], ["id", 436798503]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (4.5ms)
  Rendered users/index.html.erb within layouts/application (7.8ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.3ms)
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$XLflvxccwKVxUGj9oqFHt.nr9ZxrV66yJpRzlznuqykT8ET3sLesC"], ["updated_at", "2015-12-23 19:40:33.779115"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 41ms (Views: 40.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 11:40:33 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$6zixvwnVUWBiDX2YjeK98Or.WCuSKFvr1P5AlRukSBjqIa32ttLeK"], ["updated_at", "2015-12-23 19:40:33.878152"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.1ms)
  Rendered users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:46:04', '2015-12-23 19:46:04', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:46:04', '2015-12-23 19:46:04', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$Sv4HIMfuJAgXosSW3evCses6N4NshfGMMixyKdrbcrpmzE5V/qwRW', 't', 't', '2015-12-23 19:46:04 UTC', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$WrjGCjFx/np0Lc196mRIaeDfTLAejBV4wHngLRCTsMr1GZVefurca', 't', '2015-12-23 19:46:04 UTC', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$D50E7FCmC8YJVrI4cTh5U.ZtnbitNp3L8/6DKCuc42dm4qDwGjL6G', 't', '2015-12-23 19:46:04 UTC', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$mmryA9jgR8VK7BQEAMIsCua0lDyzyD4pKpm31iJpjRxR0WryG91yW', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$QEPf2En0UMwnPxirRBaXC.BcUbpPU.okBowUCo6mCXC8MWsod7Du2', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$Ce06ajOU5Q/94b8/JdLO9epEn731taHdlVjH0qVoddz25s0x6HeRS', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$oTi8VdhnTJ.7AK0kV5O6A.kO22sumKMpHTTXSaD5c/HEJa1s9QVui', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$f2hEF8mPKdG8mojMIeaYpuSwhLlAiq.Tw4BEa9KjMgEXV4hj5cE/O', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$PqqUFnMABOUCpGwvwxB62enzJspmbdYmxZI2OPgiGOlx23TJ//cpm', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$w8yhfirdF//xtX93HPZ/9OaM9NaFrasI2NBKcISrvQnpUZFAlnrMm', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$U4RN8Ugrl8wEx4VDPf33C.J4V291ion6dR2qve3GneuiJpIWwyCFO', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$1CstXcr8e..FGn9aCYggRO1/iqwhvfLksawqFAUnPjrSogs9wkIuS', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$L73/ZrBRl0scQ2u/8sBfEO6hvim.6mmADTTPZhAuCq3XMHhe3rwYe', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$9BBl4Umz.TbIkJqGEPpYi.frW.vS92ByN1yrBJBLRU0jMxnzToZ7C', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$XwDY8Q37DURov1dWiiDf4emL.dNNZS0iIVmUKPIcoXko1UKjxU9c6', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$8lOd9xIzHnw.CgutgtLgbO2Myp2MBtzWm/bniDJZoxrcH3HGjvCDS', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$Ka9MaPjjwRWeyV6/uHrXdu5wOJAO/2lWIx/8OnjcVsGVzCCFn4V4e', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$KgAKzeGob9H/dyH27OeSh.rOrNK1zEpylDEAgsPC5I2B.4k1flUDa', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$Mpns64MKZc5oYV5JePkYjOa6JDM3SrPfRCzyfh4Ro//weOjFuyoW.', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$Yk7B.wc3J1NVjkPWwmt85ejNUPUjSYmSJuY44JPb6MOTUoltY/A.S', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$pZIaL/69xzfJyqYgFR2sC.PJCisEIz/39yiwp3GrKgzmqsL8EJLKe', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$t.PfDEUllBqko6A/R9l0duPyTfQdqmWBPIMflLaRzJoW2fsqW1s42', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$47Iu.wA/7cEiq42VdmKLeuZsPJRg96JNrV2JkBrYIZxYELQ0ouE6S', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$o/ENxlA0.TCJKTc8pCbIreTuO66mFtT8ljK8eqxvoa6Wvz3deQGNu', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$wQiy3uBeHedH9QLn1DZ0reH8wn75yKHLlvmk5y.iNkkxB67AWfgea', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$UwlzJNPWhYBKiT.c.JbZqu/yXP5GB3ZTliG0w1gUeOcKMct0Hfthq', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$httu6JlUv31ZPlWy4KGZCO90bJAKA3SSv6c4tMvZnglgJbMDKOx5m', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$HfAQ/B/3FhGJWTkHmijQqeUOf8HOBLZJkcgg85INhHcIaO4/wzCum', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$JTHOf4F2LeEGSS5Ft3vfZOsERl4.GDDk2qyPoR2OjOxw4NeSanr6a', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$08kh5P/a4khSmxF38XrrGO.Vq./zwGMRUfcHDTBfZEO5Clnb.F8sG', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$7wbammIXjmq0.ClAp4QVvuDgzG3NOz3lmxi1ogdBJKMIbMeQ7DFI6', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$PszoQWolxQA.a8g0TG8bUuepoN1uqAE0Tgx9b0rog7oR04c/HlvjK', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$2A9ppqRuK/rQoKi1T97IEuoDbtPBZ2vFpksnruG70z3556K7bxXNC', 't', '2015-12-23 19:46:04.000000', '2015-12-23 19:46:04', '2015-12-23 19:46:04', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:46:04', '2015-12-23 19:46:04', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:46:04', '2015-12-23 19:46:04', 298486374)[0m
  [1m[35m (3.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:04 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$47U0nwVDKlpG6JCQUJN4kOXap1ib12e8kGaRrQVV3kx9QRPL05Op6"], ["updated_at", "2015-12-23 19:46:04.993765"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 23ms (ActiveRecord: 0.6ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:46:05 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (12.2ms)
  Rendered users/index.html.erb within layouts/application (362.4ms)
Completed 200 OK in 887ms (Views: 884.0ms | ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 11:46:05 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 436798503]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:05 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kimberly@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$npjey8aOt1/Vlkr5zCPDXO.nWBEF9hyCGGI189BUIDkj5Bf9wEucu"], ["updated_at", "2015-12-23 19:46:05.946772"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:46:05 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (6.1ms)
  Rendered users/index.html.erb within layouts/application (13.6ms)
Completed 200 OK in 18ms (Views: 16.5ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$YxLCRq49KondSOhnTvpR4e64Din4BYR/6l1WidbcfgF1DQvU4IgB2"], ["created_at", "2015-12-23 19:46:06.017984"], ["updated_at", "2015-12-23 19:46:06.017984"], ["activation_digest", "$2a$04$Qo3ktpzTsgLkopc/FbuLhOYrKuD/zbYNe.t9Mdl5N4iQ2g3c7Amc."]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$sh9sW0N8C93PdZCg1c4/buiix9EuMAoTkHtVFXGPmQvG4PaG1V.9G"], ["created_at", "2015-12-23 19:46:06.100263"], ["updated_at", "2015-12-23 19:46:06.100263"], ["activation_digest", "$2a$04$v30PLXXjMFsxKaZG2nSMoOWSm.61h9uGV9h1gev/t/fHegmbYJAg2"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$P4MO5vJL.RxjbjcxpQ9np.P4XhQn53TFGLhDUa1weQqsx6RLPa5Sq"], ["updated_at", "2015-12-23 19:46:06.144289"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (3.4ms)[0m  UPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 19:46:06.167502"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 15ms (ActiveRecord: 3.8ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$6vL0kwu8fKcMKaOMEQbJc.ywRPqX3/ENmEivPU8mhE/n2CvgfqToG"], ["updated_at", "2015-12-23 19:46:06.191207"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (1.7ms)
  Rendered users/_form.html.erb (32.0ms)
  Rendered users/edit.html.erb within layouts/application (35.4ms)
Completed 200 OK in 42ms (Views: 39.3ms | ActiveRecord: 0.2ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (4.3ms)
  Rendered users/_form.html.erb (8.3ms)
  Rendered users/edit.html.erb within layouts/application (9.6ms)
Completed 200 OK in 23ms (Views: 12.4ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (1.8ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.6ms)

UserMailer#account_activation: processed outbound mail in 25.6ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]

UserMailer#password_reset: processed outbound mail in 0.2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.5ms)
  Rendered users/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$RXBN8bEJLValPU4FuTwNI.tzUhzDTjBGlfVEe2TtWeb6.2gJW5Vve"], ["updated_at", "2015-12-23 19:46:06.650342"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 35ms (Views: 34.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (8.8ms)
Completed 200 OK in 17ms (Views: 13.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$13FymIslD2MO0dwgnlk7keppvKpeyYeSiMHy9wxI8xTpFYXGLm9ji"], ["updated_at", "2015-12-23 19:46:06.771678"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.4ms)
  Rendered users/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$C3BJALW/xlbTgekwBPSTEeSfhp8/l/imoDmk7/ERPHvcYqV96j7Rq"], ["created_at", "2015-12-23 19:46:06.796137"], ["updated_at", "2015-12-23 19:46:06.796137"], ["activation_digest", "$2a$04$oGqMtHG9rzkaOJ3cs.6ybeyPEpMjXDcYqJFApxsUHbku90WTGysTG"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.2ms)

UserMailer#account_activation: processed outbound mail in 2.7ms

Sent mail to user@example.com (55.6ms)
Date: Wed, 23 Dec 2015 11:46:06 -0800
From: from@example.com
To: user@example.com
Message-ID: <567af9fec452f_1572859d9909694f@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567af9fec3d58_1572859d990968b2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567af9fec3d58_1572859d990968b2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/7d52Vc7-4cm4khf1Bxr0Cg/edit?email=user%40example.com



----==_mimepart_567af9fec3d58_1572859d990968b2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/7d52Vc7-4cm4khf1Bxr0Cg/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567af9fec3d58_1572859d990968b2--

Redirected to http://www.example.com/
Completed 302 Found in 67ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/7d52Vc7-4cm4khf1Bxr0Cg/edit?email=wrong" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"7d52Vc7-4cm4khf1Bxr0Cg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/7d52Vc7-4cm4khf1Bxr0Cg/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"7d52Vc7-4cm4khf1Bxr0Cg"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "t"], ["updated_at", "2015-12-23 19:46:06.879189"], ["id", 1046959424]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "activated_at" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated_at", "2015-12-23 19:46:06.880598"], ["updated_at", "2015-12-23 19:46:06.880977"], ["id", 1046959424]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (1.0ms)
Completed 200 OK in 32ms (Views: 31.6ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.6ms)
  Rendered users/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:46:06 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.6ms)
  Rendered users/_form.html.erb (6.4ms)
  Rendered users/new.html.erb within layouts/application (6.7ms)
Completed 200 OK in 16ms (Views: 9.1ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$ZgKZRcNSPHhPbJerVC5dQOE29AeXFcuBSVRyo31AOSTtxZYM3bbVK"], ["updated_at", "2015-12-23 19:46:06.957504"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$kD9Xg3EQuPlx1oNjLMSxdOn8.bfpBARU3mR5yhf4aGfxe4sj7B5/m"], ["updated_at", "2015-12-23 19:46:06.960888"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$GXRoZlVnLzGuobN/3RTVb.aA2xlv2qqYqeQ65oQeY2TUcxURpPi7K"], ["updated_at", "2015-12-23 19:46:06.967257"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:46:29', '2015-12-23 19:46:29', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:46:29', '2015-12-23 19:46:29', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$ztC7Qu7f1aLqQV2bN3AfgOaRh1RXzCe2y4dUSI5MXfAQ03moV6.gi', 't', 't', '2015-12-23 19:46:29 UTC', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$m9ZyCNxs0wkMvAP/FEeEYeASa37ZEzrUk/8MORfsxzEcmgrVrRPJy', 't', '2015-12-23 19:46:29 UTC', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$P44W8ZydEGnobW/eGJpzB.UDsq./4urt5HNkCedDi5KzOWDLjD4XK', 't', '2015-12-23 19:46:29 UTC', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$tAKF0yDpshriIp1icXur..G7PmqU4VXG/EZMz2Gckl0YXGbAd1d3a', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$nabqSj6byopdPKJPXj3TZ.HTTnReyAnXMyb9Ia6OnqDyEKXeLiFHu', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$kCDFOCW86yhbQQu0HjYSQ.sDVLFQNQeRRZMNcMrUtxzRi4cfVdEY.', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$CX0NJs3dgKSSonMUIPS5duJfzyzftp.kmPlTbJNS2Yt4e0cDRmXBq', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$1s/AdEwq1ABJc3H83fucjOYrYkALa1VeeUIyzz57Fn6uaaDGoSvwS', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$LRqnFW6gOY02I4C8VIwam.snVEt.VkJb/cyVBm.Ax2Wlq4VXqSJUm', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$25j7YcmfMlTV.2k6f8TJ../wTjBLykQ.T8.dNOs6lzv87FdvCRWGS', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$wTB7U5cjKPTRRO35RYl2jeis0d18dJhk8ey.jb3P1/RwWd3wiZxTa', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$PKCsA4542KCxooZ08mwDgOCdqC8HMDyngC91LuXfXFLdo6qMzCmrm', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$PH98Zvj86oetDTHKqJJCw..E.MnKlbOJolk4VC/Tferx2c9OdQu6.', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$sKmO27IOZO/dt5djy.2S5uRSmgsfdRKP6qYuaR1wRyxfMeXMnnzKm', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$JXZJB983bsEhRN6dIk0nQuEBD21iJ3DW26GxxpTcTMcCouZD79G3i', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$yF1/1VcoCBVW1R4rdTlXne3pnGARvQFOahGANVfgV6TfFkHifJxay', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$jyjdklNEi2J3tAwisL8bP.6HvZpvYIa2O/spq3/B6Qx7gmezpHOmK', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$Sd7Tc5m2vCczAoNu7ZEJmeNIcHWizBKAqZVimOYXQneYgOmiejxre', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$1/u6WTFCLSCnBxFAvgR75.NOLEK8eSx0txn39bZIKdfXALjZlm/P6', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$da14uPNRF0XXyMBJax5QE.i0DT3PfEF33dJ/21Ksc5q2MqEtk2alq', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$TsKIBo25X2GHwyvAgnkzK.n2xpFR6W1uz3lnuD4XeYnBJaJXHl19K', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$IPp5HR.VsAfi.ibbfkswS.JSMxEPSgEZV3vIoK9K13sDF.8Kt3M9W', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$NNOXbcfSH1Prjsm32rcBnOOYMx3i5RkaNVGeOH9NYxFGkBoPZ7gK6', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$IPC85PmyLTxEMVm7EiPPeO4OKA0.Zs5YJB8XCF9qfpIFHMCi2SqTG', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$cFaiZ3cQRnuF6fIOY4KucuJZGiMw.HyvJFGLWSqAReQfovD76Ggiq', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$9aypML/x5jOuQYFov1Xkb.pmBKkBhuFFNz0cpz.oopJxMFmd3SzHm', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$n20ETn5ahGgkqKVD.1DS9OOzIoac0duj8RWqiGMJI23POEbMqneNG', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$8GYgpK7FZJL0n9KwDbiv1OgDXl013VG75SRD7.gOgcpipPCB.u.y6', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$jT5IvNRVXnd.O7yiQCyFpuyWDwEzEt.FzR7z6HWGFcwR1BgDRURJi', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$pDUO0urgOJLhmg3Yd7EA/OsY0ziRGmDCdO94tBYb6VWEUMj.Kc2be', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$1V5r8nMdZ/mgCrG9FgOtI.AUE77jdj8LWOx2r1OFzNeWmas5dA4rK', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 205739844)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$N96kHE1goucerbTQQl7eL.IeWJgQCj1gYpeQbQJjL2mfdo/FuVeui', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$mY.tpXN84s9CwTdrcBLvIuoyijuAsIcEqljXL7.1LSntbqlpWeYd6', 't', '2015-12-23 19:46:29.000000', '2015-12-23 19:46:29', '2015-12-23 19:46:29', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:46:29', '2015-12-23 19:46:29', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 19:46:29', '2015-12-23 19:46:29', 298486374)[0m
  [1m[35m (3.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$mUEUteDzQOLt3nCE0xHgFeEAwu4S6IVU59/BZ/mlHZ7JFiRd9UCA6"], ["updated_at", "2015-12-23 19:46:29.389975"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 24ms (ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered users/_form.html.erb (331.3ms)
  Rendered users/new.html.erb within layouts/application (337.6ms)
Completed 200 OK in 662ms (Views: 662.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$4iuT2nJ6NMBvjz7sx..e1OJbhFwESPLOB9BJku5zFmU3.qhRL3hXO"], ["updated_at", "2015-12-23 19:46:30.106695"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$S2xT.UzaplEu0/beXlWEfeNzznCK0Q2oYiyN7blQmWBSQ8pE6pIhK"], ["updated_at", "2015-12-23 19:46:30.115350"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (4.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$HoRDTflyxKX/iJsquFHFVOLQM52GWCZeuDniw7aHVbApfKtoBLaSS"], ["updated_at", "2015-12-23 19:46:30.118927"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 30ms (Views: 23.1ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "reset_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["reset_digest", "$2a$04$e4xncamKqRVfYmCJJ9aUueULwe2CnbPnNXwF8abCmz.h5MutxbWcK"], ["updated_at", "2015-12-23 19:46:30.202226"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "reset_sent_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_sent_at", "2015-12-23 19:46:30.203825"], ["updated_at", "2015-12-23 19:46:30.204194"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1

UserMailer#password_reset: processed outbound mail in 1.3ms
Completed 500 Internal Server Error in 20ms (ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$2d9VJq/rdnWimC5o7WchE.D4ACqtedxGAZbnik9RMXd6ZUWadMq0q"], ["created_at", "2015-12-23 19:46:30.278009"], ["updated_at", "2015-12-23 19:46:30.278009"], ["activation_digest", "$2a$04$oZpkyUFKIA3kmKcNf/T3/eXbH5/ITazCEgY7AqZJ9UzSbu/ksGDEm"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$dklvOF1sU5dvEojK74MaE.Z.NO0IesQmxQwB6vk.p./UkX4ItafNm"], ["created_at", "2015-12-23 19:46:30.330937"], ["updated_at", "2015-12-23 19:46:30.330937"], ["activation_digest", "$2a$04$NU1ZnMbB4d6i5Xu/bV0nHedZjuCSaOAvLILY7q.hb.tpwRBYzuMJG"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$t6GsaEyPMWmAMVeUrP14M.StgMdSoagkNT9cy6b0OG7qWjYq8Cw0a"], ["updated_at", "2015-12-23 19:46:30.381377"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 16ms (ActiveRecord: 1.5ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 19:46:30.400776"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$CmWQxo2HAPjmh3AnNk3Tjuxol6mTf7oYnWvXGpRS6uwZk/c7jWfzi"], ["updated_at", "2015-12-23 19:46:30.414364"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 9ms (ActiveRecord: 0.3ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (9.0ms)
  Rendered users/edit.html.erb within layouts/application (11.2ms)
Completed 200 OK in 20ms (Views: 17.7ms | ActiveRecord: 0.1ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (4.7ms)
  Rendered users/_form.html.erb (9.3ms)
  Rendered users/edit.html.erb within layouts/application (9.6ms)
Completed 200 OK in 21ms (Views: 12.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$eaIbO.OVtw2RZHJ1OXWpg.Ma5/MkcgFk1PPDofs3Gp8wamhUo9ZD."], ["updated_at", "2015-12-23 19:46:30.484534"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 10ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.7ms)
Completed 200 OK in 45ms (Views: 44.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.2ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (14.3ms)
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]

UserMailer#password_reset: processed outbound mail in 0.2ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (2.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (1.4ms)

UserMailer#account_activation: processed outbound mail in 14.5ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$gxYryM0uj4zRfSePoPqdgOzYqLSFh8Pqnj6NxzM7Ig1wgMHOPnFnm"], ["updated_at", "2015-12-23 19:46:30.785686"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (6.5ms)
  Rendered users/index.html.erb within layouts/application (20.9ms)
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$Fta5mW1HABD./PiEsKslJ.u4XTOpaQQNoNnr7DXmBVs4CIsCvuhp2"], ["updated_at", "2015-12-23 19:46:30.831881"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (7.5ms)
  Rendered users/index.html.erb within layouts/application (12.2ms)
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 436798503]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.1ms)
  Rendered users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.2ms)
  Rendered users/_form.html.erb (4.1ms)
  Rendered users/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 13ms (Views: 5.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (4.8ms)
  Rendered users/new.html.erb within layouts/application (5.2ms)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$5Maq9qrjZn2kJTsiA1xzKei7mXQ/6c2NkfFkmF93b3ZnehetISPKe"], ["created_at", "2015-12-23 19:46:30.930297"], ["updated_at", "2015-12-23 19:46:30.930297"], ["activation_digest", "$2a$04$sOiok2XXojbLEFP4toKYoOj4ffjp5GNXkw2WhddDIaNW5ENK3ROjy"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.1ms)

UserMailer#account_activation: processed outbound mail in 2.7ms

Sent mail to user@example.com (6.7ms)
Date: Wed, 23 Dec 2015 11:46:30 -0800
From: from@example.com
To: user@example.com
Message-ID: <567afa16e50ef_1573911699901956@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567afa16e48f3_15739116999018fb";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567afa16e48f3_15739116999018fb
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/OL-eA3XIeGaNhOXUYuRoTw/edit?email=user%40example.com



----==_mimepart_567afa16e48f3_15739116999018fb
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/OL-eA3XIeGaNhOXUYuRoTw/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567afa16e48f3_15739116999018fb--

Redirected to http://www.example.com/
Completed 302 Found in 17ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/login" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
Started GET "/account_activations/OL-eA3XIeGaNhOXUYuRoTw/edit?email=wrong" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"OL-eA3XIeGaNhOXUYuRoTw"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/OL-eA3XIeGaNhOXUYuRoTw/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"OL-eA3XIeGaNhOXUYuRoTw"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated", "t"], ["updated_at", "2015-12-23 19:46:30.967704"], ["id", 1046959424]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "activated_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated_at", "2015-12-23 19:46:30.969381"], ["updated_at", "2015-12-23 19:46:30.969728"], ["id", 1046959424]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 11:46:30 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 17ms (Views: 16.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (2.7ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:05:59', '2015-12-23 21:05:59', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:05:59', '2015-12-23 21:05:59', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$FK6T4dpWKP7oZyLXjPnggOxOJktVdkMrMaLogdalnNKHpK2/7QFoi', 't', 't', '2015-12-23 21:05:58 UTC', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$2R8IgH9QzRwrStbZ/c/saulSHd5vmodN7hl0ehpz.4spa6.QbAzDG', 't', '2015-12-23 21:05:58 UTC', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$giX4sZYAuKGf0EwxQ0.WrOYrtv2erXPZueai4PyudFqCd2/Nhox2q', 't', '2015-12-23 21:05:58 UTC', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$ES138PwajfaGFIALmhUyG.XLQbiVdQJt3Tctjp8cBTN/94bIppPDq', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$.MW0nBz4ouJ8mq9KdCCYZeW53SroqdXkDe.Fb3F77RDpFph7.ZTte', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$7FFDgCYZ.8agmelLEjFseuqGXlJrQDHiekuHHG7VdgUP4aUhRY3pG', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$fhxwSLU2XU67PZVEySF9.uu0KPvQ/JilB4UUF2n7ialMhYN0.Sv3O', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 220281934)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$ux/FCOPt9gdqNU3D/g82OOAItGHDPIoOLLat/PT8YoVLZ89QVb2fq', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$PQrNWJfBCLYTPnvvCvQjMOcYQkB/uEg735epj8ky6guC84PZIV9.e', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$6wFY52uEQHTEswrPNZbaJ.JIfgyPRwGpu820LpG.e1n0zIIPMTZ/2', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$/ZiJdlLGM.CTdb.ecxGQu.Jlnrf7HmdyxU3EnH1kzva6hACHGyNDS', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$3nzCopVWyDI0trWVW92FAOh1522t6N7ZepzHqFjZ5I3FkvTOYVo/2', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$yVDtFjcmSwFm0SscF3M55.yqipnw3GByh2ccmf/85dC4n7kg8kMf.', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$zT4p1XwcQf8CXmeE3NsktOkhxr0LnzA/E.wMPcdsa5Y22chxhiaTO', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$PCELz3L9Mc24Y7vx.5HwAOJAwRAeRibxhMoaWlvhqDZBEW2pxFcdm', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$VLyBFdhW317KCJ/B3zfSRuj4ApitVXxDnEUxHssw5zF6K02V3ELJm', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$uEloa4ntCZZtYtT/BJXbNO/Ex5shTZyiH1b/Jro74S2L4dGlRBSfC', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$HLQwypO/q7PX6dYub6G5P.gYrlKJsk3ysCIVStl0oS69/b1NhxBRi', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$LnmyZYb2A3/WbBoumHjdmuthFw35I06YdK9BDM5uNXR55EhOAJbxS', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$jDXhJJIAPWo2ppBKGb0rkux4BVsZsJdCuIMGxqzU3YnyLJQXAFSNC', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$AUWhjIOzgAk6yvEDGhI4IO026nzLIj23Z2Qx4qkk5BS4/vmtuyZ8K', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$IWs2TY7YzeDphNq/F7XbRus2FXOE86V5Y3KategS7WB4MYu9NRDoO', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$/rRO/aLwpBBZ8gd7EwmAieOdbnkeI2FmLOme1pDMTevYjWEFnrcPi', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$RVjONZ0ZsFBSZMWnjD1X6.eOD46mf25TEE4/7ODPj6RF1yA6VC8MS', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$5Vy5nvP...WCAChO8K/FdOiROQZ0WPjiUhfW2jRXsG7MsgchKLhJW', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$hHfbjBF/plq0yKjvU0njfevXl4xoqZKbXua0lCovzGiBJ9JW519lq', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$4CCI6Aw14a1GP6Hm3VvbIeQhECssOQ5oMLaBm9AR/gA9l0mQ9g5ue', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$5Xz1pX.EeHupSRTw./SeaORMPOeRF1jfR85l6ndXmxmWHfYZwlTUS', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$9Y8Ojj/7i4K3VIbWRZrpHO2GVLWCzo5g/hnT0eOBF8/20wUCXh42m', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$vN8rQFyVMsOCnAwib5B81uUMrMSFLoBoRIxkfsfDb38sFMvdqXNY6', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$LnSrMWqJFlnN6JW7vPfI/uwfNKhgj0emAN9ct/Rk7.ffPD5ewQtH6', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$OJjhx6midj8gLkMdHwzazej4yAwHSL02O7m7/TVrk5MURbjNeW9w6', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$y5XCMGD55Za2CUYTJuTjoO7kPnvas50y1o6vfzIBqz2Zay5OBg6Gi', 't', '2015-12-23 21:05:58.000000', '2015-12-23 21:05:59', '2015-12-23 21:05:59', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:05:59', '2015-12-23 21:05:59', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:05:59', '2015-12-23 21:05:59', 298486374)[0m
  [1m[35m (24.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$FUKeoreRBj61MfHJi4HPJ.pUMVU0/B4Wab8VhWLKSBfG90s8G./2m"], ["updated_at", "2015-12-23 21:05:59.318413"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (133.8ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$iklScOWDDGxj9.tkTPxTD.7ZslmXykOMS.RNLydbOvRHrJl6sfgUe"], ["updated_at", "2015-12-23 21:05:59.586765"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$wOKOJN2QVznnGt1ZRRUIFOx4RxBTyiI2JRlC3r2WUDTAUSYNbzKce"], ["updated_at", "2015-12-23 21:05:59.762027"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (44.1ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.9ms)

UserMailer#account_activation: processed outbound mail in 380.6ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]

UserMailer#password_reset: processed outbound mail in 0.2ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:06:01 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$rCs2NYlT9X9b3rFwtzJZOeG.kpIAITQ1a53ak06950BXe2Ela5K1y"], ["updated_at", "2015-12-23 21:06:01.667647"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 14ms (ActiveRecord: 0.5ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:06:01 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (12.5ms)
  Rendered users/index.html.erb within layouts/application (1577.6ms)
Completed 200 OK in 5533ms (Views: 5529.5ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$.qgjJ7Imtvalg.YgLP/qf.6XYUf4YPlXN9uNI7Fgc2dIEMAPRYkcO"], ["updated_at", "2015-12-23 21:06:09.252603"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (7.2ms)
  Rendered users/index.html.erb within layouts/application (12.0ms)
Completed 200 OK in 16ms (Views: 15.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$5cv9IHqMNdEEPo3WLXCFZeznnK4npvhygiW0zPpu5ORrNAk9knl7a"], ["created_at", "2015-12-23 21:06:09.441738"], ["updated_at", "2015-12-23 21:06:09.441738"], ["activation_digest", "$2a$04$eMcEMaeA.NVacOTiJK9qPeISvytXm8j.aDNN0SFheOdJa4IQUr8K6"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$2edi25LcU6mhNXpF5aLOx.sjSyVWCDH.GtQ/juIEmus59agYFixL2"], ["created_at", "2015-12-23 21:06:09.457507"], ["updated_at", "2015-12-23 21:06:09.457507"], ["activation_digest", "$2a$04$oDxmZuRCkGa.oM0FFTxZvuO2JDi89WSZFHjHyHbY/Fw/PbUEEvGmS"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$Qk9lAmNk9/fNDIKqGKaOoec.bNJWnSQHd8SUy3jIkRaPHYZ8Fuszu"], ["updated_at", "2015-12-23 21:06:09.499257"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.8ms)
  Rendered users/_form.html.erb (162.0ms)
  Rendered users/edit.html.erb within layouts/application (164.4ms)
Completed 200 OK in 207ms (Views: 205.1ms | ActiveRecord: 0.2ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.9ms)
  Rendered users/_form.html.erb (5.8ms)
  Rendered users/edit.html.erb within layouts/application (6.2ms)
Completed 200 OK in 19ms (Views: 8.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$NnnfiS9fOF0/7kk5Fmuknu2s19teKA7ObkxUSygF/VOD4U1N9Vcee"], ["updated_at", "2015-12-23 21:06:09.752010"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 21:06:09.760460"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.8ms)
  Rendered users/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 47ms (Views: 46.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (1.8ms)
  Rendered users/_form.html.erb (3.9ms)
  Rendered users/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 12ms (Views: 6.0ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.0ms)
  Rendered users/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$WHXkCcJraT9/TT5If0opLusbwn.6LAawlDCnJ88p/L/1sEuinBHZ2"], ["created_at", "2015-12-23 21:06:09.847678"], ["updated_at", "2015-12-23 21:06:09.847678"], ["activation_digest", "$2a$04$qZuvOvb3eLbAnyQ//HCUIuxgBtaZ5GD8FvTEbWDKSxRD6gpQQb3NG"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.2ms)

UserMailer#account_activation: processed outbound mail in 2.8ms

Sent mail to user@example.com (22.7ms)
Date: Wed, 23 Dec 2015 13:06:09 -0800
From: from@example.com
To: user@example.com
Message-ID: <567b0cc1d0e88_158fe7d99984887e@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b0cc1d0681_158fe7d999848737";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b0cc1d0681_158fe7d999848737
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/ZtsX-e8aWnLsgVGi0tvIRA/edit?email=user%40example.com



----==_mimepart_567b0cc1d0681_158fe7d999848737
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/ZtsX-e8aWnLsgVGi0tvIRA/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567b0cc1d0681_158fe7d999848737--

Redirected to http://www.example.com/
Completed 302 Found in 36ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
Started GET "/account_activations/ZtsX-e8aWnLsgVGi0tvIRA/edit?email=wrong" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"ZtsX-e8aWnLsgVGi0tvIRA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/ZtsX-e8aWnLsgVGi0tvIRA/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"ZtsX-e8aWnLsgVGi0tvIRA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated", "t"], ["updated_at", "2015-12-23 21:06:09.961773"], ["id", 1046959424]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "activated_at" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated_at", "2015-12-23 21:06:09.963599"], ["updated_at", "2015-12-23 21:06:09.964009"], ["id", 1046959424]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 13:06:09 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 23ms (Views: 21.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$aQDQu5U9mavaEnMWirUWoelP7PH9oXG.LfflynQYdPMsuPBnQGy.u"], ["updated_at", "2015-12-23 21:06:10.015356"], ["id", 436798503]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.4ms)
  Rendered users/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.5ms)[0m  begin transaction
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 13:06:10 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 42ms (Views: 41.1ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:06:10 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.1ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:06:10 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["reset_digest", "$2a$04$jOpZfkX1VdfxNqrROGzIHu2NHgbR0NqkAuwazbJ53HnZ56.JVjY3W"], ["updated_at", "2015-12-23 21:06:10.113408"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "reset_sent_at" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["reset_sent_at", "2015-12-23 21:06:10.115310"], ["updated_at", "2015-12-23 21:06:10.115689"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m

UserMailer#password_reset: processed outbound mail in 0.3ms
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:06:10 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (27.7ms)
Completed 200 OK in 69ms (Views: 69.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:06:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:06:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:06:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$6/P7vA1OWq/O59JGM1oTIeRnowj010vF8TplKRDBXMZRP9lOPocFq"], ["updated_at", "2015-12-23 21:06:10.221113"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:06:10 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:06:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 13:06:10 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 31ms (Views: 29.9ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:27:47', '2015-12-23 21:27:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:27:47', '2015-12-23 21:27:47', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$DKWkh9aygxVJvobJPpPGk.0IyMGus..Y3OUsk1gGOXGxYQjOZXBfC', 't', 't', '2015-12-23 21:27:47 UTC', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$/bpDsIbm5tvSSEmcPukvP.8Lzjjc5pXX700Rqm/rRTmu0Vky.FKlq', 't', '2015-12-23 21:27:47 UTC', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$kKryap53BPPcf8bujc6O8u5R2L5f/HVXQHpoer8XjRhhCtCWSzAyq', 't', '2015-12-23 21:27:47 UTC', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$Y362bnTu8GJ0cOvjCsu4BuwB4aSoE/K9VdUoX../YTwr9Mo0xGjxS', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$CgANkF6owq3/4o54XQ.OeekyaJ3trDEpb9R6P8RMy2UXnAi74r1PC', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$aueWBU.4NmXiIY9.owb4xelIMeFroNdpiVdIut57Dl6BpdcifMPeO', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$f.DrSZGJo4jlkTdYofDk4ODffywwxCBtndxKoSyqwhTsoUtWoexCC', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$8x4W3/emoc5irlUPJPGf8eZjFoup/TYpjXbHoneF7ut8DZn13SQg.', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$6zWiUYNz7QjRk2G4oic1wek9j1HX9Yh3lI6Fj8A9ueABqtbDr6VSq', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$OdwrGplzqEDb9txmBx4x.Ohk90ARVJXZIp4hxnBoPnNmhIfRLKcqu', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$9yCrc4Z5XDRwdKO8e.zxkuZ/rmCisLLUFFBWssAVeI2bCGcMrTstO', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$eBuYFUkekejHd18mcXx6u.ND.gq86CDMrUGQ3XQ.N1isUhOJujJCi', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 452191684)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$yx2bZ.gppzA..jVFYGutKOBYngPmiwNUcvu1YliPMS725EkjaX.tq', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$GBYoym3XEiZ9BXXUMT8jqODhS1zlgmrpkOZF5tXdx7sJTghyn8W9q', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$6bIVsHlwYJgWIL8L1RdwWuvGlMOIWBE7IAIbnxdIcYNcisk3nvh2u', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$J0UkFmt94ftNgkNwrlKDnuPX9FPxl64LJ4Wrvb5vX8TJVQot7r49y', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$u8YrMvVXGL63.uaONFCT2uD1WN088Uve06rl4WjL/f2k8E/AOVNI6', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$yWnK49MWaM9aSQmXv3pb6umGw6qx3dshS60OPDXWeksLrD5vov6X.', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$K7evD26TE7EK8xtZdbTmzuTc9taSu/ejKlkRhCNVPwtLzomntl47C', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 157312430)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$pQUnp89ZAUlVrasN5b9WYuWeW69Gt4GpJ4M6KEribXO5vT9gaB/iO', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$mJfXxI1UTLqxazEXx5/v6eGqmHfnZsXp4MKrrNWwY6eSROFzRWayq', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$T3dkkU6U.8BI16k.sv7w/OPZfA/uvj/.y7TLkcqFKzZy3g9nibGNC', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$lw42zprM0fy0uXE44kpbpuvLCpyIa5SGgkjtuGCytH6/y9SXA9faC', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$F89UA5lyfZArjW7L/BxRQu077Atel.9XDsHPrSZZbZrDt3kgRmOYS', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$YZyboZpw/gNrjhLse9iuz.stN9u4tcINgDyOXWXNl0gbSG2pZDcgO', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$6rDovUCIMow5VlkR.df0ZOY4Qf9PIKkfRjROr4WUEt7rEpke93N9i', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$6NhSNRuOwQaIHxAO3nGnpukM2g2AybSeXGt37omQvS5NFpIwsqc7e', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$RiZtHCHpaGcMS0LqtmTs0.DBAb4M7uOud/AP8ZSnAxtreXvVIr4re', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$uDlTaG1aYuaBPt50QgQ3/u3CqOrFHDlBrEE4fgwcZHcMUMt5WgwVi', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$EuVJyMYvAEbW9oRxNX4IAORItfGPGPNjejTAnMHU286F0caKleFkS', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$KLmfg9lF8RvxF.MlxHp0heIywMkJQhRWwOuncAKMDweYtCxENtkOS', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$m.zJ68tw0Efv2GSQcbuA7.zUZm9F7EDdqGVoRAu0lVXiah8QC2tKO', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$KYcOhtPpfsPoFn3uXaaLyuHDIvfDcG.F2p5wRkri/KA5Y.RxHPCc6', 't', '2015-12-23 21:27:47.000000', '2015-12-23 21:27:47', '2015-12-23 21:27:47', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:27:47', '2015-12-23 21:27:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:27:47', '2015-12-23 21:27:47', 298486374)[0m
  [1m[35m (54.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 13:27:47 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (355.5ms)
Completed 200 OK in 759ms (Views: 750.0ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 6ms (Views: 2.5ms | ActiveRecord: 0.3ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "reset_digest" = '$2a$04$r.spCzSvc3ljIrW4v41YiO423Qb36gefseTu03UGur5Z3s17EKCQW', "reset_sent_at" = '2015-12-23 21:27:48.117015' WHERE "users"."id" = ?[0m  [["id", 834146161]]

UserMailer#password_reset: processed outbound mail in 1.0ms
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (2.4ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.8ms)

UserMailer#account_activation: processed outbound mail in 16.5ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]

UserMailer#password_reset: processed outbound mail in 0.2ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$6KUp26dbR.k8G0aRCIkPJuomugivwvLaV.O5iz9natQ6KmQIzQs.G"], ["updated_at", "2015-12-23 21:27:48.432824"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$Rz/9y3Uvo8B/mArGIPlOCuhTPPF38e/pNXjuRPcAxXjCb0mQdrq0y"], ["updated_at", "2015-12-23 21:27:48.460172"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (7.0ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$zqo0v18CAP2M4fpNxwKnN.B2KcLev8oS1gKFi7S/VyZmap7ECnyj6"], ["updated_at", "2015-12-23 21:27:48.463310"], ["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$7KtmAwK6bYAsGcD5lnrCd.k0/jVGDbdZLq1/lfMu8tiD/GoOBMCDO"], ["updated_at", "2015-12-23 21:27:48.508266"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 19ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (31.0ms)
  Rendered users/index.html.erb within layouts/application (42.6ms)
Completed 200 OK in 85ms (Views: 68.3ms | ActiveRecord: 1.7ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 436798503]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$swCZLV7XphI.5eTlTtrWzOgT79Z2qyRYXhfhTW0eo3NFR.F8UqDuu"], ["updated_at", "2015-12-23 21:27:48.715469"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (6.1ms)
  Rendered users/index.html.erb within layouts/application (13.3ms)
Completed 200 OK in 17ms (Views: 15.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$BfVICQVfpTq.TNHaB.Ixg.L59uApPuMPvM7JmluvipBwR6dmSqY3a"], ["updated_at", "2015-12-23 21:27:48.750857"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 11ms (ActiveRecord: 0.6ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (3.5ms)
  Rendered users/_form.html.erb (15.0ms)
  Rendered users/edit.html.erb within layouts/application (16.6ms)
Completed 200 OK in 33ms (Views: 31.9ms | ActiveRecord: 0.1ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered users/_form.html.erb (4.6ms)
  Rendered users/edit.html.erb within layouts/application (4.9ms)
Completed 200 OK in 29ms (Views: 6.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$0pgR3w4wr.CN.IMQjMC/VufEF1dgDIz8/xAW0uRJecqoaHp6J8z/i"], ["updated_at", "2015-12-23 21:27:48.839427"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 21:27:48.851748"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 11ms (ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$0VVZ2GO4FLAo.oHihiXkhOOktxtAEHvUFaOjPOOJtGV.XHuWhlFNu"], ["created_at", "2015-12-23 21:27:48.894436"], ["updated_at", "2015-12-23 21:27:48.894436"], ["activation_digest", "$2a$04$oso92FpsYMBURQUZVh4wE.yMy5Rm43egFg9P3VFyPCnNOkd1FsySu"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$VLl1Zx7iLlM6Pgybw4xcpuNn2uHZio4ra1FIENnYRhA3cPpQ8C4d2"], ["created_at", "2015-12-23 21:27:48.907118"], ["updated_at", "2015-12-23 21:27:48.907118"], ["activation_digest", "$2a$04$jDL9QXBR8pBdejRSRdnND.7K8R9F79yEjCBd.hVLs9s3dpPuRHBtK"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.7ms)
Completed 200 OK in 9ms (Views: 8.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:27:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$XjJIRQOWQcdlH1TBvvdhG.pvoWlGuahYSTpJavggNJu3l9/UTaiN2"], ["updated_at", "2015-12-23 21:27:48.993840"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:27:49 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 16ms (Views: 15.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:27:49 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:27:49 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:27:49 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (7.5ms)
  Rendered users/new.html.erb within layouts/application (8.6ms)
Completed 200 OK in 13ms (Views: 13.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:27:49 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/_form.html.erb (6.2ms)
  Rendered users/new.html.erb within layouts/application (6.5ms)
Completed 200 OK in 14ms (Views: 8.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:27:49 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered users/_form.html.erb (5.8ms)
  Rendered users/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:27:49 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$fpwFYH74clQ2wu0NINM3Nu5EKn1owr.fi1GngOpV.Ki83V95upCUm"], ["created_at", "2015-12-23 21:27:49.090269"], ["updated_at", "2015-12-23 21:27:49.090269"], ["activation_digest", "$2a$04$M3r8mj75V5UEUn7jwlhVKeD2vG57VZW3tQy5urshIDrNav41Zu0mu"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.2ms)

UserMailer#account_activation: processed outbound mail in 3.7ms

Sent mail to user@example.com (10.9ms)
Date: Wed, 23 Dec 2015 13:27:49 -0800
From: from@example.com
To: user@example.com
Message-ID: <567b11d518ae7_15a8b60598c721e9@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b11d5178fa_15a8b60598c720bf";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b11d5178fa_15a8b60598c720bf
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/D2n6mtTgOYE-jDU9igBMFg/edit?email=user%40example.com



----==_mimepart_567b11d5178fa_15a8b60598c720bf
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/D2n6mtTgOYE-jDU9igBMFg/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567b11d5178fa_15a8b60598c720bf--

Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:27:49 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 13:27:49 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
Started GET "/account_activations/D2n6mtTgOYE-jDU9igBMFg/edit?email=wrong" for 127.0.0.1 at 2015-12-23 13:27:49 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"D2n6mtTgOYE-jDU9igBMFg"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/D2n6mtTgOYE-jDU9igBMFg/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 13:27:49 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"D2n6mtTgOYE-jDU9igBMFg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "activated" = 't', "activated_at" = '2015-12-23 21:27:49.137397' WHERE "users"."id" = ?[0m  [["id", 1046959424]]
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 4ms (ActiveRecord: 0.4ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 13:27:49 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$6SN3UcaSbXMRi3LL6gPfVeuKbRBGpVWfy3AJdv.8b2aTP2he3nQZ2"], ["updated_at", "2015-12-23 21:27:49.161042"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/436798503
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.2ms)
  Rendered users/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (2.0ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:30:08', '2015-12-23 21:30:08', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:30:08', '2015-12-23 21:30:08', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$cp4GpjLEsG5T.ThcBINCUeHNvztzwbyVisqWBzIP0eqd6JctHYJaW', 't', 't', '2015-12-23 21:30:08 UTC', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$bYoupOkwErz.645J0F348.5oyk1c/LLhAfPjUV4I2Z/fr5fNxedSS', 't', '2015-12-23 21:30:08 UTC', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$pQhGIK5shaQUm5hmypy1JOnKnTNFZCfcqAFVpYC5NhFl/Z1bcEA2q', 't', '2015-12-23 21:30:08 UTC', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$/8WHsPo54zZu8Wnqs8GkQeGUwqmdQTgQtZhFZqXSX6QnNfF7bwSF2', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$1qUI10xSqb/cj1ISnQRA5.WhsJr56hf9fooXo/EbHmqJdUOvLp1ui', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$LzYAz8Wzegc/Relpv6.LQeDluWW6J8hhVJPUTNruu4yvQjnTjaT.K', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$GeQFyM69DxChrMqfg4Lp5OufYi746L9nYQuAKg02MCQOkXwtHpkBi', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$GnmIoS.0GCprLePVPJ4beOJ4fa9uCjo.AsIjwRhBhEyAZtHzWH5HG', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$Xn8zP77AiEDIsyRZ/JZMkOErMYRXcgm1glBLfBFRfixblCvptCnMO', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$n.ZkWo7w5g/jlyq6L8s7Wuq.zN46qIA4YJJX8KIiA/jM.8L7j7c2W', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$cmn2DbIdhqJsE6sgqeP8/OtH..6mAKs4./DYEkS531LJqxJHD3WXm', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$5.BJbopmkBJZWZJf7d234uo9ijpJBA21bR8KYlknzUzrGPBz/pf4e', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$M8JI/kFKKikAHZHqjC/x/OJY9phFQoePC3B6j5DekK12LKEKwKP4.', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$4vG6gwpw3vHOj/TJhsbNQeqf9fV3e8p6e5rSztY3g5BeQ5.hdvZh6', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$mGo.1KZsLe5D/dshaWhey.yFVlP.iL64qZW96WHTM1uAzrAUcUGdm', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$6urvVR0GbGHF3bJjjEOzvuC4FJo/IPUo.LRjX3un21yMNEY.54/a2', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$4iYF6NhnOQXSXCA1gCcIoOR2WxZdFsfiuRKNJl.vJxLOMWyaYK6ee', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$c.oGIJdWIfYnEd4Uztk3z.cxHdvaKiVWRWJ47WJCxpjW/7wff9you', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$aYxXekE7wfMWsqzFOv9gTuH9CB/svMuklETaliNkJjTIo2LF6t2HG', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$r5vl.pH3XITWY1XCreMfT.tvSiqiG4Sa0pn.6M4cF/DYeXPRjwnVe', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$6JUm3Z003mvR9Leu3b47c.z/LPVeKEG6vgMozulbDkswrexuLsjvu', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$g55GdnxXCSDYMP9ZTS.Tw.VMqlIYlkX8Xi9vFCtVv/6/1jY8DglUm', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$JoNI/Kw2Oe2bLgw0SoT5v.n5cyT1Sbh/ne//AGWgKCY66uazKt7hS', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$lIdOOyn7EcE5NGpk3jlIEuh3VuZCsg1/lFmWwrYN4R3n6SQFFzowC', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$3T9ZtibZ/GAMvQJHMlq39u7ZbrzFTfQnzkMAFNz2F33MYlCTH51Ny', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$x7vp4E1YqVnvSer/p.GC9OjhcFkGdiyufRPSz852jlRcVrJSyVpeG', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$ywNJwT3cmY2HgMKqt.RvTuWs7BTIVBohlgK1pnTuO6kNKJ1LBQLcu', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$sSe/QQ1HHzOumBRAHFIgT.s5sc6ILNct6CgS7Sj3D0CZDN7/GAQCS', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$zNoE1DuaQHW1fh0XuSrrFuRc5PhnwwwJgwS26k0rOuA0lrGwb8VpW', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$ALQE6/vFiy6nultQUi80ueVoKv4S5a6VJGdCas7DeT0jXhzxqp6sG', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$2W4kkfmjEHjZkOEXW.13QukEB56fG0qwUGgPq1rzCiFZSQ/2Weule', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$FgS9QSa3o8u/gNaJHKMrdOMPupikGk8wtrBpqkhGO/KTQur9QY5Ra', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$n27fHwrXhZJGGTE5x4W75exG6FvLM5xeh0hhWCNIJrp0fHs3UBiLi', 't', '2015-12-23 21:30:08.000000', '2015-12-23 21:30:08', '2015-12-23 21:30:08', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:30:08', '2015-12-23 21:30:08', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:30:08', '2015-12-23 21:30:08', 298486374)[0m
  [1m[35m (37.3ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:30:08 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 14ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:30:08 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$GG/4oE6qPcrfgi1AwSHXXe3GaMcKhwps2zgqr5EPSk5FP.gcfVWuG"], ["updated_at", "2015-12-23 21:30:08.901179"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 11ms (ActiveRecord: 0.8ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:30:08 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (4.5ms)[0m  UPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 21:30:08.936851"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 36ms (ActiveRecord: 4.9ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:30:08 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$5e8CefbbIo2psGO2LNBYUuM7f0D.YxuSlklPvz/ZWKuZwIKqGo7rS"], ["updated_at", "2015-12-23 21:30:08.953019"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:30:08 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered users/_form.html.erb (348.7ms)
  Rendered users/edit.html.erb within layouts/application (357.9ms)
Completed 200 OK in 648ms (Views: 646.4ms | ActiveRecord: 0.2ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:30:09 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (9.8ms)
  Rendered users/_form.html.erb (12.5ms)
  Rendered users/edit.html.erb within layouts/application (12.8ms)
Completed 200 OK in 22ms (Views: 14.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$9YcVmN2/YwRMBvc0.M6LW.x9kuROFrr.xYPkhwJBoza857aFZYpO2"], ["created_at", "2015-12-23 21:30:09.643613"], ["updated_at", "2015-12-23 21:30:09.643613"], ["activation_digest", "$2a$04$ZAQgL3HLNrNvmYyIV4pbe.fA9jMf.Tpk0Xelux3mbuxTK7Xf0MNUy"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$tfckE96HqHlVusXX8IUaAOuO2ms0mfZ5R0O56seCuFBxIPlRZYJQm"], ["created_at", "2015-12-23 21:30:09.661936"], ["updated_at", "2015-12-23 21:30:09.661936"], ["activation_digest", "$2a$04$7BiAORwQ5V0QJtXJnK70G.5xNByNOASnhSCqYh6dtJXJh8JOHPtU6"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (8.2ms)
  Rendered users/new.html.erb within layouts/application (9.5ms)
Completed 200 OK in 26ms (Views: 25.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (1.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$cUpsxxN70ReE2pF8EXNPPeujmc7LQ.wYDw2iSnM3.7/ee0CBzwm8y"], ["updated_at", "2015-12-23 21:30:09.830574"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 14ms (ActiveRecord: 3.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]

UserMailer#password_reset: processed outbound mail in 0.8ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (1.8ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.6ms)

UserMailer#account_activation: processed outbound mail in 12.7ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$swZW93wpyi.fKFuW1YRJZ.D9iknDG/UDpQxrV4/b7HQLSpzMTn1Ye"], ["updated_at", "2015-12-23 21:30:10.104716"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$QFdmeVfDGKfXG4DipO7WBe/yQmKHA8shubsVis.QzlbHdvRmt2lke"], ["updated_at", "2015-12-23 21:30:10.115259"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$ZxvgjNhs1oHv2wx..D/W.OVafarYvGjDDaZw4RmO6vnD4PUOB5Aoq"], ["updated_at", "2015-12-23 21:30:10.118400"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.8ms)
  Rendered users/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$/QRANJk84zHS36SUEtr.I.rl6Y3ZF8j5VEzAai.0iSnPeMx08J7HC"], ["created_at", "2015-12-23 21:30:10.141649"], ["updated_at", "2015-12-23 21:30:10.141649"], ["activation_digest", "$2a$04$dG1Va7RgvF1nYrqhra2N1.wyTIuLMXaG2ptBFvoJXOhl356ClJMy2"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.2ms)

UserMailer#account_activation: processed outbound mail in 2.7ms

Sent mail to user@example.com (6.0ms)
Date: Wed, 23 Dec 2015 13:30:10 -0800
From: from@example.com
To: user@example.com
Message-ID: <567b126224d92_15b1a105b9908914b@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b1262243aa_15b1a105b9908905c";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b1262243aa_15b1a105b9908905c
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/s0wwsitGV7-yRC4w7gz8Qg/edit?email=user%40example.com



----==_mimepart_567b1262243aa_15b1a105b9908905c
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/s0wwsitGV7-yRC4w7gz8Qg/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567b1262243aa_15b1a105b9908905c--

Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/s0wwsitGV7-yRC4w7gz8Qg/edit?email=wrong" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"s0wwsitGV7-yRC4w7gz8Qg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/s0wwsitGV7-yRC4w7gz8Qg/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"s0wwsitGV7-yRC4w7gz8Qg"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "activated" = 't', "activated_at" = '2015-12-23 21:30:10.177133' WHERE "users"."id" = ?  [["id", 1046959424]]
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.7ms)
  Rendered users/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (1.9ms)
  Rendered users/_form.html.erb (4.0ms)
  Rendered users/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 13ms (Views: 5.6ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.8ms)
Completed 200 OK in 13ms (Views: 12.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.1ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$1plSaVFceGbAC22p0HAHQehuLq9Ve.ZyQ66LIufAyO36qoXd.pFFW"], ["updated_at", "2015-12-23 21:30:10.270701"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.1ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_digest" = '$2a$04$Y34B7WeRVGH9WbdaoNT2PeG4xSen.3xcugvpR11ZErv7UiVcHNL8W', "reset_sent_at" = '2015-12-23 21:30:10.324563' WHERE "users"."id" = ?  [["id", 834146161]]

UserMailer#password_reset: processed outbound mail in 0.5ms
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$PxkAaTUqN31FAI8ipIPaUeK.Po4PMnstbYA.cPh3efXJi97z17MZS"], ["updated_at", "2015-12-23 21:30:10.334962"], ["id", 436798503]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (6.6ms)
  Rendered users/index.html.erb within layouts/application (19.5ms)
Completed 200 OK in 24ms (Views: 21.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$939drxWjuS.rZvyi62O9feCrIFWgLhLPkRxWuSzT9DkbG8TKkOHTq"], ["updated_at", "2015-12-23 21:30:10.382544"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (7.9ms)
  Rendered users/index.html.erb within layouts/application (12.8ms)
Completed 200 OK in 16ms (Views: 13.9ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 13:30:10 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 436798503]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:38:57', '2015-12-23 21:38:57', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:38:57', '2015-12-23 21:38:57', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$gQNjGgltKwXOjWsY7NGtm.sVAvf3tp1KjYI5ISDHGieLLYfHvIa1O', 't', 't', '2015-12-23 21:38:56 UTC', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$xVH4P9s3/tKHzoIPtTKt.Ow9tM3weivAIVTYbHWU4es4FjXj86vxO', 't', '2015-12-23 21:38:56 UTC', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$k59L7bqddDJ9QsE4BPZe7OB7NqGUZOBNk7Wd6oPR/eWP/1Wt4.GXW', 't', '2015-12-23 21:38:56 UTC', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$ICW4fMQzr9uJQefHhg1ns.XnpSF2mYwGbwINpcYgbs5bmpbLAqgBC', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$lG5337DMjjAH9T4QfMETm.jmlDCZib6xXDh2EPC1fYvszOZ7xOoSq', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$aEAn/yMUh/uWaGHUd.aH9.gTJKK5RiYvXct96XgKBHiv6uhzOV7Ei', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$ZuV078Y8lSn/jMBOtuVJmOt60Q5f7MAeyMoBGXfHebs0H90tWIYui', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$IQrWqhK3CpwjSIsi4qA0UOGbfGml1oAog.uSrjz8F7ghlycPS7tZa', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$CD2DDvD8vaD85ok7Rficf.D0w56PMjk7fz0B/pqXoAfYTFkSDeBCy', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$vliEAdHkgQ7BcBG/iZnvDOcV3L5MIv1jwo.WsXkwdTDS6tRBYNPky', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$rCknlj0Vmxfm.vjk5nQJKu7GC7xiFhuHDf.n8dSyJ0mEuVRuuwBPG', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$t5SVnG1RlRPNvEPpCveg4eAwO5JLw9G.VKm91h2UxKNUvrGvrfMnq', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$5.6Z0jR64PbEYDFLdyGTPus3MNTR8q99L.R20wR9kILWrSf.nuarG', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$tLsqMeAERvJlV.r3IOVPrORtyBpTYoQI.X70biqXgDbsXGvg/ICz6', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$Ii7CcUCJDctSlU7zQ0j9cu/DaZs0spdwlYeC68W2f0d1S7UafEneu', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$HisMWFxY6hvHFDHFgODmHOglp0LRz1pQQnSoWMdzZGVZIiLYoBPba', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$2iGAV6fahhaAcLJxenO46Oq/VRsjYxn2RQE3KvoIgxQajFGYdVhlK', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$Nvc2GIgP.Hv.KicoHOg78eaRq0Fa91XVU4sLNs4ClAKj9uAvwOK2i', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$6erlbr.zswNnIcGmJU5QRuWrMuuGKQoL/U3Jnc7T9V4xyDdzO6V56', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$1.CuRsbImmf8C8B8BgUm4udp7y5ghXQYuf6klXUuCOfo.K4Q4utKm', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$RdVTUAbAFumquwlVhUTbJeE/vEne09wzIUWfxzI0PlCCN75ALW8MS', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$ZrgrVi.Yb5aZeM4dMcj.TeynAsfH4r5gsmUUtTJHQ87lV70/pAwIG', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$IP/ISGVE8lOLgsMTlHsMeOf7MzsKlWjInZDxjw6ztWOaI.E.PglTK', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$PbS3NSyzN4Wwjerh1NNY2uc1BU3k6bPPHUtB/zI7o6UyOMWrgxThi', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$D3NRHVKkCmZre9aGXFwJb.JN4yTMhZ9lFTbkpy9QOZzr5RsaPrq7y', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$QI28bV7esrv1o7qUKspzc.rHo9Qfc3X1E1qVGmahKn3P6c8hnxq3m', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$J9s5bKW9aWt/uZSWjnXrWuIq3oEgAfaIY.QyOPKNSmSiKik5RQ3RW', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$/rY/pcuPRekWV5BYyTAh.ubhqFBEcHTlKvk6rKnhIVxNRiRnnypku', 't', '2015-12-23 21:38:56.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$YeFAWpGMxAkB0BvvA7.DM.HFQT/gGWj./eulsrcHHbd90kCIAT.km', 't', '2015-12-23 21:38:57.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$hsnkot.AW/uvAOMbeFTUX.bTn9TASLWrVQsp62W0MOOD/T8ML0GLW', 't', '2015-12-23 21:38:57.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$/XOgrKAT.4jEH77aw/38G.N.0Vv8AEn6LV19vOhlDH4IFmrYwHWXS', 't', '2015-12-23 21:38:57.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$3mYXKDcGRfO/FyGt1xk4we82UWkbecIGpd2MifN1mHuS2mOlu2JMG', 't', '2015-12-23 21:38:57.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$pyOWWIIY7yegI33V3zv/duyx4zhUw82AHX.JPxeiCR23sDAoohciG', 't', '2015-12-23 21:38:57.000000', '2015-12-23 21:38:57', '2015-12-23 21:38:57', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:38:57', '2015-12-23 21:38:57', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:38:57', '2015-12-23 21:38:57', 298486374)[0m
  [1m[35m (1.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$x8H8/Dd9QRRIHmV5yI/PN.JhxxwR9KLj2.ncAuF.ariv3G0cOjsBC"], ["created_at", "2015-12-23 21:38:57.408922"], ["updated_at", "2015-12-23 21:38:57.408922"], ["activation_digest", "$2a$04$wy0NNxO2Tyzgohw3c2TnfOAc32RSshXeuH.hzRWnEyFEN2aO21Reu"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$ubGp8j2S9MgLs/DY7XI9v.ZSexVzpt8sM8ke.xJQ9sA5EqW.2kDfK"], ["created_at", "2015-12-23 21:38:57.449850"], ["updated_at", "2015-12-23 21:38:57.449850"], ["activation_digest", "$2a$04$MjfQrBF4UPI2czCONXP8EORLzAAO90fLs2Dekt2MLmRGEz7HvZ/7q"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered users/_form.html.erb (18.5ms)
  Rendered users/new.html.erb within layouts/application (28.2ms)
Completed 200 OK in 447ms (Views: 446.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$zSCywS4OKZXRy0uUNm3zUeJtFAD3lwQdjBgbe2gOvi2JD5alB6OEW"], ["updated_at", "2015-12-23 21:38:58.012950"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/436798503
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$HVaw3Syl1TzS0Lz1NYyO0O0qqCQfCDLdDdf/dnS78u8Ea5dJdSRme"], ["updated_at", "2015-12-23 21:38:58.043148"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (7.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$T71QKNpvBq5jSAnzbZ9hd.6xMhRtS6KHpmdXnYk6yBJp2RsbvrpcC"], ["updated_at", "2015-12-23 21:38:58.047739"], ["id", 834146161]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$CVUcfBjbteX0wW22YBFffuupYgXYyhIx1z2mypIcB.SOHa3Pe/QxK"], ["updated_at", "2015-12-23 21:38:58.064152"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (1.3ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$6qFw9MIFBKt2aEmkWPt.0.ebly3S2VT0awzc.CYZtOFV5u4e8zzgq"], ["updated_at", "2015-12-23 21:38:58.127677"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 16ms (ActiveRecord: 0.5ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (6.2ms)
  Rendered users/edit.html.erb within layouts/application (8.2ms)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 0.1ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (4.0ms)
  Rendered users/_form.html.erb (10.2ms)
  Rendered users/edit.html.erb within layouts/application (10.5ms)
Completed 200 OK in 28ms (Views: 15.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$8W8DCdKVTkrnaAYduIkZcO1lTHtJEDGdAkcfCfK0gMNiWbZuL2f4W"], ["updated_at", "2015-12-23 21:38:58.208205"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 21:38:58.228601"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (1.9ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.7ms)

UserMailer#password_reset: processed outbound mail in 25.8ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (1.7ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.5ms)

UserMailer#account_activation: processed outbound mail in 17.7ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.6ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 15ms (Views: 11.7ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$zj1krn8UyqbXyTaEv5gjGusINpu6IgznrXaS52DkYB.HXuCm.JUzy"], ["updated_at", "2015-12-23 21:38:58.592800"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$/h9y/x35iYyVtGVao9t.iu0UPyLnqKyrisldPWZDt4HWlWM9SqlTK"], ["updated_at", "2015-12-23 21:38:58.623419"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 11ms (ActiveRecord: 0.7ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (8.5ms)
  Rendered users/index.html.erb within layouts/application (18.0ms)
Completed 200 OK in 22ms (Views: 19.8ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 436798503]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kimberly@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$8d2GcMZFGTO36W3pNLs2B.f6rVgrEnESRZ6t/LayHHz8lW/9X6Hqe"], ["updated_at", "2015-12-23 21:38:58.901757"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (5.3ms)
  Rendered users/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.2ms)
  Rendered users/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$P7.d1jhWHkOqzobuB2CyUuD8ciPxzIy617m5mziS6j9kiIyLO53Kq"], ["created_at", "2015-12-23 21:38:58.942545"], ["updated_at", "2015-12-23 21:38:58.942545"], ["activation_digest", "$2a$04$wymV.Y8upW1quOW93XD1x.W1gfOqs2.xRgyzZWD/mOA87OTwpKsqG"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.2ms)

UserMailer#account_activation: processed outbound mail in 2.8ms

Sent mail to user@example.com (11.6ms)
Date: Wed, 23 Dec 2015 13:38:58 -0800
From: from@example.com
To: user@example.com
Message-ID: <567b1472e8262_15c2f125d98c238a6@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b1472e7a0b_15c2f125d98c23797";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b1472e7a0b_15c2f125d98c23797
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/0U7GmMpfOg1TY7CBWLC5bg/edit?email=user%40example.com



----==_mimepart_567b1472e7a0b_15c2f125d98c23797
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/0U7GmMpfOg1TY7CBWLC5bg/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567b1472e7a0b_15c2f125d98c23797--

Redirected to http://www.example.com/
Completed 302 Found in 24ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/0U7GmMpfOg1TY7CBWLC5bg/edit?email=wrong" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"0U7GmMpfOg1TY7CBWLC5bg"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/0U7GmMpfOg1TY7CBWLC5bg/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"0U7GmMpfOg1TY7CBWLC5bg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "activated" = 't', "activated_at" = '2015-12-23 21:38:58.984395' WHERE "users"."id" = ?[0m  [["id", 1046959424]]
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:38:58 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.1ms)
  Rendered users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:38:59 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.1ms)
  Rendered users/_form.html.erb (4.3ms)
  Rendered users/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 13ms (Views: 5.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 13:38:59 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:38:59 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:38:59 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "reset_digest" = '$2a$04$ORQIlXk2x46cxNtF25f/HeLiwI6k8Kn.VFejSMOQUyR3m9BZhYzN.', "reset_sent_at" = '2015-12-23 21:38:59.058477' WHERE "users"."id" = ?[0m  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.3ms)

UserMailer#password_reset: processed outbound mail in 3.2ms

Sent mail to kendra@example.com (3.6ms)
Date: Wed, 23 Dec 2015 13:38:59 -0800
From: from@example.com
To: kendra@example.com
Message-ID: <567b1473fb68_15c2f125d98c240fc@ubuntu.mail>
Subject: Password reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b1473f1cd_15c2f125d98c239ed";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b1473f1cd_15c2f125d98c239ed
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

To reset your password click the link below:

http://example.com/password_resets/YJN4Y2OVgbCEsYULD8ol6w/edit?email=kendra%40example.com

This link will expire in two hours.

If you did not request your password to be reset, please ignore this email and
your password will stay as it is.



----==_mimepart_567b1473f1cd_15c2f125d98c239ed
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Password reset</h1>

<p>To reset your password click the link below:</p>

<a href="http://example.com/password_resets/YJN4Y2OVgbCEsYULD8ol6w/edit?email=kendra%40example.com">Reset password</a>

<p>This link will expire in two hours.</p>

<p>
If you did not request your password to be reset, please ignore this email and
your password will stay as it is.
</p>

  </body>
</html>

----==_mimepart_567b1473f1cd_15c2f125d98c239ed--

Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.3ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/password_resets/YJN4Y2OVgbCEsYULD8ol6w/edit?email=" for 127.0.0.1 at 2015-12-23 13:38:59 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"", "id"=>"YJN4Y2OVgbCEsYULD8ol6w"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "f"], ["updated_at", "2015-12-23 21:38:59.073720"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/password_resets/YJN4Y2OVgbCEsYULD8ol6w/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:38:59 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"YJN4Y2OVgbCEsYULD8ol6w"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "t"], ["updated_at", "2015-12-23 21:38:59.080038"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/password_resets/wrong%20token/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:38:59 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"wrong token"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/password_resets/YJN4Y2OVgbCEsYULD8ol6w/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:38:59 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"YJN4Y2OVgbCEsYULD8ol6w"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered password_resets/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/YJN4Y2OVgbCEsYULD8ol6w" for 127.0.0.1 at 2015-12-23 13:38:59 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"YJN4Y2OVgbCEsYULD8ol6w"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (1.9ms)
Completed 200 OK in 10ms (Views: 3.5ms | ActiveRecord: 0.4ms)
Started PATCH "/password_resets/YJN4Y2OVgbCEsYULD8ol6w" for 127.0.0.1 at 2015-12-23 13:38:59 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"YJN4Y2OVgbCEsYULD8ol6w"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (1.9ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/YJN4Y2OVgbCEsYULD8ol6w" for 127.0.0.1 at 2015-12-23 13:38:59 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"YJN4Y2OVgbCEsYULD8ol6w"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$NQ.Fcn/yjzFh2v1Eu9DLwOukUrjdishtMBlRnlSE1nM8dYDGOkL9."], ["updated_at", "2015-12-23 21:38:59.129166"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:39:40', '2015-12-23 21:39:40', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:39:40', '2015-12-23 21:39:40', 298486374)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$rBP28xW/LXwb3TjWBcg93.HJXpGOMe36eLNpjbZ3erZsAR31E6116', 't', 't', '2015-12-23 21:39:40 UTC', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$XemQ6lZC/OoptTGmGYzyK.DFdcp2D9bLxY2xzuf7cPKoG1CZLdS7G', 't', '2015-12-23 21:39:40 UTC', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$QtKsoZFEpvkTQoA3xco5he2wYFbxOeE9kFB5Z1mYstt936dxLgUfq', 't', '2015-12-23 21:39:40 UTC', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$35S.tZxzVr.jj8mqF3jade7kKISomwhMHcHoIwXHt1bHJ916nxQA.', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$LADA51LY0MNJp2oLZBfpyOB6q/SuI5PE0y6dVkVJ4tc4cLZRteIVa', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$0nlCudERbZeIwrIiR4z0A.e8IO53f.xbEKmPKXvp/iDwpZ6kyUNL.', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$UukUzs2EIEfSqIlw2CQ7aemAR7eqVYfeVvLuyt/bfnHuCrd9g70PS', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$RTtsNfhv0M9LTg0ApyqXaeOPeLmKHkMXWwQjDs6MwTvo6CV1pxiS2', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$2GRIXgTiBoB4r0jmjNQ1ROQSZCZpPj9OFWg4gpm3kZVs6pWnWgWzW', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$hCKyGWLW6dW7bVwcPSNHd.e.OyVDdGX0ZuiMcDoW/Q/IFr.9o8Z7O', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$wPw63xfa79ZVczuepeKmq.mEDrGjeG6qnplsl5.IhaSYFKReqp4V6', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$yoan2Hjr2z.Oz640WE6DweFFoKpglBMSqvP0.yKoisNfGAFYGqGOu', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$m0VghH4gmkusqmjOKkDZ1O7FCsR6INuWoFxwxd.WOafJIGLhTBGqi', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$tjtbx/Yr0ncE9fdEMZK50uOxZfcvFPMyd/R98HgV2D333dnzOsYS2', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$8sCVcK.eBTXLum5MT7KFLunF5jDy/GI1TttrZP0T6vy9Y0EhgMdN.', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$j0Gcjdhl5ruK20NUmGQmPOO6hDfcOM.Nf4vwXVXgyvxxXSV088hjy', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$T7GQVtHqAWWfvAisJ/exT.qdX568zroFUYjJBMnyXZQStR8yvH6XO', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$psEXrhUxK/.F9.BYmsRar.BAeeSX39.qs898gDPIVQRssMflbT4dq', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$jGxbTvhzSD3gHWgz7tlcSu0X4tuGGJeL3tzjkOSAdQhxwFNjUI/cO', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$cD11IUReQLUPgPIczS3upumWe6K43j5BZ2ugfjGxIHoJVy4FTqTVa', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$BWBMyzIAHBlEVKLHb8NY1uJCoDFet/0g8jjed5EwUGC2qVK0x3DIO', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$0PYKWhm2F6f9S4tEa1ur9eHeb.JQsMrRytVNFX76FrifmI0skiR5C', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$mHlywvlytABCoN5KRZrxPODeAZKLrlsl0WiZrxatreWuXcEMxdFJO', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$AZjEe09gGwd/MZ23vGS1rewPF7y4uM9jVpZiwc8LVl5jtp6ogsgpe', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$cFfiG8Ftn1uuuyIjz1v9vuWk9ZLMTqOkaInADr4pUVLQfsVKgojQ2', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$4FCQX69g51UtpoyBZ5rKI.oS8T4DP65xkg0P.dqFqjSMFG..Iay6q', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$r/6a21qoF6cI9/gdWUJe5.56ZdwdMIpnearfea7N.ga4Ouqwj7L7u', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$j7TF0i4R8NZBHydU9hc8Cu1o6hu0dN190uSgTVu5i.Rcrk6H2Qz76', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 357172992)[0m
  [1m[35mFixture Insert (4.5ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$rF8L8nyZrore8o4RjTDzCOfJX.qCLeFKVICP2SMYcmKRuuTBElqDW', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$z7DscNyRv7hdFLoiNGQA0eGH64kfGFSbGQpXqIThrGipKZt5wf5K.', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$MRqiTrlLQ3BU0xME5CsZSuMphl2zEP02GzgsMhJbL6lM1FM4GkhWa', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$jjSzlgZFiUL2mjogmU5z3ulL4ZWxFUqLZtZCSXpVtCoBK19YUpBy6', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$ssipBSxMfqPEwKihRalYF.4iTMqlukD1HzjEgrpebrb8XTBoBN1QC', 't', '2015-12-23 21:39:40.000000', '2015-12-23 21:39:40', '2015-12-23 21:39:40', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:39:40', '2015-12-23 21:39:40', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:39:40', '2015-12-23 21:39:40', 298486374)[0m
  [1m[35m (8.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (3.2ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.5ms)

UserMailer#account_activation: processed outbound mail in 18.1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (1.7ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.4ms)

UserMailer#password_reset: processed outbound mail in 7.6ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$IaPS6cN93daZbvgN2yz6renPtGddkwXcVqkevFrTtLthgt3HceaCa"], ["updated_at", "2015-12-23 21:39:40.684144"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$WN0.nQJdAO8mFb4EUyuboOLs0b.PFQYAD.Hdcoo/Gjwed1SOLYWh6"], ["updated_at", "2015-12-23 21:39:40.708907"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$dwW42ZjNmYH3dlHRQPp8se8Pj1b/9LgFoIZPlW9VxqF5iU2cGTk4y"], ["updated_at", "2015-12-23 21:39:40.713323"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:39:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$nbOtwJX5pQ33dfPa3ByAQ.KZ8KXB92.O11g894YU8X5kmC6YbWX7i"], ["updated_at", "2015-12-23 21:39:40.750053"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:39:40 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (8.4ms)
  Rendered users/index.html.erb within layouts/application (340.5ms)
Completed 200 OK in 540ms (Views: 537.6ms | ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 436798503]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$Hf7UEedHYNLNdzEuqmgoNeIXsymJfipMEYc.Qr2d5ExYSeeFOLvIO"], ["updated_at", "2015-12-23 21:39:41.345952"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (5.3ms)
  Rendered users/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.8ms)
  Rendered users/_form.html.erb (16.8ms)
  Rendered users/new.html.erb within layouts/application (20.8ms)
Completed 200 OK in 26ms (Views: 25.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (5.1ms)
  Rendered users/_form.html.erb (9.7ms)
  Rendered users/new.html.erb within layouts/application (10.1ms)
Completed 200 OK in 32ms (Views: 12.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (2.4ms)
  Rendered users/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$YqpUOlMV9IIS//ETA4HWmuQ63P41SZbsYAlnEXmWhjj9aAFK8N6Ue"], ["created_at", "2015-12-23 21:39:41.457703"], ["updated_at", "2015-12-23 21:39:41.457703"], ["activation_digest", "$2a$04$TckOdsMZcZlFV2P/6ZdBCujM1Dcq.MKvnk/NYc4TPt1r01w5Jxl/C"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.1ms)

UserMailer#account_activation: processed outbound mail in 2.7ms

Sent mail to user@example.com (9.7ms)
Date: Wed, 23 Dec 2015 13:39:41 -0800
From: from@example.com
To: user@example.com
Message-ID: <567b149d71fa1_15c655d59945256@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b149d7165d_15c655d599452431";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b149d7165d_15c655d599452431
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/nxPGHhtpyMpFUduqmmJK6A/edit?email=user%40example.com



----==_mimepart_567b149d7165d_15c655d599452431
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/nxPGHhtpyMpFUduqmmJK6A/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567b149d7165d_15c655d599452431--

Redirected to http://www.example.com/
Completed 302 Found in 22ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/nxPGHhtpyMpFUduqmmJK6A/edit?email=wrong" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"nxPGHhtpyMpFUduqmmJK6A"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/nxPGHhtpyMpFUduqmmJK6A/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"nxPGHhtpyMpFUduqmmJK6A"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "activated" = 't', "activated_at" = '2015-12-23 21:39:41.497308' WHERE "users"."id" = ?[0m  [["id", 1046959424]]
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$Gfvovh3jAIDgJHGvd7gnb.2riuOVEFxJxSiMaMrf.XFlI88DPW93O"], ["updated_at", "2015-12-23 21:39:41.513574"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (7.7ms)
Completed 200 OK in 13ms (Views: 13.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (6.2ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (5.4ms)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.1ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "reset_digest" = '$2a$04$wD67WC5BZRKNfgNRJDb/2uaFiCsyAR8rLunjkuT.c6oPcqR8wdaMy', "reset_sent_at" = '2015-12-23 21:39:41.612117' WHERE "users"."id" = ?  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.2ms)

UserMailer#password_reset: processed outbound mail in 2.7ms

Sent mail to kendra@example.com (3.0ms)
Date: Wed, 23 Dec 2015 13:39:41 -0800
From: from@example.com
To: kendra@example.com
Message-ID: <567b149d96c80_15c655d59945277e@ubuntu.mail>
Subject: Password reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b149d964bc_15c655d599452637";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b149d964bc_15c655d599452637
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

To reset your password click the link below:

http://example.com/password_resets/TKTsuRDT1W9s_LUvbp-dog/edit?email=kendra%40example.com

This link will expire in two hours.

If you did not request your password to be reset, please ignore this email and
your password will stay as it is.



----==_mimepart_567b149d964bc_15c655d599452637
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Password reset</h1>

<p>To reset your password click the link below:</p>

<a href="http://example.com/password_resets/TKTsuRDT1W9s_LUvbp-dog/edit?email=kendra%40example.com">Reset password</a>

<p>This link will expire in two hours.</p>

<p>
If you did not request your password to be reset, please ignore this email and
your password will stay as it is.
</p>

  </body>
</html>

----==_mimepart_567b149d964bc_15c655d599452637--

Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/password_resets/TKTsuRDT1W9s_LUvbp-dog/edit?email=" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"", "id"=>"TKTsuRDT1W9s_LUvbp-dog"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated", "f"], ["updated_at", "2015-12-23 21:39:41.626357"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/password_resets/TKTsuRDT1W9s_LUvbp-dog/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"TKTsuRDT1W9s_LUvbp-dog"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated", "t"], ["updated_at", "2015-12-23 21:39:41.632096"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/password_resets/wrong%20token/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"wrong token"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/password_resets/TKTsuRDT1W9s_LUvbp-dog/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"TKTsuRDT1W9s_LUvbp-dog"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/TKTsuRDT1W9s_LUvbp-dog" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"TKTsuRDT1W9s_LUvbp-dog"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (2.1ms)
Completed 200 OK in 11ms (Views: 3.7ms | ActiveRecord: 0.4ms)
Started PATCH "/password_resets/TKTsuRDT1W9s_LUvbp-dog" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"TKTsuRDT1W9s_LUvbp-dog"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered password_resets/edit.html.erb within layouts/application (1.9ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/TKTsuRDT1W9s_LUvbp-dog" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"TKTsuRDT1W9s_LUvbp-dog"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$ft2RBaNuYkQOjikdF12NneHdT/CFgz4ncjrlVdH.dsV9MQF6OGstm"], ["updated_at", "2015-12-23 21:39:41.681520"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$fVai56kq/9HwIc2Ax8htxePIUBh5Kf7kKWx8DMClANojwiOBwwHT2"], ["updated_at", "2015-12-23 21:39:41.698211"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.0ms)
  Rendered users/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$Lh6AQ7OpXPtKJL/VWCrMHelUQ.m4UEQJbwpV0bmopzMUYXIVO6LMe"], ["updated_at", "2015-12-23 21:39:41.765123"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 21:39:41.773302"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 9ms (ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$hB8mFaSsRTrEfy9HcY5RsedMyfWLENLwuSgTb11zmjdnwbTMVVhma"], ["updated_at", "2015-12-23 21:39:41.790212"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.2ms)
  Rendered users/edit.html.erb within layouts/application (3.0ms)
Completed 200 OK in 7ms (Views: 5.2ms | ActiveRecord: 0.1ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:39:41 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.7ms)
  Rendered users/_form.html.erb (5.4ms)
  Rendered users/edit.html.erb within layouts/application (5.8ms)
Completed 200 OK in 20ms (Views: 7.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (2.6ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$1Cxt0vw51pABwZ7DkZRzCeKwnqbSuCAQn6/Kg7fpJgJSv5p85tzVO"], ["created_at", "2015-12-23 21:39:41.832774"], ["updated_at", "2015-12-23 21:39:41.832774"], ["activation_digest", "$2a$04$DWXkZ9iG.tDyTH5ScJY9Mugcmjr0dlZAKiM4ywyF8PFHBx4fKS.Ny"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$JgG7RTMm1KTirS442X0bQ.XKU6pHGz9np55iscH7VCHbCCdSJ92DS"], ["created_at", "2015-12-23 21:39:41.922640"], ["updated_at", "2015-12-23 21:39:41.922640"], ["activation_digest", "$2a$04$I5JcSeBmNRIOaTT/odD7rOj0g2ViUz7/ib/kli7/nu.JXYDKake4a"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:41:19', '2015-12-23 21:41:19', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:41:19', '2015-12-23 21:41:19', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$VFU.7fi/W9XAUoptTAAGn.kkjjh95n0MPSCdEMYvmk7eKNNF9/el.', 't', 't', '2015-12-23 21:41:19 UTC', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$OU/1miv8c1NrM5Ptjst7DOAHDyVjLjyLPXMzsii.GoRq.2qckqBoK', 't', '2015-12-23 21:41:19 UTC', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$SjwUi7XnMB/h2oX3DfYa9.xLUv1R/y2Lu1YrW9LCYnts5VLjY450e', 't', '2015-12-23 21:41:19 UTC', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$sc5eLpMEyR.TDdwBpD8bBOPJONqdGixa7dj74qx4jacU.9me9cmCi', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$I5iGQutYh/m97q8S10BmeO6SvC.97q1GCn1o6tBqavS5A0D69Bl9G', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$Sf.XZerjJgdGoOBwVpvRu.dvEFrbiwSK6wKdRgR9etmPW5OqFCdEO', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$NXGsHYMIq27uUkid2EOMwOjDXpU7RmSqrXC8Ag7yRCyk6Zft7bt96', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$yCrht03XG7xNtktWNMYlKefZCove72Et0auB70N7INWbwXT3VCKJW', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$pjYAsHH2GUprbLs33SfhMejoeH5XHBbaUsJf7t9cvWETRVUPWOoBm', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$66icES8Py9/dOevZCEK.Rue9I97T4/HO.NQHKwoelqFAgw7PoyfWG', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$yCegfuap8LOww1TlGWlXQOdVRkfEjEnZfbE60d50N.EVmOdrGkaGG', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$t0BPNlBxoORRUulkwvjjneUoQQFecZdQhj8G5uA41LC5lgIkvUVh6', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$wtMymFOgM9uGi1xREBFaPetG4gWEbTshctg/Kpe1rVlNVZqgu16Nq', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$WGqERJ13CVvYNu101bqAR.Aeq6HOuN3vWzrV0/Vf.AesrC.SXroxG', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$Fmj.6AwXLUXnK0Yk7nH68ed6eJBk3l2rXC3E6p5tjnMkrIwS36eVC', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$vvjjiAqQeIi4cGmk44iSZ.spbZ20xN/PBQ.r6lUOQYsIjO064FQi2', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$xAB5bsKJxOlJg1Ucz9CRW.oQcJPGFxYXBT.SW8i3BiGLYHGCWE70O', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$MggWRGUHwsyvjYx0w8zDx.koFEemQIOaJrKwvD6S6UjDgggmngO.m', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$ZbV6E3bpi0/rgWSNx0FXMeuEmZfn6P2gulvcdVhlCERL7qfO8/qXe', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$E6EXN7JMMu8curwtd4lokel.eH1JySexzb2FKcq1TlqVgqwS1yE8a', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$0e67akWLzFuNXwC8n5kTiu63g3HVJOB4pIlIeaG3lCkjO.7uqxQKm', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$6/C3bVoXozKe9.8C07FTf.G2J1vgh/qjMi8mOzTzdn98uT8gAipca', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$eHmZaX9fDFJRPZh.RXPtI.yAqieDUOnVAHYuEY1EKjf7i8cJOyWIW', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$yu7Lq.iLTDXTbTI8llB1GeD1UG4yIY4hVB7bOb/KYBIvXdZrQJP7S', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$ozTYtfRMZCrwgvrWoFbrkusZqeVQq5McRTmq6Fv8RmGwswwteTW8W', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$6s5jX9yhvKCVeiESugP9Kex/kANoQBuqntknrDWYl.iZOFcFp94LS', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$IIZsanz6sAHQKApy3SJCQuAE.mAS3NQu.RlEJ2lfPQvjVbPlJiCRe', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$7VeteHAXGnz6A60ISHmAfuP4Ao83DGyplYCivspI1KVDRIih.PpYS', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$oDspQYcTq00SnhDUOejCCubHUVzz780L8Y0v8GnmUVyA7TF4XD0YG', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$3TivosQ2nL7RI5YjDMV1wuxJHzwOlUU8DkuzNoYoEfWxtuDJT0vfa', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$WAOM7XcdbFwyVQ9SIPJ9puU/Gskt3khID9L1XJnAyg.U8sT2jwu5K', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$5hBpN6sz64.xjRBl6ir4hehupFi6E2MEXYThtsgjLVO0UJLurpm8G', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$dM33WH4w8c6NO680oqBkceDaRiEGceV667gB0qRsk4bEhXPdX3u86', 't', '2015-12-23 21:41:19.000000', '2015-12-23 21:41:19', '2015-12-23 21:41:19', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:41:19', '2015-12-23 21:41:19', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:41:19', '2015-12-23 21:41:19', 298486374)[0m
  [1m[35m (3.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.5ms)
  Rendered users/_form.html.erb (300.5ms)
  Rendered users/new.html.erb within layouts/application (317.2ms)
Completed 200 OK in 569ms (Views: 568.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$ibQfY/GzC8mFvRtCSSOUOurHafxy4.CMIqePLuuObtiA31pKGZtFm"], ["updated_at", "2015-12-23 21:41:19.834903"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/436798503
Completed 302 Found in 25ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (2.2ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.6ms)

UserMailer#account_activation: processed outbound mail in 13.5ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (1.8ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.4ms)

UserMailer#password_reset: processed outbound mail in 8.0ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 12ms (Views: 4.7ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 0.2ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "reset_digest" = '$2a$04$E3X0SBSOdbrBR3MfAKnVV.4DuSfhXjDdJDg6ujeKZIJ4Ocqu.4zme', "reset_sent_at" = '2015-12-23 21:41:20.155926' WHERE "users"."id" = ?  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.3ms)

UserMailer#password_reset: processed outbound mail in 2.7ms

Sent mail to kendra@example.com (4.5ms)
Date: Wed, 23 Dec 2015 13:41:20 -0800
From: from@example.com
To: kendra@example.com
Message-ID: <567b1500274de_15c87130b988607c9@ubuntu.mail>
Subject: Password reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b150026d42_15c87130b9886068a";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b150026d42_15c87130b9886068a
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

To reset your password click the link below:

http://example.com/password_resets/IalI6pf4I1Ed1p1R2JmvwA/edit?email=kendra%40example.com

This link will expire in two hours.

If you did not request your password to be reset, please ignore this email and
your password will stay as it is.



----==_mimepart_567b150026d42_15c87130b9886068a
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Password reset</h1>

<p>To reset your password click the link below:</p>

<a href="http://example.com/password_resets/IalI6pf4I1Ed1p1R2JmvwA/edit?email=kendra%40example.com">Reset password</a>

<p>This link will expire in two hours.</p>

<p>
If you did not request your password to be reset, please ignore this email and
your password will stay as it is.
</p>

  </body>
</html>

----==_mimepart_567b150026d42_15c87130b9886068a--

Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/password_resets/IalI6pf4I1Ed1p1R2JmvwA/edit?email=" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"", "id"=>"IalI6pf4I1Ed1p1R2JmvwA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (4.6ms)[0m  UPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated", "f"], ["updated_at", "2015-12-23 21:41:20.171278"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/password_resets/IalI6pf4I1Ed1p1R2JmvwA/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"IalI6pf4I1Ed1p1R2JmvwA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated", "t"], ["updated_at", "2015-12-23 21:41:20.181510"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/password_resets/wrong%20token/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"wrong token"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/password_resets/IalI6pf4I1Ed1p1R2JmvwA/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"IalI6pf4I1Ed1p1R2JmvwA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered password_resets/edit.html.erb within layouts/application (3.1ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/IalI6pf4I1Ed1p1R2JmvwA" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"IalI6pf4I1Ed1p1R2JmvwA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (2.2ms)
Completed 200 OK in 12ms (Views: 3.7ms | ActiveRecord: 0.4ms)
Started PATCH "/password_resets/IalI6pf4I1Ed1p1R2JmvwA" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"IalI6pf4I1Ed1p1R2JmvwA"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (1.9ms)
Completed 200 OK in 7ms (Views: 3.5ms | ActiveRecord: 0.2ms)
Started PATCH "/password_resets/IalI6pf4I1Ed1p1R2JmvwA" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"IalI6pf4I1Ed1p1R2JmvwA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$0eO7RxeI.SCmzKhst5Tg1.lgbVdOjR1O9IM1s.seqAaWlxu1/IqaO"], ["updated_at", "2015-12-23 21:41:20.232072"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.3ms)
  Rendered users/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$SCMk1wQnkCr1Y.TBjECD8O29PJ1nX46BzCYb9sK4fLSUD.afI50ia"], ["created_at", "2015-12-23 21:41:20.254683"], ["updated_at", "2015-12-23 21:41:20.254683"], ["activation_digest", "$2a$04$7B8CC1GLFNOUFqazzJxAreDu9F8XQNkg0nyrG5FQEC4uytUjAF.tS"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.1ms)

UserMailer#account_activation: processed outbound mail in 3.6ms

Sent mail to user@example.com (6.1ms)
Date: Wed, 23 Dec 2015 13:41:20 -0800
From: from@example.com
To: user@example.com
Message-ID: <567b150040f78_15c87130b988609e@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b15003fc4c_15c87130b9886089d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b15003fc4c_15c87130b9886089d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/p4kuZY2kFyJdpeP4ZHJ-qg/edit?email=user%40example.com



----==_mimepart_567b15003fc4c_15c87130b9886089d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/p4kuZY2kFyJdpeP4ZHJ-qg/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567b15003fc4c_15c87130b9886089d--

Redirected to http://www.example.com/
Completed 302 Found in 19ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/p4kuZY2kFyJdpeP4ZHJ-qg/edit?email=wrong" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"p4kuZY2kFyJdpeP4ZHJ-qg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/p4kuZY2kFyJdpeP4ZHJ-qg/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"p4kuZY2kFyJdpeP4ZHJ-qg"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "activated" = 't', "activated_at" = '2015-12-23 21:41:20.294026' WHERE "users"."id" = ?  [["id", 1046959424]]
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.2ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.3ms)
  Rendered users/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.3ms)
  Rendered users/_form.html.erb (4.4ms)
  Rendered users/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 12ms (Views: 6.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$/883QjWcRZD/vaMAS3xMkuWIWhYw5szBGGBMi3hXUUFNci/tUd.ji"], ["created_at", "2015-12-23 21:41:20.348156"], ["updated_at", "2015-12-23 21:41:20.348156"], ["activation_digest", "$2a$04$eTylJ7HcxL9H.cuKIyXj6u/5hcQMIjJJVZPk4eBFchnvNkiXj9D1G"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$dODoGCdpTx2r7D9hgbnG9ePN2n97ALNn357uvBhWjD3tkcr5C5qj."], ["created_at", "2015-12-23 21:41:20.376554"], ["updated_at", "2015-12-23 21:41:20.376554"], ["activation_digest", "$2a$04$WSDMuYxdEX46zjmU5l5DZe/F4dSGeZZbb6FO1Rw0AxMMP34jjFJ8y"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$gqrPhqkdI5e6/JraderJd.XpaKrgy9ALpIf9dT3wvAGffE3w6EUeO"], ["updated_at", "2015-12-23 21:41:20.461380"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 22ms (Views: 3.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$OAJ4V.4.0CoZi9Itlepc0.mVoViNdPDTUhxSoPtSvgcJvWbR4/rxu"], ["updated_at", "2015-12-23 21:41:20.517429"], ["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 12ms (ActiveRecord: 0.7ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (9.0ms)
  Rendered users/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 436798503]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kimberly@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$eg0jjZ0ACE4lSgpm8LfddOi090.f8YbBHrbgFAd8AF9HH2Zf90RHu"], ["updated_at", "2015-12-23 21:41:20.591108"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (4.7ms)
  Rendered users/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$EKeoYcet.f9Mbrqg/hr3PuQj4AsBOnoozNloLi6KwgSQ6Px2oYcsu"], ["updated_at", "2015-12-23 21:41:20.628203"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 21:41:20.636732"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 5ms (ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$J9fkR7bHIwPsMFUrTYx8JOf4J1qY35/CHeHm5cQEbYUVfoc6Qdd9S"], ["updated_at", "2015-12-23 21:41:20.653351"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.9ms)
  Rendered users/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.1ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:41:20 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.6ms)
  Rendered users/_form.html.erb (4.8ms)
  Rendered users/edit.html.erb within layouts/application (5.1ms)
Completed 200 OK in 14ms (Views: 6.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$ExrVq4Lhe/8ddj21KZgwwOQmAHD7qUN7Ujs6eH61cuYfRsfFF6Ss."], ["updated_at", "2015-12-23 21:41:20.690569"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$kLFOo5XM17Al9Z1LhlD8bO0zXNG.ZjZeX3GfYn0vPbr9hMASgxHrK"], ["updated_at", "2015-12-23 21:41:20.693886"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$mhYx84LXJEfxhmhK1SbwNO1mFjcXsJA3IJcjLHqMqNPo0SxZn5nZO"], ["updated_at", "2015-12-23 21:41:20.702343"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (1.6ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:48:22', '2015-12-23 21:48:22', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:48:22', '2015-12-23 21:48:22', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$K7CMe0gRFYrIr/eDup3cI.Rtz4a2B9OjZJH3gtqeIwifJp8Kv5HEe', 't', 't', '2015-12-23 21:48:22 UTC', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$fLSQj1XeIg/y/Hg5dWqX3ubZE.eblMeOrSIUpFBULtD970JirNPaC', 't', '2015-12-23 21:48:22 UTC', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$JAfpHu5kvFj5oDM.pazF6.IRCMPeywm4pGoOznG9qYcfLU.c4vcq6', 't', '2015-12-23 21:48:22 UTC', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$6gOzcUaest4ISE97O9uwHe0qxRl8DNAxI5s5FUzw4j8kbvhwzvFn2', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$M9riLQdtXhFE/Aeff1Ct5OxoBHlGK/LTYH2YlAzsFLuw3rbdAlf4G', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$3OTq7KUnpHDlgyC4.t5sbeXib7dqEHWiKL8lWg6qJmHJgO.Nmk2Am', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$cIms0KnArJVs8kWMaVtwUOy65r6Ra7jiIl0vG36xf0q30qh6sy.Le', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$6lrDP/0KyFJwWo/HBtG9aOH2/zQYnZYeQykk5LEv2m2JVIptzAfiS', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$6TGJrG8gdFFJ6x32bgDGa.CAFVDbJtUrbFedmWMy5KG9/.nbvEkye', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$GhXYOd/D0O7tojFQOf7D2OXnhs4M6iT9Jf63BQRNYDs07AY3Fz8fu', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$UOCpDD55VWTCzL9ttAvxSuWP2A/vtmn2Re4QxjwZ2oziCYmRIhuXy', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$LCBna23EqOdoWZS.90kk9eIdXyg89zrHcTArFDIzDDfZBpwy9mEV2', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$cMCFLdRFg7xyaQjH3vHEL.7e2NcO/G6e/sKiTOgtxvUtyQ2i6VuLm', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$gzMopLI8KszvnhTnMnSKuuigY3dem4FLEuFPh4CEYhU1lPaUWE2C2', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$D7fAMN03lJJNn5I8Qi8dCeS1n3ewAiNEPn6KVYcvUkLDdmkKVA4Me', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$BQk02Qi8/2kkmaapFyflg.dsPU56emZ6nXvlvy1ibksMAfEgwqXva', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$KP.EdQrIRJoceHt8XrQ.HOp6OuBAoLl8MoOMFL8s7xSiA1U5k77OO', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$NYkbUKF9HmvteWZBHFZzku0xJZ9ovtUsRiwuJ9LHvmfZP4tiaUXrO', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$5nFm8IQt8caqEcOr/KkXFe8esG9YaMA9clsm61uTUQUZb6/EqgMa6', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$7TADicV35Aj589WaroReiOYlvsPyBeBvIuk40xJsG2.8MCm327tm2', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$kL6BPvfS5xKdfJMCoFH9Q.dr42MDY8yMls4ybP/tHNeC5TAOxSaY6', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$ACv0h07HWF0hy6nKKyxKNOcLR.CxDc3Ejfe8d8MXeK3hWN5iDkVXi', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$.AKF5IcEVu2Z5OXYeVMrv.ZXLUgl6t5xFJjVr4LopUyA2Jmf0rv0C', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$Cmn6uaqWnF/x2pkHqDuCXuL/SDhmPPGJkx7RnxlDC18sQB0MbnHPu', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$GFiCQJSA1XqpwvKAkTXp3.z2boD6fF7WdHLBug4dasg88P9ahvThm', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$BAQVFbA3KP4jCGrNmFiKK.UshtjbNQnVoNCXvvPXm6vDXhO6chyG2', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$IWdT.RhxlIN3BeT4f963c.A66yxEZIgPxjByjkKELBFqMaEgrc6X.', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$BreCOMVlammXF2VUstdKoOYGABSXAT1a31oUQOam9GU9UTY.3ljja', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$KnL99.WFppsoVLRkIuZiquxPtuD2/6IWgGGtU51cGQeOtn./cACoe', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$mXnauhOXWvw/hGbHgYGxBOwjpAuav7S.x8TjXwaHR5D1JgDmtLrGe', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$noaKzyAGHQtHatGMNwydNeg4ArRvSQ4.olcbWGxtiSt4NPdWHproS', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$qo/nhWROAPLbEZGqMzXC1uyPrDjOpymb65IXo5pv.BsEdAdE38BuO', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$YQajIGGrUvEcUMOgIxyhvu0uFXd43Y5vBz0mAA7jXkS67YcgZZNG.', 't', '2015-12-23 21:48:22.000000', '2015-12-23 21:48:22', '2015-12-23 21:48:22', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:48:22', '2015-12-23 21:48:22', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:48:22', '2015-12-23 21:48:22', 298486374)[0m
  [1m[35m (42.1ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:48:23 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$eNGcTrbfnU5eZwadVP0foOFmGwFQwyscPoVUUG6pQ9bLMYpwAiXam"], ["updated_at", "2015-12-23 21:48:23.050719"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 56ms (ActiveRecord: 1.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:48:23 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 74ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:48:23 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (350.4ms)
Completed 200 OK in 811ms (Views: 810.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:48:23 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 13:48:23 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (6.9ms)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (5.0ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (1.1ms)

UserMailer#account_activation: processed outbound mail in 23.7ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (1.9ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.5ms)

UserMailer#password_reset: processed outbound mail in 16.2ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$.gvYhQm73.gy6/Jk8wBcBeuDAHfMgxsvCWKs/GzGC2dg1F6hTh8Pu"], ["updated_at", "2015-12-23 21:48:24.472461"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 23ms (ActiveRecord: 1.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered users/_form.html.erb (6.4ms)
  Rendered users/new.html.erb within layouts/application (12.2ms)
Completed 200 OK in 16ms (Views: 15.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$t/d8Ix7NF8DY4sPFva5CUup3y3yKAiubbxqZ0h7aPB35W8wOoG2v2"], ["updated_at", "2015-12-23 21:48:24.551106"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (3.5ms)[0m  [1mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 21:48:24.627113"], ["id", 834146161]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 13ms (ActiveRecord: 4.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$Fe1K7/MA2R3i6g/sZ1qgmuXxuyWVMbAPlcXmjc8iNNr9oohRcFJ/G"], ["updated_at", "2015-12-23 21:48:24.642590"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.7ms)
  Rendered users/edit.html.erb within layouts/application (11.6ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.2ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.2ms)
  Rendered users/_form.html.erb (4.2ms)
  Rendered users/edit.html.erb within layouts/application (4.5ms)
Completed 200 OK in 14ms (Views: 5.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$M3Z5dtwXkmBk1SC2xoSxXetnGpgrFryedhwetHM9hyT6256O36vD."], ["created_at", "2015-12-23 21:48:24.697663"], ["updated_at", "2015-12-23 21:48:24.697663"], ["activation_digest", "$2a$04$iH5rR56NU78xTioDvr.nfuxdaVd/.4YDF1lwn.1bc96jm3VjGoOpi"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$7LzFrVz1Zi76M.pGAI/ZzOkKzvDC0UcuEhZqdZZxfWWkzgtQP5AMS"], ["created_at", "2015-12-23 21:48:24.722286"], ["updated_at", "2015-12-23 21:48:24.722286"], ["activation_digest", "$2a$04$SoIZtVyUw7T0QEzuHlFCpOKQOuN1K./c/5C3AUqYSMYCtraiUWOP."]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$h4FEhTEDSkccDFbaZ3DSr.NSBs44OekKnp1gdz5DGQQSkz.qpSvym"], ["updated_at", "2015-12-23 21:48:24.762687"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$ts2Jeo9WsnPu3M/8tlhjYeSdMJR3aLtA822SYTAYpf5hfDJ2t0KKK"], ["updated_at", "2015-12-23 21:48:24.769395"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$EEMWppljlXO4HTSu1sJ0.uU725rTN66E8pQaFqpoLMhhPa801qGZ2"], ["updated_at", "2015-12-23 21:48:24.772593"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.5ms)
  Rendered users/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$y6XJHWDqhfAXok/Flf4MXu4xq0YV21wk6kxX0Cx0FhgFyytebGDji"], ["created_at", "2015-12-23 21:48:24.809750"], ["updated_at", "2015-12-23 21:48:24.809750"], ["activation_digest", "$2a$04$.KucDVbXdNGNu9AyoXOpm.aOQHUqcP/gkM.nS9cTAX.mflnNLQSXC"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.4ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.2ms)

UserMailer#account_activation: processed outbound mail in 3.2ms

Sent mail to user@example.com (7.2ms)
Date: Wed, 23 Dec 2015 13:48:24 -0800
From: from@example.com
To: user@example.com
Message-ID: <567b16a8c9bdb_15d4d11159944463c@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b16a8c9039_15d4d111599444569";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b16a8c9039_15d4d111599444569
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/9cVOc9drvKIK-q60zI7kSg/edit?email=user%40example.com



----==_mimepart_567b16a8c9039_15d4d111599444569
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/9cVOc9drvKIK-q60zI7kSg/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567b16a8c9039_15d4d111599444569--

Redirected to http://www.example.com/
Completed 302 Found in 31ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/9cVOc9drvKIK-q60zI7kSg/edit?email=wrong" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"9cVOc9drvKIK-q60zI7kSg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/9cVOc9drvKIK-q60zI7kSg/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"9cVOc9drvKIK-q60zI7kSg"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "activated" = 't', "activated_at" = '2015-12-23 21:48:24.854487' WHERE "users"."id" = ?  [["id", 1046959424]]
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.7ms)
  Rendered users/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 7ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.3ms)
  Rendered users/_form.html.erb (4.6ms)
  Rendered users/new.html.erb within layouts/application (4.8ms)
Completed 200 OK in 12ms (Views: 6.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$yH6TYSrHSY2shfx/fRWJa.0TaQ8uOOXAch9nwRMQlbELUfhaAzAX6"], ["updated_at", "2015-12-23 21:48:24.897324"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:48:24 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (22.4ms)
  Rendered users/index.html.erb within layouts/application (52.5ms)
Completed 200 OK in 57ms (Views: 54.7ms | ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 13:48:25 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 436798503]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:48:25 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$jt/z/rJUnVXdTOvebG5R0ujEK3WzeVEHjwATCtwlsd04cUQa1ux0G"], ["updated_at", "2015-12-23 21:48:25.031463"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:48:25 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (5.4ms)
  Rendered users/index.html.erb within layouts/application (9.1ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 13:48:25 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:48:25 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:48:25 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_digest" = '$2a$04$8XorwAYugZLmDbA.j1OXVev56GIHh1ol0S8wlRoZlbH0T3pZaPAJW', "reset_sent_at" = '2015-12-23 21:48:25.079099' WHERE "users"."id" = ?[0m  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (0.4ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.1ms)

UserMailer#password_reset: processed outbound mail in 2.9ms

Sent mail to kendra@example.com (2.9ms)
Date: Wed, 23 Dec 2015 13:48:25 -0800
From: from@example.com
To: kendra@example.com
Message-ID: <567b16a914a0f_15d4d11159944486c@ubuntu.mail>
Subject: Password reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b16a914277_15d4d11159944473c";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b16a914277_15d4d11159944473c
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

To reset your password click the link below:

http://example.com/password_resets/KVAIS-hqpB184_R2epaTfg/edit?email=kendra%40example.com

This link will expire in two hours.

If you did not request your password to be reset, please ignore this email and
your password will stay as it is.



----==_mimepart_567b16a914277_15d4d11159944473c
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Password reset</h1>

<p>To reset your password click the link below:</p>

<a href="http://example.com/password_resets/KVAIS-hqpB184_R2epaTfg/edit?email=kendra%40example.com">Reset password</a>

<p>This link will expire in two hours.</p>

<p>
If you did not request your password to be reset, please ignore this email and
your password will stay as it is.
</p>

  </body>
</html>

----==_mimepart_567b16a914277_15d4d11159944473c--

Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.3ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/password_resets/KVAIS-hqpB184_R2epaTfg/edit?email=" for 127.0.0.1 at 2015-12-23 13:48:25 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"", "id"=>"KVAIS-hqpB184_R2epaTfg"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "f"], ["updated_at", "2015-12-23 21:48:25.093290"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/password_resets/KVAIS-hqpB184_R2epaTfg/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:48:25 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"KVAIS-hqpB184_R2epaTfg"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "t"], ["updated_at", "2015-12-23 21:48:25.099160"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/password_resets/wrong%20token/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:48:25 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"wrong token"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/password_resets/KVAIS-hqpB184_R2epaTfg/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:48:25 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"KVAIS-hqpB184_R2epaTfg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered password_resets/edit.html.erb within layouts/application (3.3ms)
Completed 200 OK in 8ms (Views: 5.6ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/KVAIS-hqpB184_R2epaTfg" for 127.0.0.1 at 2015-12-23 13:48:25 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"KVAIS-hqpB184_R2epaTfg"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (1.9ms)
Completed 200 OK in 13ms (Views: 3.3ms | ActiveRecord: 0.4ms)
Started PATCH "/password_resets/KVAIS-hqpB184_R2epaTfg" for 127.0.0.1 at 2015-12-23 13:48:25 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"KVAIS-hqpB184_R2epaTfg"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (1.9ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/KVAIS-hqpB184_R2epaTfg" for 127.0.0.1 at 2015-12-23 13:48:25 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"KVAIS-hqpB184_R2epaTfg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$fFFiBtE7gYN/s3Qe3yJmaepT5YpZVzzch8B9iV9J7H/5yrstGNVlW"], ["updated_at", "2015-12-23 21:48:25.150794"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:50:37', '2015-12-23 21:50:37', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:50:37', '2015-12-23 21:50:37', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$AmUqnzt.xGKbJdwDzAKVBuAK0qsF88U37D7CrnAirhJM/aT4Cnmdi', 't', 't', '2015-12-23 21:50:37 UTC', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$0JcbQgpM.4P0fbPu0qsKp.1/1aGTzo/ebu5xc06cykXJ0oYwe6EFO', 't', '2015-12-23 21:50:37 UTC', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$v0t1TnauChvlxKW8qU9PCeLmo/Aw4G1Py2x3Vq5bpGoznxjPI/7tS', 't', '2015-12-23 21:50:37 UTC', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$02FSMiiNzKkirEYuVZxweOahQLmA9yGbLhPiJ2pfkMir8CEY41BeW', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$6Ab1N2ynYh5qP1.FreJHU.Nw44cTX9iVJb/i7GyZp6DWg2JsA21Qu', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$eYqx3qWECfLSHe3EeoNDe.7zk.bh1wuZLl81ngts5M5hJ8as3wqj2', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$lmV6Yj7rGz.YQfWDeWIAQext12vICGnaqV1p/dFig/5s.anoI7Me.', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$SX3P8ay70G34j0FMHyc9QuFzDgCodFK0gwhPaHi4U4iomy.fToSeG', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$E6HdjlqC9OfU396ketzjV.mUWnzCAO/gglbfqIadlznPg38g1qaFG', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$S/LCG9xD7UNbi80HT9i6YueHJNLGgiMxpduetwXsBwHj.z7caWF42', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$siIw43Ner0jGsFxPyTH66eEKlsHz2rrcRUZXSdVUrY2KT13usgSVa', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$6zzEZEEtpqxhjCb/a2xuhOPn4c1O2nMSz6epCGwE9Gbw3dUHndlVO', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$PUdGU3uMQdgkKoqznrVU5eArDcIPsjHE6EgmVUfUAloHCGUQj9z/S', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$SB2qdoORoFJY65n4a0FmI.wXWk.vZ2.66q/9Z4m1RxyeGJzo/a5Fm', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$dCKEQKiByCL1k2NWwtqPyew6raoZUoXJNV2sEOeaM6VUuDSCMQECG', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$UKFl9Yfy0gGtKWSZG8NW2O3YXlH2n2yuNCVzjmx7xlpn1n0c8fdTa', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$ooxeDkMfrU2Tc43MsA/MA.hNC1gzLGGzt50j2PPIByGjiJrFRGIDS', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$cJeWPmG2NOf6l2RP.HifUenzHGYQlUjZhoGfuEucf8n0labkr/fOC', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$KDkkx0s9ADmDvZU.3l4uBe4O/ZF45kFAubnsvXYDHIW36.1o3SN12', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$.YTd/1oR9LMSee5/4Ls9suUYn4KAm0gNX2t4R1BmRixETGDqj/9I6', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$0Z/59Bq.qzlKJ8JwcSVc9ugJ4qU9JeyNF./meuycCeQoQ.1DY9RrC', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$o62Whd35/UYYiRTI0tOpJeANz9zYqyQ0jO6geP.4j.8b33PRzB2xe', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$npaxzIgZDMRn.0eiOWCS0uVKi3Vi9KNlCaB1kJG7R89uPcu3q9Gt.', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$sq3OCJXCQXNwdXbSMlghhOQymlDxBsimOu2ilbKJqTy/BIwLmrevq', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$lKucKWGdqCdhKlL7.uIEpuz8uhNIqchzdO52xAFq0CHDaY.b.QMFe', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$olwR3iDS5CqPK569TiFPIOcK6XYERu//w4wTrkNU4ZyZjMLs3jm2e', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$ZDUEKmKjAvnaCKpbXTIrVe0HCA5.MhRnFLlplrNiYbIzQdm.m5XBK', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$BOSvPF3K2k8Hrm2lVkK68e2gXeEdqG9rQCk6A3CKHnL2rKdf6YWLO', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$ecJpdXCeahsE1wsyGfKVPurWZqb8NhqUNeQdMVgBpD1eWkIQR8Ure', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$/mN8uyVzexnu5X5225YEtOKREjkfuTCvNW44QPJHmNfxcWTtIoHx6', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$ddTNUkNwb27EkRd8fml18.xV5VIPi4GD7XepClxxqwhalgdMtJLsu', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$8iOqwF.c0/q0CruiBIG8EOkuiNdZmhiJT1ePVP8KQuOk4No8qbDsy', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$DhDg.GEDhpfKg7gszmw6Y.OMZnNnnfqcAPKQtTdoZzC6xcxfPXvNW', 't', '2015-12-23 21:50:37.000000', '2015-12-23 21:50:37', '2015-12-23 21:50:37', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:50:37', '2015-12-23 21:50:37', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:50:37', '2015-12-23 21:50:37', 298486374)[0m
  [1m[35m (2.0ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:50:37 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.5ms)
  Rendered users/_form.html.erb (346.0ms)
  Rendered users/new.html.erb within layouts/application (352.3ms)
Completed 200 OK in 660ms (Views: 643.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/_form.html.erb (5.5ms)
  Rendered users/new.html.erb within layouts/application (5.7ms)
Completed 200 OK in 27ms (Views: 7.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.7ms)
  Rendered users/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$WKzY6dWAo5lSeROSKny5puinconm61GtJEyGlRIc/Cac.FhVLIzP."], ["created_at", "2015-12-23 21:50:38.437212"], ["updated_at", "2015-12-23 21:50:38.437212"], ["activation_digest", "$2a$04$Gm/T.aG7iWjTp.DFYGnsCerO5.xvoCKhAz3AQ.GP20dTJSx0YbF2y"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (2.4ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.8ms)

UserMailer#account_activation: processed outbound mail in 250.2ms

Sent mail to user@example.com (10.0ms)
Date: Wed, 23 Dec 2015 13:50:38 -0800
From: from@example.com
To: user@example.com
Message-ID: <567b172eae7e6_15d76d1399020657@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b172eacd0c_15d76d13990205e3";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b172eacd0c_15d76d13990205e3
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/Q_QAZ4YkHEiTpR-9zHZwBg/edit?email=user%40example.com



----==_mimepart_567b172eacd0c_15d76d13990205e3
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/Q_QAZ4YkHEiTpR-9zHZwBg/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567b172eacd0c_15d76d13990205e3--

Redirected to http://www.example.com/
Completed 302 Found in 288ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/Q_QAZ4YkHEiTpR-9zHZwBg/edit?email=wrong" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"Q_QAZ4YkHEiTpR-9zHZwBg"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/Q_QAZ4YkHEiTpR-9zHZwBg/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"Q_QAZ4YkHEiTpR-9zHZwBg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
  [1m[36mSQL (3.8ms)[0m  [1mUPDATE "users" SET "activated" = 't', "activated_at" = '2015-12-23 21:50:38.753066' WHERE "users"."id" = ?[0m  [["id", 1046959424]]
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 8ms (ActiveRecord: 3.9ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$esWXopKKBxrEiIUjWGlsXuzZBcyZO693CsLMxAmOyFEXF8LVOfUAS"], ["updated_at", "2015-12-23 21:50:38.774153"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (6.6ms)
  Rendered users/index.html.erb within layouts/application (18.6ms)
Completed 200 OK in 23ms (Views: 20.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$q0wY33QJ6zJnTYGl9l0hleoc2EARiQ9osqBknClA2MyWPGoetHHvK"], ["updated_at", "2015-12-23 21:50:38.820156"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (7.5ms)
  Rendered users/index.html.erb within layouts/application (11.7ms)
Completed 200 OK in 17ms (Views: 13.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 436798503]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.1ms)
  Rendered users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (1.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$VMxre4EEC.S0CML.VDZHKe/o71iDATkPkoubZmj0LLPUQkwK6RLJG"], ["updated_at", "2015-12-23 21:50:38.901508"], ["id", 436798503]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (1.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 1.3ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$b2DAkooozIqjrj9NEr0GNOjB0pMMCCvC1eShfd6Q3nBLFTpilKfiq"], ["updated_at", "2015-12-23 21:50:38.965771"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.9ms)
Completed 200 OK in 10ms (Views: 10.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 13:50:38 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.1ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.3ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$TdjcQlcQ/ho.wSZUbKGPDealrtn884KxM.s.A1e99uvHmelz/uLZ2"], ["created_at", "2015-12-23 21:50:39.039290"], ["updated_at", "2015-12-23 21:50:39.039290"], ["activation_digest", "$2a$04$E/jEPNe4NKF5AW9Yn7XnOeIhgIwd1O0gCt7bA902niPV/QVB4AZ6y"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$MROXFWl/PCNM1i79NDBMWOaQk3yEWdFFxoIM5mMVkx0bqeUDXXHt2"], ["created_at", "2015-12-23 21:50:39.091541"], ["updated_at", "2015-12-23 21:50:39.091541"], ["activation_digest", "$2a$04$IpVy7DpSAjkHfBSdPNfwj.49Yaii4lqX2bBR95hXecU/ZYOQ/1xXm"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (16.9ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$aeFCmUGSQHMkmRHhEGQ3jeM5P0nrEFIhvlH7.R2gF39eVsclI/lre"], ["updated_at", "2015-12-23 21:50:39.136519"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 16ms (ActiveRecord: 0.7ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered users/_form.html.erb (3.5ms)
  Rendered users/edit.html.erb within layouts/application (5.2ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.1ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.6ms)
  Rendered users/_form.html.erb (5.2ms)
  Rendered users/edit.html.erb within layouts/application (5.5ms)
Completed 200 OK in 13ms (Views: 6.9ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$weFOTq0PvW385eZ/03onFOOKQ4sgVBgeTNTSBRvI6yimEwrOWCw3O"], ["updated_at", "2015-12-23 21:50:39.180986"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 21:50:39.192389"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.1ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_digest" = '$2a$04$GsbyV8F3mT24ooCvP/U6oehckefTIxVXS72yAxbQvcE7BLdpzg0Va', "reset_sent_at" = '2015-12-23 21:50:39.227553' WHERE "users"."id" = ?  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (1.8ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.5ms)

UserMailer#password_reset: processed outbound mail in 11.1ms

Sent mail to kendra@example.com (5.0ms)
Date: Wed, 23 Dec 2015 13:50:39 -0800
From: from@example.com
To: kendra@example.com
Message-ID: <567b172f3b88e_15d76d13990208b1@ubuntu.mail>
Subject: Password reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b172f3af82_15d76d139902071b";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b172f3af82_15d76d139902071b
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

To reset your password click the link below:

http://example.com/password_resets/waANg1hY-a0TWvzSQtsp_Q/edit?email=kendra%40example.com

This link will expire in two hours.

If you did not request your password to be reset, please ignore this email and
your password will stay as it is.



----==_mimepart_567b172f3af82_15d76d139902071b
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Password reset</h1>

<p>To reset your password click the link below:</p>

<a href="http://example.com/password_resets/waANg1hY-a0TWvzSQtsp_Q/edit?email=kendra%40example.com">Reset password</a>

<p>This link will expire in two hours.</p>

<p>
If you did not request your password to be reset, please ignore this email and
your password will stay as it is.
</p>

  </body>
</html>

----==_mimepart_567b172f3af82_15d76d139902071b--

Redirected to http://www.example.com/
Completed 302 Found in 24ms (ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/password_resets/waANg1hY-a0TWvzSQtsp_Q/edit?email=" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"", "id"=>"waANg1hY-a0TWvzSQtsp_Q"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated", "f"], ["updated_at", "2015-12-23 21:50:39.256362"], ["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/password_resets/waANg1hY-a0TWvzSQtsp_Q/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"waANg1hY-a0TWvzSQtsp_Q"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated", "t"], ["updated_at", "2015-12-23 21:50:39.263105"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/password_resets/wrong%20token/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"wrong token"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/password_resets/waANg1hY-a0TWvzSQtsp_Q/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"waANg1hY-a0TWvzSQtsp_Q"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (4.9ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/waANg1hY-a0TWvzSQtsp_Q" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"waANg1hY-a0TWvzSQtsp_Q"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (1.1ms)
  Rendered password_resets/edit.html.erb within layouts/application (2.9ms)
Completed 200 OK in 11ms (Views: 4.8ms | ActiveRecord: 0.5ms)
Started PATCH "/password_resets/waANg1hY-a0TWvzSQtsp_Q" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"waANg1hY-a0TWvzSQtsp_Q"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered password_resets/edit.html.erb within layouts/application (2.2ms)
Completed 200 OK in 7ms (Views: 3.8ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/waANg1hY-a0TWvzSQtsp_Q" for 127.0.0.1 at 2015-12-23 13:50:39 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"waANg1hY-a0TWvzSQtsp_Q"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$LuF4TMNlYNRM1.92Dersre26mRp1OLhEeJA6xbwPaFSRNSzuGRKHm"], ["updated_at", "2015-12-23 21:50:39.318382"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$HYBq2cMy8MOXIVMF4vnvF.9ExpRmRPD/RTI3rFX8wyFOXb9MJncqm"], ["updated_at", "2015-12-23 21:50:39.326446"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$SzUPxtaCZ0bMgqk1sNpA2ehXFl6WK58/FxuKMKs2OUlo8IonEW3La"], ["updated_at", "2015-12-23 21:50:39.330402"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$dwq0RhGLqtwLu33EjCLMp.CwPIa/D4G.ZaeAprJTZ9St9amMkK88W"], ["updated_at", "2015-12-23 21:50:39.338733"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.3ms)

UserMailer#account_activation: processed outbound mail in 10.1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (0.5ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.2ms)

UserMailer#password_reset: processed outbound mail in 4.1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:52:25', '2015-12-23 21:52:25', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:52:25', '2015-12-23 21:52:25', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$lxufwNM3yUdY9YIFwFA8/.x7oInms9bLcQu8L54hYHqGDfJmW4/lK', 't', 't', '2015-12-23 21:52:25 UTC', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$JqfN4wkK8pWzNTUXA6NvUOoXi2pLC/ZgwN1eqcjf2vbZlyT07WU5u', 't', '2015-12-23 21:52:25 UTC', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$nUfEAFZlW1OEe1e/mdwE8.mp0O55wn7OuTkOfhV8FVyRVGg83HnA.', 't', '2015-12-23 21:52:25 UTC', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$7HOy/0S0E868wSYK.dVw3e94sda4Tmt2/IDzed/gu5h./pMknZhAK', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$5CeaDBmdLtTfalGEcFggL.hjdLpRpLDPoaPCVKh2PuA9Co1NmuF8C', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$QPGGNT/pnZ2Ufb5VEVP2kOeDVvw7ET/HTQhuoge95U2VcPyT05QIq', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$UE4k2wweDTpQaeoBg47QMOc6iEeFpJYQns02cx85OOsQM/4B3HjZO', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$zHlvJMxnjv7U4j3Te.YZ6e/G/pkR1gg8O/OYfelkYHYfueLU2JUsW', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$Lo7otbEn8BQODrqs4HdJ..wYKR0NOVWJjUhjTdJb4NluwY1/t0Q/S', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$r/VgaEbd0rl8XHT8VOBuWO9zLCNcyqd98EuiF2aMfVLzbcJwtBKa.', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$4QdUc1XBaVDRZtHh7Z.HTeUoyhzjRCAkWDw1xtvrUExcJV.FsliYC', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$TyI9dzEk.aNgfkWf0yvdtODr2aD19xFprUDWN2natFLvTyMVe6Cjq', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$T5B3OXzJdaxu2lQK5.ydDOQ4rwGLT8Ii600OShEslNSwHE8KZVxXu', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$ATI5qz6d4NQuITidpNcQseZLGpF.LH/J4lWIgHVZSxP8iZR7Z14uC', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$PB.MQzflgb.loJlYZ3/wm.9rwtMShcoSv2TXkjC3Z2jBEGtNCIJ2.', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$UT2TlxcISXuVXCdET9aE2u8.Dk7YwMkvERfwa8izmtp1Ow2ZrFzFe', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$j.yA1eKrEKoHvBf4IwGMd.ZB.ikX8dmERnBC3TKbyffWzteY9mKWC', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$HWGp43lszPZ602xM4/C6GOux/YBmQZkiU5K8ze2Qv1WpsHpxUNFzi', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$qGZlimeh8ePAvIiiSagyXeSKDir..GWtrhKYCbCHIwR5.9oEKl35G', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$h6V6lOoOxumlM2BnG6dtFerxKMiUqn.VYCZcSyDAD/fC9U5w6/DaS', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$hsLPaYORydZoaXjcI.t1OOpeSG.Yj9ogbqicGKB9NcizmNu3IVdty', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$56A1ZhX5vyqt2jh28nIBh.inGU2XM5NU8v9xGN9bMKCQJ4ZgJKAQq', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$sqFLjr5fIHqhUSup0xIGEuhNg1qp2rL8K17Y8XlQ0pEMrX18HhFB6', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$d8UqSYgDNV2.tIIHgWdFouE0oga4mE2jZNw7zx8WiWhSE0.DJ0fDS', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$3gvTzQDtKNtcNd0HaxCfQuC0sW.fscEGLFlHhEOB5366Z5NFde.Tu', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$eZAR/1.feN.kqwxqHs9/ie1Md0Qa8waTPTezuv5SwGdO.pWxayhWu', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$Oy3xBbhITB1Uv5Oc..tVzeiIpMRoG3NiJZtmvqoD/6wPFSvZeaESO', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$I.UVLsjp/9GBctF7V2epeeaOq4JkT0NhIX6zKJL1gvByElmwMqsWO', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$2t5z3aPAwmWl2ovkwG9eJ.DmGqUPDlwONO6A7paWvaeRhh5NUa.wa', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$h9T3IOfP1PwxL9emh3AxKue05hquI1sp4gy5p5g2MCYqWJzlW3xN.', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$cvCZOl8BSxCvZVRazRx71.qEG8LPar.uxTWagWweEuuYZ4CwmasjO', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$m7VCpZnPLkg9J4lvk7mWiemGnemBmXZh6pXhHBs9ciUq1R7qaNfGC', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$Jvn2ljn/SbS229AOw8cIEOssBPzJ08/t81EOGOPv7znveUX9.dxEm', 't', '2015-12-23 21:52:25.000000', '2015-12-23 21:52:25', '2015-12-23 21:52:25', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:52:25', '2015-12-23 21:52:25', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:52:25', '2015-12-23 21:52:25', 298486374)[0m
  [1m[35m (55.2ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:52:25 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (337.2ms)
Completed 200 OK in 624ms (Views: 615.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 8ms (Views: 3.6ms | ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$aJYCZ7e7ZoXrGmNvuCbrIe5rzPGMDJOuhc88u8OWyWkdzarE4JboK"], ["updated_at", "2015-12-23 21:52:26.505467"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 15ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 6ms (Views: 5.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (4.2ms)
  Rendered users/_form.html.erb (9.3ms)
  Rendered users/new.html.erb within layouts/application (14.2ms)
Completed 200 OK in 19ms (Views: 17.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.5ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 12ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$c3dI.d38wTqPcCyCk9ybAOOBdxbKMiusWucHGOSmFpvk0t9MvLSjO"], ["updated_at", "2015-12-23 21:52:26.691187"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 34ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$BIJW3eip08y4zDuCgQ0CMOi4G1aPRdFLsTpnKmOrveRvXAbi9I0YK"], ["updated_at", "2015-12-23 21:52:26.733292"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 9ms (ActiveRecord: 1.2ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (3.5ms)[0m  [1mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 21:52:26.749471"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 13ms (ActiveRecord: 3.9ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.9ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$gpB9Mrz7pRSPDAXUcHrqOe1mdDcKriWuyjBNJV8T2xiLMTCJ40fnW"], ["updated_at", "2015-12-23 21:52:26.769358"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 10ms (ActiveRecord: 2.2ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (7.7ms)
  Rendered users/edit.html.erb within layouts/application (9.9ms)
Completed 200 OK in 17ms (Views: 14.4ms | ActiveRecord: 0.2ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (4.3ms)
  Rendered users/_form.html.erb (9.3ms)
  Rendered users/edit.html.erb within layouts/application (10.1ms)
Completed 200 OK in 23ms (Views: 13.8ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (2.2ms)
  Rendered users/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/_form.html.erb (4.2ms)
  Rendered users/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 12ms (Views: 6.0ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.6ms)
  Rendered users/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:52:26 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$0lkqThBD02hZzGKaZpNUieWW8Fw6aZL4uYvEEXTaKnKpbp50Au4wO"], ["created_at", "2015-12-23 21:52:26.871795"], ["updated_at", "2015-12-23 21:52:26.871795"], ["activation_digest", "$2a$04$1dSycXwXMSXDr8D1DOHCQu..69jVE2we8qQ.bhO/EdVfjw6onO6cS"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (2.0ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.8ms)

UserMailer#account_activation: processed outbound mail in 158.7ms

Sent mail to user@example.com (8.6ms)
Date: Wed, 23 Dec 2015 13:52:27 -0800
From: from@example.com
To: user@example.com
Message-ID: <567b179bd38f_15db1b3f99875655@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b179bbc62_15db1b3f998755b2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b179bbc62_15db1b3f998755b2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/9DfRD-typRWnWwugGnKoww/edit?email=user%40example.com



----==_mimepart_567b179bbc62_15db1b3f998755b2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/9DfRD-typRWnWwugGnKoww/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567b179bbc62_15db1b3f998755b2--

Redirected to http://www.example.com/
Completed 302 Found in 190ms (ActiveRecord: 0.6ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/9DfRD-typRWnWwugGnKoww/edit?email=wrong" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"9DfRD-typRWnWwugGnKoww"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/9DfRD-typRWnWwugGnKoww/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"9DfRD-typRWnWwugGnKoww"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "activated" = 't', "activated_at" = '2015-12-23 21:52:27.078772' WHERE "users"."id" = ?[0m  [["id", 1046959424]]
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.9ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.2ms)

UserMailer#account_activation: processed outbound mail in 2.9ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (1.8ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.4ms)

UserMailer#password_reset: processed outbound mail in 9.6ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$nJWPNBH0zh.P3Wim5wPbeu.QLuxL4uRcaMWXnkzI9kZX9PGhxKY3S"], ["updated_at", "2015-12-23 21:52:27.114503"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$LUW/NvfGoL0m8XCyy592Zebm/ZsV0/lBqc2xsl7bO.rWwFW/qqx42"], ["updated_at", "2015-12-23 21:52:27.122497"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$qrVND4JZGxSv2KL/B8qLzeFoXqsCZ4xOBRcHwoWvwc7t/FWPUDITK"], ["updated_at", "2015-12-23 21:52:27.130901"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$YzIk5VJJTG23Y.2Du377GOMIzS.3D7/wraX91pDLLXyIdrUtDT/jm"], ["created_at", "2015-12-23 21:52:27.140612"], ["updated_at", "2015-12-23 21:52:27.140612"], ["activation_digest", "$2a$04$hQb4ONZ/ADVmaeyt9gDpYuedwkTDJjHvRrtpZlbSHKcTGOWAoY9/q"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$6OHKMAMztX7ISmqCIl/HIueYDwuCREPpOyLOy6.5BL/hOfe51HACG"], ["created_at", "2015-12-23 21:52:27.160434"], ["updated_at", "2015-12-23 21:52:27.160434"], ["activation_digest", "$2a$04$/kEeaulq/EKDt3Hx8RUPbeJO8zdvIrlr3ASSzLrWC1sa757KzrSgK"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "reset_digest" = '$2a$04$uKYFj3nQIUYm8OorOkfrtON.i1BQjP/oBJ1PZrB9AyL.F5PE9bS0C', "reset_sent_at" = '2015-12-23 21:52:27.236871' WHERE "users"."id" = ?  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.1ms)

UserMailer#password_reset: processed outbound mail in 2.9ms

Sent mail to kendra@example.com (3.0ms)
Date: Wed, 23 Dec 2015 13:52:27 -0800
From: from@example.com
To: kendra@example.com
Message-ID: <567b179b3b10c_15db1b3f99876037@ubuntu.mail>
Subject: Password reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b179b3a980_15db1b3f9987591c";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b179b3a980_15db1b3f9987591c
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

To reset your password click the link below:

http://example.com/password_resets/0sp_2bMK122NZSWXAHW8tA/edit?email=kendra%40example.com

This link will expire in two hours.

If you did not request your password to be reset, please ignore this email and
your password will stay as it is.



----==_mimepart_567b179b3a980_15db1b3f9987591c
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Password reset</h1>

<p>To reset your password click the link below:</p>

<a href="http://example.com/password_resets/0sp_2bMK122NZSWXAHW8tA/edit?email=kendra%40example.com">Reset password</a>

<p>This link will expire in two hours.</p>

<p>
If you did not request your password to be reset, please ignore this email and
your password will stay as it is.
</p>

  </body>
</html>

----==_mimepart_567b179b3a980_15db1b3f9987591c--

Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/password_resets/0sp_2bMK122NZSWXAHW8tA/edit?email=" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"", "id"=>"0sp_2bMK122NZSWXAHW8tA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated", "f"], ["updated_at", "2015-12-23 21:52:27.250726"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/password_resets/0sp_2bMK122NZSWXAHW8tA/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"0sp_2bMK122NZSWXAHW8tA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated", "t"], ["updated_at", "2015-12-23 21:52:27.256286"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/password_resets/wrong%20token/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"wrong token"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/password_resets/0sp_2bMK122NZSWXAHW8tA/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"0sp_2bMK122NZSWXAHW8tA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/0sp_2bMK122NZSWXAHW8tA" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"0sp_2bMK122NZSWXAHW8tA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (2.0ms)
Completed 200 OK in 10ms (Views: 3.5ms | ActiveRecord: 0.4ms)
Started PATCH "/password_resets/0sp_2bMK122NZSWXAHW8tA" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"0sp_2bMK122NZSWXAHW8tA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered password_resets/edit.html.erb within layouts/application (2.0ms)
Completed 200 OK in 6ms (Views: 3.5ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/0sp_2bMK122NZSWXAHW8tA" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"0sp_2bMK122NZSWXAHW8tA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$PV4XhPGxzLxs2DVMZKyDm.NGAC6EpJIHzrty60g5PmSm/z.K7UZba"], ["updated_at", "2015-12-23 21:52:27.335572"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$3wea8BQKpcH4VSPUSY17teixAZmTvMTLnachB0eY25cFhafkG5Ppm"], ["updated_at", "2015-12-23 21:52:27.347181"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 8ms (ActiveRecord: 0.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (13.6ms)
  Rendered users/index.html.erb within layouts/application (21.4ms)
Completed 200 OK in 26ms (Views: 23.3ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kimberly@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$Kdb3UvJv9JT1TRBNtksGL.ZM2zR5TqTsOL4vVq7YQ0y3xf6.JuSqe"], ["updated_at", "2015-12-23 21:52:27.425103"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:52:27 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (7.0ms)
  Rendered users/index.html.erb within layouts/application (13.8ms)
Completed 200 OK in 17ms (Views: 15.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:54:14', '2015-12-23 21:54:14', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:54:14', '2015-12-23 21:54:14', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$pP6iYkQ8hB2L2.y7y9J.B.joWCpVJbzmU36LCXkzO.1zN8PcztYFa', 't', 't', '2015-12-23 21:54:14 UTC', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$tXLhE/vBDJnPxzSN4lJdFO0L0g1NO0Dhd8zJMOPw8k0Uw60umoG8K', 't', '2015-12-23 21:54:14 UTC', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$JW1J0YHPVssFTfLzVgWhaulEHY4tBj.kzypskLbv4ZE8BGS3gg1Aa', 't', '2015-12-23 21:54:14 UTC', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$J.ML8EBtbn8Jot7jddIh.OODb4Q54YePWrTTYhN28UGczLVNAOvFW', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$oom8Zm9Ie5REj68aWg1E3Ott4JWotPx6is9ecQ34lCRvzk7hBDeQG', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$fGxZu074hczObzj.gInhIOclqysVLp7aXjdwEts3/zuLheUGm.Nf2', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$PATpOIFzQeQ490pe1bslHO76rg2CS8dsXlSvNfOxFQ7.zYEgr9B1O', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$wl8uIS.EZb.WloQqk.zJFujxYXbE34Qq8YBtGelFn7vwksS26ZFs.', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$lOVu7RI.sFarjuHSzfMAfusIai4Pce5lHPvZZrPbU.Y.1OhE7Wj.S', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$BUpAgCm4PvYkyCUgVUOB4O3pcBNo6oa5Zh8c8rcP4UB87FE2e9CKa', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$5XAT6so4wQGhDg1aru9qie1z3sLocoPJzFL2IKdW3w/T68q46ZUh2', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$d4J3WNE7slzZBz0KdtnExOKtuxAtXdAR6tjhEI6HgSZ1mA/DL4rge', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$nzBgsGTpyw4yBP7gQ8xDfOCnEdI3WCu1DtMps4vTBRZlZEQhBnhDy', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$yGWfVoU5coor29mK7D2M8.KnJQeqKQXTefFjUWkOc8lndgcyT4O9.', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$k0ojjPvcdP.2HrwQP.13Nej5KqyhsD42vCdRztPTrDSCo4C5c51zi', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$ilMhGeH4/yi6lVGmg8HBcehmFUzcM8Y1SGNUvVsS3OqIcejEJTT3e', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$xtKMw7X7agK.Rdx4qotLbukGAZLiCXGYfCfv6ZmOe7qh/0Tqb1OEa', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$KH3o6MkW7JA2.vuIGtSMke56v8Ufbx8PIh0T74ukHzk1E68QWXd1m', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$ZRhbwkPWQALidx4QhjmjSOGn/y84zDFY3hHybG.rZ.QU7IG02C2W6', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$8IE5izf84OCuHvRW3WpP9eMqY0AGzZfiRsBIeF8u6keXB9wUT50dO', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$fqk2CSsLCVQFy5wrB1Ft9.rfIP5QJpslglzm2EFNaICGaU43ucSIu', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$X8.Zcy9skzCtKEigBH7htOi3igCkuhy1/jOvx1pzO9lt1uGNxmibW', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$maqsM64mGiOFT0hQDGqqKOYHDe1kO0zLxEqbNu7X/cS5s9xQwC7/.', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$kOnGIdLmxSvUmOnRd8FGYe6ylyCFZR1XCVGGZ7btRCjuPit69jo4S', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$nMnpuFCL6igggP8.Fgl8POleWrL1B5JXdYiidADaYCL/uyUWlMGZu', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$m5FxbXGB1HR5ByTWoglhNur1Hog0xE5f4.eMMqyOAd3WmuV4nfBdi', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$Vjy6hmPiegzr2VlFNG1y0OGtQ5XxwaqWCastToq4BtnoXrkKexGVu', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$yMoJx7fFYuY0fcc2EWLCqutFu2rfkfjsrTci8OPMmw/pXk3CTdL8i', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$Cm3BjTiojx9es8POKLom/eAFrXtPcaq8TeQ7EqgvV1SGCZhLQOMGK', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$tGutjeFVQ4vsOmAwKiO0ret0gkuvB2nybwYKKIp7B11V.6GbxwlzO', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$Zob4H5uN33DhSuCFD5ipWelp4EGrlbW5UGCpxpDbRJwB2/x5qqKSu', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$6NJykvV29Txya/Zhhey0Z.BVBQQUxlEeFPD0ZgtryN4qE2u2wRXqC', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$qMXaaIT2wiqhDI952eQtxeidwLsM3HDEMrtYXxMr2blQRvDOk94vu', 't', '2015-12-23 21:54:14.000000', '2015-12-23 21:54:14', '2015-12-23 21:54:14', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:54:14', '2015-12-23 21:54:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:54:14', '2015-12-23 21:54:14', 298486374)[0m
  [1m[35m (1.9ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$2HB9RRefcRQHr.M84hrpPuLIJwG9tPrNW2coLazcUjlopxnTIMsiu"], ["updated_at", "2015-12-23 21:54:14.377037"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.3ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$Ie01bNIJwAOb.q82AN1UaOG8tETgGV1ctW7mUfB9wUcWMAU77y1GC"], ["updated_at", "2015-12-23 21:54:14.397134"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$/.Ar1cUR/Fc31DczP27rk.adv3MgUNrv2QLRs6sXhAhOnraMZFHtq"], ["updated_at", "2015-12-23 21:54:14.400680"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 13:54:14 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (308.1ms)
Completed 200 OK in 650ms (Views: 642.9ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 2.4ms | ActiveRecord: 0.2ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "reset_digest" = '$2a$04$wqQKNNCEucpuZGL5ObJRaelUmTG4nrG5.ixRX2PXgTjrzU7IydCNK', "reset_sent_at" = '2015-12-23 21:54:15.089680' WHERE "users"."id" = ?  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (2.4ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.6ms)

UserMailer#password_reset: processed outbound mail in 259.4ms

Sent mail to kendra@example.com (9.3ms)
Date: Wed, 23 Dec 2015 13:54:15 -0800
From: from@example.com
To: kendra@example.com
Message-ID: <567b180759809_15dc89fd99089ba@ubuntu.mail>
Subject: Password reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b180757e7c_15dc89fd9908831";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b180757e7c_15dc89fd9908831
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

To reset your password click the link below:

http://example.com/password_resets/JdrDhTlKZgHDOKWl8raVIA/edit?email=kendra%40example.com

This link will expire in two hours.

If you did not request your password to be reset, please ignore this email and
your password will stay as it is.



----==_mimepart_567b180757e7c_15dc89fd9908831
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Password reset</h1>

<p>To reset your password click the link below:</p>

<a href="http://example.com/password_resets/JdrDhTlKZgHDOKWl8raVIA/edit?email=kendra%40example.com">Reset password</a>

<p>This link will expire in two hours.</p>

<p>
If you did not request your password to be reset, please ignore this email and
your password will stay as it is.
</p>

  </body>
</html>

----==_mimepart_567b180757e7c_15dc89fd9908831--

Redirected to http://www.example.com/
Completed 302 Found in 284ms (ActiveRecord: 0.3ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/password_resets/JdrDhTlKZgHDOKWl8raVIA/edit?email=" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"", "id"=>"JdrDhTlKZgHDOKWl8raVIA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated", "f"], ["updated_at", "2015-12-23 21:54:15.377642"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/password_resets/JdrDhTlKZgHDOKWl8raVIA/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"JdrDhTlKZgHDOKWl8raVIA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated", "t"], ["updated_at", "2015-12-23 21:54:15.383248"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/password_resets/wrong%20token/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"wrong token"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/password_resets/JdrDhTlKZgHDOKWl8raVIA/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"JdrDhTlKZgHDOKWl8raVIA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (2.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (10.8ms)
Completed 200 OK in 16ms (Views: 13.8ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/JdrDhTlKZgHDOKWl8raVIA" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"JdrDhTlKZgHDOKWl8raVIA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (2.1ms)
Completed 200 OK in 23ms (Views: 5.1ms | ActiveRecord: 0.4ms)
Started PATCH "/password_resets/JdrDhTlKZgHDOKWl8raVIA" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"JdrDhTlKZgHDOKWl8raVIA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered password_resets/edit.html.erb within layouts/application (1.9ms)
Completed 200 OK in 6ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/JdrDhTlKZgHDOKWl8raVIA" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"JdrDhTlKZgHDOKWl8raVIA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$r8r/zIFV90NWyKpMWueRCuBN6UoH4AXHeP.L9Q6SIbULCqUR8dF4e"], ["updated_at", "2015-12-23 21:54:15.451297"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
  [1m[35m (1.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$a0FcIFVLo47VGd9pssKAD.DGqwZliYNjeQIKkXhVVgJ8/rlJdGoUC"], ["updated_at", "2015-12-23 21:54:15.474671"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (8.2ms)
  Rendered users/index.html.erb within layouts/application (16.5ms)
Completed 200 OK in 26ms (Views: 22.3ms | ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 436798503]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kimberly@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$O8thIF233uhew684AawuyuzpEV.dp3n250gY4/ejrGMhL4OhFvkdK"], ["updated_at", "2015-12-23 21:54:15.549955"], ["id", 436798503]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (4.3ms)
  Rendered users/index.html.erb within layouts/application (7.7ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (1.8ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.4ms)

UserMailer#account_activation: processed outbound mail in 7.7ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.6ms)

UserMailer#password_reset: processed outbound mail in 3.3ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$nUzIKWACxTErkapi9Dewv.EZecRHfALP/P733LAATd6/m9XZ8kCfi"], ["updated_at", "2015-12-23 21:54:15.607788"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 21:54:15.616542"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$BjjjBk4Px77SKPgtKFVTVukyLDBYE3oZ6bU6cAvEADNEM1obliJGG"], ["updated_at", "2015-12-23 21:54:15.628108"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered users/_form.html.erb (4.7ms)
  Rendered users/edit.html.erb within layouts/application (6.4ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.2ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.3ms)
  Rendered users/_form.html.erb (4.5ms)
  Rendered users/edit.html.erb within layouts/application (4.7ms)
Completed 200 OK in 15ms (Views: 6.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 19ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.0ms)
  Rendered users/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$Wnc8DfwtQ2Xnyp4R1W6iduOIQk9wM1vkCEyOktje3HqkMQNeKMJLK"], ["updated_at", "2015-12-23 21:54:15.739924"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/436798503
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.2ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$zUCvCrAqJF6U0B/5vGpk.uQJXpsBfUh8X.jJfK4V2R/Nt1ejVf2.K"], ["updated_at", "2015-12-23 21:54:15.815955"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.3ms)
  Rendered users/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.5ms)
  Rendered users/_form.html.erb (4.8ms)
  Rendered users/new.html.erb within layouts/application (5.1ms)
Completed 200 OK in 14ms (Views: 6.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.1ms)
  Rendered users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$cInUkQ5jgKb6O5wgzRy7J.KqnU4SlVkWtFBy/sedyCtmO84UF.Rxa"], ["created_at", "2015-12-23 21:54:15.887998"], ["updated_at", "2015-12-23 21:54:15.887998"], ["activation_digest", "$2a$04$L.k.vvFaK0XWb05mR/c85.pxnBvOiOQVmfNt/ijBuwoyJE2FXHSHq"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.1ms)

UserMailer#account_activation: processed outbound mail in 2.6ms

Sent mail to user@example.com (2.8ms)
Date: Wed, 23 Dec 2015 13:54:15 -0800
From: from@example.com
To: user@example.com
Message-ID: <567b1807db037_15dc89fd99093c@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b1807da8e7_15dc89fd9909217";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b1807da8e7_15dc89fd9909217
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/OekLCyqppBcZba--CElzGw/edit?email=user%40example.com



----==_mimepart_567b1807da8e7_15dc89fd9909217
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/OekLCyqppBcZba--CElzGw/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567b1807da8e7_15dc89fd9909217--

Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 1.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/OekLCyqppBcZba--CElzGw/edit?email=wrong" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"OekLCyqppBcZba--CElzGw"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/OekLCyqppBcZba--CElzGw/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"OekLCyqppBcZba--CElzGw"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "activated" = 't', "activated_at" = '2015-12-23 21:54:15.921792' WHERE "users"."id" = ?  [["id", 1046959424]]
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 13:54:15 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$JYVC7O.gDwiXVkmnAHnU9e3jwgVhlyJ13a5i1J6/Ti1P3IGsHzSoe"], ["created_at", "2015-12-23 21:54:15.934967"], ["updated_at", "2015-12-23 21:54:15.934967"], ["activation_digest", "$2a$04$mCZx5jj5z/XaE58nKP5I7e5HAqK4/i25oEvJnCyknOuPpKqfqmnwm"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$6C5u3dt3gxoxupFJXP930.GrmMKNvE4x3Dfd/MQll3NFrYFLkMkTK"], ["created_at", "2015-12-23 21:54:15.944849"], ["updated_at", "2015-12-23 21:54:15.944849"], ["activation_digest", "$2a$04$itxFyggHUXNqi0zv0vWnDu2h/GKLXGLWCOGfppPL21wK9JYWoQVSq"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:56:11', '2015-12-23 21:56:11', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:56:11', '2015-12-23 21:56:11', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$IIwC9FmnbKD0D.CEWF9OqOv0aXIM0f0XcAR/Lv829zzr1Sq/A.pWu', 't', 't', '2015-12-23 21:56:11 UTC', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$JD5rGC/caL/0/srNC8rIO.ondqxCo4SPpZbAUOB.OrDF3SFujmbX.', 't', '2015-12-23 21:56:11 UTC', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$DwNusceYCk35dIucMNqh3OgD7qU5FmsJGn2Wb3q6wHlaajd7DWbSK', 't', '2015-12-23 21:56:11 UTC', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$JHao3bAdeDtNmHfgxdhGRe4WVHq/A8Lt2ZLSST0DV2qG8ETkV6F/y', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$xqfOK.j7m4VaTDgKy4pLB.x3LupDLMW235gt0fciU3vrQMnQTWV0q', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$.0P7MudeQUyzyIoH0TvieuliVKFdzHUjgxqZQTyNB1a2h4fjAUcna', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$Oj/tFovCmu8l7LeHH9HkDeE5HB/ezA6xUi0BBfgB97I7CIsYFDKAa', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$LaGMTEp3UTj1ivRLbTRMyOAGsmhRCVvxbR.QV6ZED9l/qBrLXD5/O', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$wumNEh/./Mko9aZcasiFv.yBwORSTAm/bN.IZuO8lbjOPB8dJUwya', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$GjgHGdEnE4mnpXyYD.vl..iMIdPDNNSrMKKt4xlspqBi.9KhKVDnq', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$JGecBAO3e/dj5AtMnJ2NyutgivD2orvg8OewC9WreaEnewAF7H8kG', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$OU9OXX.D2NOzXMyftPmYROgDraSI0w2vfO59mH7tLbW5CMHO7ugve', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$36zoSf2xyiadmKinsYYKnO1y1BC1/HRfGm3jEXPg4bGWEumlE/CN6', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$YL8B0klCYZ1tU2h1P6JKQe8i0HqVCUMqJcf3aVDHWNsGnARYArxAe', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$V./2d9IKzVLDjRG9YFpCuObJ2Y4tUZCfqfVe0IjkBOCjyE.edzoqy', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$1jj3QxXzvWusburUuLWUeujw9IcwjAta9eMrEw7p9IQwJPfWdLO1C', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$wIWklVtXMp0b8JBP2DnGle1a6j7YhYLGG5f9DlIBQ6jHy7C0LOohe', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$GFu0oXe//hLisRvFO59sTOP8BnA0b7iXw8ifu2SbdLDQtKE.Q2MXm', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$Se7Azoj2KxtVmDzadlWr2ejN7wN5hL17OxUlgH5LFoo2B3jYkzrly', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$0SJzbXgi5X1jRXNXWTEJROWkLHQlZflqM4VosxJHCGTwcGTI9gBeK', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$0NNTdZ5CZPkw4vzuJnRcNOF9ICLHWUcbrcufIp5WlL1m02Zm0VWjC', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$3RJsihelqAODrzGyHqlNjeXBx6ZWoGgA0ltfjf37WLYPuxU/fGjJu', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$sytrfLXw4RnwlV/8m1Vo0Ob0jUI0uoS2LBr57eMzy1/ALXiETE6YG', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$GmtkP2aBA3pzMDHlp162E.SOtksMdwOCK.F0UENt6KEWJiYQ5PFSi', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$A.nMlDRGffCApf9xqlQBo.nONyyjO5FK0kExbgJ9.PbaiuNnxbjfK', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$5Mu8FGMDq1AxNV68.9UoLeoJb.bEZY4pdv7Wz54ZusZMtP/OrbFZe', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$8DFYEab.rTAaYIhYlUfz4.FHVYEMAfXf5BlRJsZVoJ66m7T2KODb2', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$YFd3iXnSykKjApwPe14an.8VtDCzQGjuRq9T9m3A4Le0z5amSPf.i', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$oQ.kn0BrWMFWcLDTVULMzeGG8vHPJ.2wFt8iidAh0wbtX63CJelIO', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$qnA5JfQYReiw9fW7N3Jq0.DOMrK2jWJJUSiCZVc9j.d1cZ/1zA6Re', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$rvAitGAgSY5.1ELNWgI4Oe/d.oQ8kZByycoP80j8GcJMVgS/5VAqm', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$zmlMh7TgY/NFM70V28rMxOcQkEldg2PnJJ5stRYrMM19qCOfHrODa', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$vIT6ztzNH.0/oB.vvlhHJ.x4jnSJgS3kwA1jCHDyxc8yk1aQu8626', 't', '2015-12-23 21:56:11.000000', '2015-12-23 21:56:11', '2015-12-23 21:56:11', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:56:11', '2015-12-23 21:56:11', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:56:11', '2015-12-23 21:56:11', 298486374)[0m
  [1m[35m (108.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$L.3y.w0RsEe3KHn..OGcAe7KgrF9ZegtE.HP4uWZRHUu39qA36WlW"], ["created_at", "2015-12-23 21:56:11.991051"], ["updated_at", "2015-12-23 21:56:11.991051"], ["activation_digest", "$2a$04$ECOlUf4JfVMybgJGNhr9wu0kx9stpby/7F8Cv2DgP73RKN4wpZlU6"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$rXjhnxYpX4hZtXw6phzcROxZ6WsBoO8MhEZNOxS4756ahcGHOky4S"], ["created_at", "2015-12-23 21:56:12.014624"], ["updated_at", "2015-12-23 21:56:12.014624"], ["activation_digest", "$2a$04$L71IfRBMhtE4K5zysEobA.3jDha.TtM6U6/lOOJqMcbvA0cit0OPG"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered users/_form.html.erb (14.8ms)
  Rendered users/new.html.erb within layouts/application (20.1ms)
Completed 200 OK in 496ms (Views: 488.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered users/_form.html.erb (13.8ms)
  Rendered users/new.html.erb within layouts/application (14.1ms)
Completed 200 OK in 28ms (Views: 15.7ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (4.0ms)
  Rendered users/new.html.erb within layouts/application (4.3ms)
Completed 200 OK in 11ms (Views: 5.8ms | ActiveRecord: 0.0ms)
  [1m[35m (1.5ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$giN.mSbtqttaDmZeynhAk.i5zO3pzB1lFUZne/jasqjSZmz.l/EyO"], ["created_at", "2015-12-23 21:56:12.612288"], ["updated_at", "2015-12-23 21:56:12.612288"], ["activation_digest", "$2a$04$ZYY13Tz5JVrtgHRHpfejlupQh93joktFI0M/dyI0.tNklVYJlxBeO"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (2.0ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.5ms)

UserMailer#account_activation: processed outbound mail in 124.5ms

Sent mail to user@example.com (7.2ms)
Date: Wed, 23 Dec 2015 13:56:12 -0800
From: from@example.com
To: user@example.com
Message-ID: <567b187cb9795_15df242598c613b5@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b187cb8393_15df242598c6127f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b187cb8393_15df242598c6127f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/vHqF3BfqoWhIz2lBuCCUPg/edit?email=user%40example.com



----==_mimepart_567b187cb8393_15df242598c6127f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/vHqF3BfqoWhIz2lBuCCUPg/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567b187cb8393_15df242598c6127f--

Redirected to http://www.example.com/
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/vHqF3BfqoWhIz2lBuCCUPg/edit?email=wrong" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"vHqF3BfqoWhIz2lBuCCUPg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/vHqF3BfqoWhIz2lBuCCUPg/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"vHqF3BfqoWhIz2lBuCCUPg"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "activated" = 't', "activated_at" = '2015-12-23 21:56:12.795997' WHERE "users"."id" = ?  [["id", 1046959424]]
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.6ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$mTyZLw6sI.cIR3usWNnyleCumL4NCS3cuycnhdovc4NEjD9Rb2om6"], ["updated_at", "2015-12-23 21:56:12.809752"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$ZRYdXna1S5L4ytlN4K0RkuUe9MTf0AJP1pnxejlFFSYtWpalf8cRS"], ["updated_at", "2015-12-23 21:56:12.818970"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$ejcik1J35BHtAraevGDJX.kTNVgyF0Oh8iINv/oeMreOppQwS6ura"], ["updated_at", "2015-12-23 21:56:12.825579"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.1ms)

UserMailer#account_activation: processed outbound mail in 3.2ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (1.8ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.6ms)

UserMailer#password_reset: processed outbound mail in 7.3ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (2.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$sub/gDCdgjTWg.fF7CLOp.0YiFeCxI0Zd7F/0xhv8d3pbqUIQcZXK"], ["updated_at", "2015-12-23 21:56:12.867696"], ["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 12ms (ActiveRecord: 3.2ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.4ms)
  Rendered users/edit.html.erb within layouts/application (3.2ms)
Completed 200 OK in 7ms (Views: 5.1ms | ActiveRecord: 0.2ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.1ms)
  Rendered users/_form.html.erb (4.3ms)
  Rendered users/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 13ms (Views: 6.0ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$fb51z3hYzb9LNvO9t3BAY.cR4aGyGVc0bR533CXs3PUrAb6.O64uO"], ["updated_at", "2015-12-23 21:56:12.910469"], ["id", 834146161]]
  [1m[36m (2.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 9ms (ActiveRecord: 2.9ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 21:56:12.922055"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 5ms (ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (0.6ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.1ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "reset_digest" = '$2a$04$7knx893aqKO/8FTzLJytvuZgdBGQpz0LEKKSrAfdbGB6TrSFDGEEq', "reset_sent_at" = '2015-12-23 21:56:12.956133' WHERE "users"."id" = ?[0m  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.2ms)

UserMailer#password_reset: processed outbound mail in 3.2ms

Sent mail to kendra@example.com (3.3ms)
Date: Wed, 23 Dec 2015 13:56:12 -0800
From: from@example.com
To: kendra@example.com
Message-ID: <567b187ceadb5_15df242598c61771@ubuntu.mail>
Subject: Password reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b187cea3cc_15df242598c616f4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b187cea3cc_15df242598c616f4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

To reset your password click the link below:

http://example.com/password_resets/3p8OKT5g4MiAn6nm0EVpDQ/edit?email=kendra%40example.com

This link will expire in two hours.

If you did not request your password to be reset, please ignore this email and
your password will stay as it is.



----==_mimepart_567b187cea3cc_15df242598c616f4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Password reset</h1>

<p>To reset your password click the link below:</p>

<a href="http://example.com/password_resets/3p8OKT5g4MiAn6nm0EVpDQ/edit?email=kendra%40example.com">Reset password</a>

<p>This link will expire in two hours.</p>

<p>
If you did not request your password to be reset, please ignore this email and
your password will stay as it is.
</p>

  </body>
</html>

----==_mimepart_567b187cea3cc_15df242598c616f4--

Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.3ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/password_resets/3p8OKT5g4MiAn6nm0EVpDQ/edit?email=" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"", "id"=>"3p8OKT5g4MiAn6nm0EVpDQ"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "f"], ["updated_at", "2015-12-23 21:56:12.970685"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/password_resets/3p8OKT5g4MiAn6nm0EVpDQ/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"3p8OKT5g4MiAn6nm0EVpDQ"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "t"], ["updated_at", "2015-12-23 21:56:12.976010"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/password_resets/wrong%20token/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"wrong token"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/password_resets/3p8OKT5g4MiAn6nm0EVpDQ/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"3p8OKT5g4MiAn6nm0EVpDQ"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.4ms)
  Rendered password_resets/edit.html.erb within layouts/application (2.7ms)
Completed 200 OK in 7ms (Views: 4.7ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/3p8OKT5g4MiAn6nm0EVpDQ" for 127.0.0.1 at 2015-12-23 13:56:12 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"3p8OKT5g4MiAn6nm0EVpDQ"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered password_resets/edit.html.erb within layouts/application (31.0ms)
Completed 200 OK in 39ms (Views: 32.8ms | ActiveRecord: 0.4ms)
Started PATCH "/password_resets/3p8OKT5g4MiAn6nm0EVpDQ" for 127.0.0.1 at 2015-12-23 13:56:13 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"3p8OKT5g4MiAn6nm0EVpDQ"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered password_resets/edit.html.erb within layouts/application (2.0ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/3p8OKT5g4MiAn6nm0EVpDQ" for 127.0.0.1 at 2015-12-23 13:56:13 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"3p8OKT5g4MiAn6nm0EVpDQ"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$1bD6MN9n7vniFv5p36Zlve3pfpg4nJkOnubJRsCYdvqip6uqNEvtq"], ["updated_at", "2015-12-23 21:56:13.050715"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$ma.uMAUR8qvNk62xXldHAe.mnzXse46FgA9UxryrOrbj1ipd5DU8O"], ["updated_at", "2015-12-23 21:56:13.080045"], ["id", 436798503]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/436798503
Completed 302 Found in 12ms (ActiveRecord: 1.1ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.6ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.2ms)
  Rendered users/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:56:13 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$W1j8MnuhHKLPQYzL6kfmsekV5uLdX5KIwIdppxgwPXNbmNAHTv0MK"], ["updated_at", "2015-12-23 21:56:13.132571"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:56:13 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (10.6ms)
  Rendered users/index.html.erb within layouts/application (21.5ms)
Completed 200 OK in 25ms (Views: 23.2ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 13:56:13 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 436798503]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:56:13 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kimberly@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$jgvYGbWITaPjwEN/wqcZ/.Ktvg5F6OD0NJaQjkQwJeW9JwhCNDcMe"], ["updated_at", "2015-12-23 21:56:13.206664"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:56:13 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (4.8ms)
  Rendered users/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:56:13 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:56:13 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:56:13 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:56:13 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 13:56:13 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:56:13 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$vUgVMcrjPXiETZY6t4Sjku8DbfRnn2lvtRLiNphLMLScueQjzne9C"], ["updated_at", "2015-12-23 21:56:13.299686"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:56:13 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:57:26', '2015-12-23 21:57:26', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:57:26', '2015-12-23 21:57:26', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$JJneERH.ThForojmird0LuKOISoE2wLhci3SXvxAObdTIgJj1eOBu', 't', 't', '2015-12-23 21:57:26 UTC', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$I.gpLetiMgGjdK/4LetgFe9/yRvOl1KIi6Rjcu2ODZA0tV4VTe7vC', 't', '2015-12-23 21:57:26 UTC', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$PP3k8zXX6E0VfcB.cbAfzuyIw4O9y8bWxgMoif5hLJ4hoAq2UBEHu', 't', '2015-12-23 21:57:26 UTC', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$fMBh6x6ChaIe8Uev0daFuuEg77mRut6YflVzFL0dQgeXXXBxT/Swq', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$T1nxRgYRg0.whb49MMH7TeqFddXiqm3MjrPIxjI7TEsZxbC9nD5Mi', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$33iWW3wv8hL8Fd0LrCiLcuUbru90qevE5ROIUmBHdc74DBsaKWN5.', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$GRMhP/PlaGlPQhNCOzo1nu7WsrsVGvhUrT66ZKeL/a9/0oN41Tw26', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$Wiq3.xm.kMWfoPC1CfwWFeGhpxROHoH/iN5E99JMOKi.6o0Gl58I2', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$f7VBUNvM0ExTgkr0KA6jJ.5/HhzMIqauIpUkmPGOgC1/FgNl90LzG', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$GRcbyhCrPHdFvS.VkNPPruduTGhqnAvP392JC/j3HcWBLqeltalUG', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$uQE9AGjoQGWwzx7TZ8qXx.e/TJg.ta6rxYugQ7DJ2LdAnGKn9HnKK', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$3RNTQITWdvBYsGyg4EMjVuRx72gHU4LHIpJ1wYVEHdLPGjslJWRva', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$ATD32rm0iyEtErkM15GEIeV7Ht/dVElOwtppguFqYYpJ2eJK7NQ6u', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$GuRkLtbdQ0PkGaaLgwM/Qu92iUKitRWhAREvppRc9f0hisqbS7e6q', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$wQryvXTw63B03OJaotBH6.ITWjXNNmIpcQFwDenFUHKhDToaIktOC', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$UoOZPEUsFHBv74pAW.GoyeoFEZapugIfHd5z9ONFuEF5uD1kVj7f2', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$R6tQWwcZSSMMYoHQ2nf2QuVP6hYnGFLRa9y2JCwNLB5ru04i1HbT.', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$v2Vf/.g3z9o8snbWf5yPUuCQ5eUoohSnmG.glTpjLXVxglUe6YOIW', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$vb4iI1ucd0QI4Iu4mkRSgeKhHhF7BuP5kMSAJQj6Fo/dttT92oXYm', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$VafoD5BA8p.ef8B0HBSn/OQXRRriFil7s.uB69Ia.SgRMjgpe8Gai', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$f73poQ3iCT4uEpKqLvdcjeXayQZ1lZJ3Tdbi50DvHpmoLOXt4BVuO', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$PEnJE9WfoxSw8vV5jl.6S.JAmmK8cu2ZbASj.L7L0V7dEldT.Osh.', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$3PrB0OcHR80PwUlh/4q5GeTTmeWNX4BtBNDdieo/LnzzJ1efvteEW', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$NCDMY2oKm11qbnAl3ZgEC.fMqRS7MpOZZwgMgIhgNLNBxz63kGjCe', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$NjvyNX8qrypA4I5JC4zPW.FNtiLc.7lDKqOkZzIan9.bVyZSp5Xc.', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$yLq22Ew.P.5f9A0wkOM4LehxDY7XjfaBzmA7l1QlgtdnznTnDs.qS', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$8NkqCT8/NI2lcXkFUL4K4edcKCWK/dteRzITvaqek.vlOe9nsdMxC', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$H5.IfMY6sfYT9O1tXjxqXeWsPZJwuv6R96BrrBcM7Q55.E0v9mqLi', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$Ili1MGeQe.5pLvQlUPLncODKBJJLARLroWpSm8N08oDuXBSdOMU.u', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$nlugMyvcHqwM0DSfqr9aWOZ84yvtw7.tbfkPjC89QzdHzABWF148e', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$xEsoFGhAduMAnggrOjYSRuwajNfuF6cmbYLI9.BM1VZ5IHCVhdOPm', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$nBB5dZk5E8ECb.EnHDLgOO/tp2GgmIL1WzudRucXTWRmZZe/f2.oe', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$X.Hm/9B1gVL3hG/LMTkZM.H5A1UpO1cZbR6M4eUFc5GEisNhE0Qsi', 't', '2015-12-23 21:57:26.000000', '2015-12-23 21:57:26', '2015-12-23 21:57:26', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:57:26', '2015-12-23 21:57:26', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:57:26', '2015-12-23 21:57:26', 298486374)[0m
  [1m[35m (1.5ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 13:57:26 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (343.3ms)
Completed 200 OK in 660ms (Views: 652.0ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:57:26 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 6ms (Views: 2.6ms | ActiveRecord: 0.2ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:57:26 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "reset_digest" = '$2a$04$juj54WnwAqDyijjoIxwsv.owW8/GR9gHa8a36L.pID5aetVHjUKXe', "reset_sent_at" = '2015-12-23 21:57:26.796462' WHERE "users"."id" = ?[0m  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (3.8ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.6ms)

UserMailer#password_reset: processed outbound mail in 235.2ms

Sent mail to kendra@example.com (16.9ms)
Date: Wed, 23 Dec 2015 13:57:27 -0800
From: from@example.com
To: kendra@example.com
Message-ID: <567b18c710a70_15e045459985551e@ubuntu.mail>
Subject: Password reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b18c7e4cc_15e04545998554df";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b18c7e4cc_15e04545998554df
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

To reset your password click the link below:

http://example.com/password_resets/zjQyPEIS4bLNiEy7GsTrrQ/edit?email=kendra%40example.com

This link will expire in two hours.

If you did not request your password to be reset, please ignore this email and
your password will stay as it is.



----==_mimepart_567b18c7e4cc_15e04545998554df
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Password reset</h1>

<p>To reset your password click the link below:</p>

<a href="http://example.com/password_resets/zjQyPEIS4bLNiEy7GsTrrQ/edit?email=kendra%40example.com">Reset password</a>

<p>This link will expire in two hours.</p>

<p>
If you did not request your password to be reset, please ignore this email and
your password will stay as it is.
</p>

  </body>
</html>

----==_mimepart_567b18c7e4cc_15e04545998554df--

Redirected to http://www.example.com/
Completed 302 Found in 287ms (ActiveRecord: 0.3ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/password_resets/zjQyPEIS4bLNiEy7GsTrrQ/edit?email=" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"", "id"=>"zjQyPEIS4bLNiEy7GsTrrQ"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "f"], ["updated_at", "2015-12-23 21:57:27.089247"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/password_resets/zjQyPEIS4bLNiEy7GsTrrQ/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"zjQyPEIS4bLNiEy7GsTrrQ"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "t"], ["updated_at", "2015-12-23 21:57:27.105237"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/password_resets/wrong%20token/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"wrong token"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.1ms)
Started GET "/password_resets/zjQyPEIS4bLNiEy7GsTrrQ/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"zjQyPEIS4bLNiEy7GsTrrQ"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (4.8ms)
  Rendered password_resets/edit.html.erb within layouts/application (20.5ms)
Completed 200 OK in 32ms (Views: 25.0ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/zjQyPEIS4bLNiEy7GsTrrQ" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"zjQyPEIS4bLNiEy7GsTrrQ"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (4.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (1.9ms)
Completed 200 OK in 41ms (Views: 3.4ms | ActiveRecord: 4.8ms)
Started PATCH "/password_resets/zjQyPEIS4bLNiEy7GsTrrQ" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"zjQyPEIS4bLNiEy7GsTrrQ"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (8.8ms)
  Rendered password_resets/edit.html.erb within layouts/application (10.4ms)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/zjQyPEIS4bLNiEy7GsTrrQ" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"zjQyPEIS4bLNiEy7GsTrrQ"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$mDUhS9UKlbYF//q5jPcHnee/SHrEpBDacoMfn6SQeLdoUma4EaLeG"], ["updated_at", "2015-12-23 21:57:27.261735"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 16ms (ActiveRecord: 0.6ms)
  [1m[36m (4.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (7.9ms)
Completed 200 OK in 17ms (Views: 14.9ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
Started GET "/users/834146161" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered users/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$CZr3B1Lf0I4Ze/JZ6DDynODugOFPRu0q30UeqpMDIiTgBHIh7jjou"], ["updated_at", "2015-12-23 21:57:27.372357"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 13ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (1.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$NJBETN4xWnXYxCzRXwPCLuOd0a8UKzIgGYw2PvRn7JYuFv/ZIkIVC"], ["updated_at", "2015-12-23 21:57:27.404680"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 21:57:27.413964"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$1BPZJ8rgvzq8gR2jbHFR1.Ju/nEBnjGsFA9e0hEpnxwovqGxBfBj."], ["updated_at", "2015-12-23 21:57:27.428646"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 12ms (ActiveRecord: 0.6ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered users/_form.html.erb (5.4ms)
  Rendered users/edit.html.erb within layouts/application (7.1ms)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.1ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.2ms)
  Rendered users/_form.html.erb (4.3ms)
  Rendered users/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 13ms (Views: 6.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.1ms)

UserMailer#password_reset: processed outbound mail in 2.9ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (1.8ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.5ms)

UserMailer#account_activation: processed outbound mail in 9.4ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$ZfBS8YhjhMdRN5OgmDK94ONmB2eiJi2y3L0XMh/M8RtvpS5w2It7u"], ["updated_at", "2015-12-23 21:57:27.489516"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$hag7ukmaIVbtrDMjFlcrJO6wOeKyr17l3x96KZwabcoK9TjIoZuPO"], ["updated_at", "2015-12-23 21:57:27.496718"], ["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$eWoVhG/.usEC0XHH/VH.6ubCJSRKhXxyX59OvqV5wuvnLgeBThRUa"], ["updated_at", "2015-12-23 21:57:27.505137"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.4ms)
  Rendered users/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$c6q4jksyz.Ztz3f2727lhODVCDKgDQPJzjQoNZouzbtCI.U8T4JxS"], ["updated_at", "2015-12-23 21:57:27.578427"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/436798503
Completed 302 Found in 26ms (ActiveRecord: 0.8ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$erPgLsseQu9DwBXnEHsWiOh6.xBimCRWoilZ/AK99ecNb/5HHPaNa"], ["updated_at", "2015-12-23 21:57:27.609399"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (9.6ms)
  Rendered users/index.html.erb within layouts/application (18.8ms)
Completed 200 OK in 26ms (Views: 21.4ms | ActiveRecord: 0.9ms)
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 436798503]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$tGcpyU6nDUGGnBE/i2pusOXUCOBYuBWle0fbgmTU78DO3daVepV02"], ["updated_at", "2015-12-23 21:57:27.695112"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (5.2ms)
  Rendered users/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$bMJza5f/YCsBTgWYwpUW9.458tTYTQKKvjXxFLZhOAH0VJf6/58o6"], ["created_at", "2015-12-23 21:57:27.755324"], ["updated_at", "2015-12-23 21:57:27.755324"], ["activation_digest", "$2a$04$JqnBqPfipVijCWfuTUQDZ.1ecdwhhhUe4/RujYpPNOzh29phaXuHi"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$hIoi42sJTOrBWbQdmMep9OGeHPz/pVGA9CUqHSXQjhekfVtKxCRlG"], ["created_at", "2015-12-23 21:57:27.791363"], ["updated_at", "2015-12-23 21:57:27.791363"], ["activation_digest", "$2a$04$P43OH/IWfOfH8Tif80iVK.oVcEPCz4BE3fnt.cbEvApu/1L4PS7kC"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.3ms)
  Rendered users/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 8ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.2ms)
  Rendered users/_form.html.erb (4.3ms)
  Rendered users/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 12ms (Views: 6.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.1ms)
  Rendered users/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$45qEosJVHlTgA1e6Khw90OH9mCCLVxPjQ7Szrd0QJQNeE4HCGTK0i"], ["created_at", "2015-12-23 21:57:27.847490"], ["updated_at", "2015-12-23 21:57:27.847490"], ["activation_digest", "$2a$04$WimRG./O2VRDlTcDzm16PO1FfqRITQPXsAbOYTp8Gfma1COsvZzPG"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.2ms)

UserMailer#account_activation: processed outbound mail in 2.8ms

Sent mail to user@example.com (2.9ms)
Date: Wed, 23 Dec 2015 13:57:27 -0800
From: from@example.com
To: user@example.com
Message-ID: <567b18c7d0dc9_15e04545998559da@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b18c7d05f9_15e04545998558f5";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b18c7d05f9_15e04545998558f5
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/vNRpvQjRYiSIBow3x79Vbw/edit?email=user%40example.com



----==_mimepart_567b18c7d05f9_15e04545998558f5
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/vNRpvQjRYiSIBow3x79Vbw/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567b18c7d05f9_15e04545998558f5--

Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.5ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/vNRpvQjRYiSIBow3x79Vbw/edit?email=wrong" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"vNRpvQjRYiSIBow3x79Vbw"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/vNRpvQjRYiSIBow3x79Vbw/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"vNRpvQjRYiSIBow3x79Vbw"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "activated" = 't', "activated_at" = '2015-12-23 21:57:27.878211' WHERE "users"."id" = ?  [["id", 1046959424]]
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 13:57:27 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:57:47', '2015-12-23 21:57:47', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:57:47', '2015-12-23 21:57:47', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$.GZ5rFwoYAgxo4DwthBxwuoYYbMKGowg6IgJwDZzgyoYzGHHDqETy', 't', 't', '2015-12-23 21:57:47 UTC', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$w5QsNO19qVoojzMogApmEedZECUsIix/grJyauJdyIByfxthqSO4K', 't', '2015-12-23 21:57:47 UTC', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$l648yAUzDjMWOVfcyXERz.COd573tnExLvSWLD3745P.uJ22BhgBC', 't', '2015-12-23 21:57:47 UTC', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$nsj3fM8E6A3Nvug1cOBFVuS.nITo3C4Hr8gYABhCGRghufvbEnGxq', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$PHDrUc8rQICh7IiQVuAKIO8mBggwEZrDlpOBTLsmgY7BTPoiOwrty', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$9NFHHt1pWifZq2PXab4fgeFhbEiuYm/5zYW9G09tOZ/hyGIB9khea', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$3p7NkFCHxoyPG3EywcW4V.Pxgnqjw1zPBz5ZgW1Rys0efg9rafDcG', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$nLM4amnj5Hr4mBc6VO7TteqH1XkuxuQGe6K7/6XYvgbj09Oec5Pg6', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$Nq8mDWANa.IYtrXP4MUSeukgtSXhgpK6J8dDCt.K4/XdZqZRMLjWq', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$pdQU5myGbO9EMAuYJLiaZuaR5JD2zKDoUU6WyjREkgsSZIuxNVgXW', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$qniI2o12rCN6/Sy/4FrwWO4sDuBq.2BxXCT9L4hGYPF4xIJzHUg8O', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$VT3Yh0Pn0.YFtBJrDCY5..fio1d2ReCChO4yWq3Xb7943Wg7.Chx.', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$349gX0otvxmkYH2noWYiwe.YTlF7l2ioQ81KJhjQaU6Ndk41hRh6O', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$FIap.SUPOlMt13Y5iPVcSOcbRBZVS4O9mbkzo9iOfAoBbr.pcrZLK', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$UtHQxM6qD.jHSO8nBfn9UOME2IMGWkdVhxxd.s8EMy/dTgO10ldH2', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$ZdQVPzgVAUZIma4E8kzdDuOG1VfyW0sIzwFrS5u2hLEmkc3cGA5Ga', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$cp1kY0xcJ5QmvTKs3crTOuWshw5gBS5oVo61DxpZUrrSEyp1FyGDi', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$O32axaSEfc4q9lkmEUdCZ.U8CKIil2fxJbvujkJaiFcT9U93y2txG', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$mLHTPRExo9.UcCnCClT8Cu4YpEt8nzDS30A/qdwWJBFJyuifsxCta', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$VfTZKpkfwX/1x1EHaIQcjuUBg9NnK.56Ljp.VObYiMDBw4MiuB6F6', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$l37xfFxktT.lWivGWn4T0.uxQUhwXdC0cbK4ZZ2Myz1luB10F5OeO', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$PQpXRq5da7UdptIpNz58Lu0OaYp4kq9hWtkdrjY74z.IjAU6kWcs6', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$CrTvGZ6Nw/p5wW3ibt34eelnGqCw2C1itcBx28LS911.M1LnpC2bG', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$ngxdjffDB1I7LinrqWYFSuZZBqSKMETXLL5yqxs2yDdVPrPxKf54.', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$krHQNdeZUWeRmGHOi8iDEOHkSIs44PwZ4QT1rOMIvPsR6L1CTUbpi', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$t7U7pa3nVulJmpEUP36xW.fbdI80KYQy0jT61mjFcrwXfLtcZqtBS', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$DNRLrn9IWPeYf8wEzguT/OW8WXVAm2dOv5LNhj.T27Z7d3BbNuMim', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$Ok1snrEvouLdtN9JdUgHl.WD0DvtHnT0QIINGpDWmszAG700L8w0a', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$gofaJnLhqLYlSnedq6AMyuoaow.gSUmtvA4QZHcrb3J8Gd8NEwqge', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$IjAFtYf3021PwZ9Q71YWyuFl2dK706ooABxcMd3aKj0QUoC/N7P0.', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$5JMh7unB7splIwl9nZRbxeIZlghqWn65JllBo/bsdxRk/bnsCL1MO', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$nU9JxErFiE38ONJMg3m2n.9RcbVDGppAH4b7JF5u3njBHRseybl5S', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$oYjPazmRQcPGm.xLO3C1bOAjTMV4P9ey3MkJSH6c3WIMHWRsJKvBe', 't', '2015-12-23 21:57:47.000000', '2015-12-23 21:57:47', '2015-12-23 21:57:47', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:57:47', '2015-12-23 21:57:47', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 21:57:47', '2015-12-23 21:57:47', 298486374)[0m
  [1m[35m (23.7ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:47 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kimberly@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$XtgpVvoL6v4UulBzdV51HeFxA.Sq7HJUGjJMSzm/MDX62tUNhWmFO"], ["updated_at", "2015-12-23 21:57:47.275460"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 22ms (ActiveRecord: 0.9ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:57:47 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (7.2ms)
  Rendered users/index.html.erb within layouts/application (318.4ms)
Completed 200 OK in 562ms (Views: 558.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:47 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$L0jjxMzDQWl6pEJHKx.afOIxWT9CpzD3131DSr6NIBr5j7cNq48pC"], ["updated_at", "2015-12-23 21:57:47.862724"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 13:57:47 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (11.7ms)
  Rendered users/index.html.erb within layouts/application (16.3ms)
Completed 200 OK in 20ms (Views: 17.9ms | ActiveRecord: 0.5ms)
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" LIMIT 30 OFFSET 0
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 13:57:47 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "users" WHERE "users"."id" = ?  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.7ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$uStEsFeTca4gHtp.HADOR.1oHPMim0qWBYrNefpSQELZtovaI3NBa"], ["updated_at", "2015-12-23 21:57:48.034132"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 33ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (4.4ms)
  Rendered users/_form.html.erb (31.0ms)
  Rendered users/new.html.erb within layouts/application (33.1ms)
Completed 200 OK in 39ms (Views: 37.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (4.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.6ms)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (2.7ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (25.7ms)
Completed 200 OK in 34ms (Views: 30.9ms | ActiveRecord: 2.7ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 9ms (Views: 8.6ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users/834146161" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered users/show.html.erb within layouts/application (1.5ms)
Completed 200 OK in 7ms (Views: 5.8ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 4ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$S1/OhlT3gQko1zMKdZ/WwO3mBgOzuSdlT/WEbmCslhvDpK8xdoiSW"], ["updated_at", "2015-12-23 21:57:48.257863"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 13ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$ZUvA1wvYd7yvBpo7sNnF..R2P5twl2lUQc41W2OZQ9dMRwIiqbkDe"], ["created_at", "2015-12-23 21:57:48.284679"], ["updated_at", "2015-12-23 21:57:48.284679"], ["activation_digest", "$2a$04$IgXQAzjRW6I1mWPq6UNsielYJWKpt9KCb4.F/1XRqUiA6QqKn0qnS"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$aw5aawe20nYlJrpwihxTzOLWc0tGPmV.Rg2386PupJzms.GdKN.NW"], ["created_at", "2015-12-23 21:57:48.308204"], ["updated_at", "2015-12-23 21:57:48.308204"], ["activation_digest", "$2a$04$9PGB5vaEXfjQNxNGZOZ6Mu35IY8H3/FQKFe1OWyFtVUSxeb9rjBle"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (3.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$ZcTYI0N7Me/WdNJHqvpqOud3Cns3W5PbqBEkrMPgdJJcK7G4hJbgW"], ["updated_at", "2015-12-23 21:57:48.379791"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 21:57:48.397406"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 8ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$tMAMCLx9hos5jPKBXhRNqeN0klEf.3OUUc5FjDH.SOfkg3YNOdrWi"], ["updated_at", "2015-12-23 21:57:48.408007"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.7ms)
  Rendered users/edit.html.erb within layouts/application (4.7ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 0.6ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.3ms)
  Rendered users/_form.html.erb (4.4ms)
  Rendered users/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 13ms (Views: 6.6ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$0KIa6LOcvkOOjFoCYbRZfOz9yJTJv7NcaugF./j7GgJXv6N3CU7/m"], ["updated_at", "2015-12-23 21:57:48.449815"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$vR9ntGfFaL3wGpgqRSN94u1RsSe0juSiCS7Yt594tE1wkRuUVFvMG"], ["updated_at", "2015-12-23 21:57:48.453042"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$pk.ybivI8k/CK1MNEQNNQ.Q/yjwZfofokjUgz9GUmV/oxffDfQege"], ["updated_at", "2015-12-23 21:57:48.461020"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (2.0ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.4ms)

UserMailer#password_reset: processed outbound mail in 10.4ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (1.8ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.4ms)

UserMailer#account_activation: processed outbound mail in 8.6ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (1.4ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 5.2ms | ActiveRecord: 0.1ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "reset_digest" = '$2a$04$NklcOltEJTjJF5TfM7oilurOkUHc9T4cRGDetvBzIZU90V.JP5hga', "reset_sent_at" = '2015-12-23 21:57:48.647024' WHERE "users"."id" = ?[0m  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.1ms)

UserMailer#password_reset: processed outbound mail in 2.7ms

Sent mail to kendra@example.com (6.0ms)
Date: Wed, 23 Dec 2015 13:57:48 -0800
From: from@example.com
To: kendra@example.com
Message-ID: <567b18dc9f365_15e1356598c8313b@ubuntu.mail>
Subject: Password reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b18dc9ebc2_15e1356598c830e4";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b18dc9ebc2_15e1356598c830e4
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

To reset your password click the link below:

http://example.com/password_resets/gW2or818Kw1_Av1c6MHmNA/edit?email=kendra%40example.com

This link will expire in two hours.

If you did not request your password to be reset, please ignore this email and
your password will stay as it is.



----==_mimepart_567b18dc9ebc2_15e1356598c830e4
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Password reset</h1>

<p>To reset your password click the link below:</p>

<a href="http://example.com/password_resets/gW2or818Kw1_Av1c6MHmNA/edit?email=kendra%40example.com">Reset password</a>

<p>This link will expire in two hours.</p>

<p>
If you did not request your password to be reset, please ignore this email and
your password will stay as it is.
</p>

  </body>
</html>

----==_mimepart_567b18dc9ebc2_15e1356598c830e4--

Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 0.4ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/password_resets/gW2or818Kw1_Av1c6MHmNA/edit?email=" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"", "id"=>"gW2or818Kw1_Av1c6MHmNA"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "f"], ["updated_at", "2015-12-23 21:57:48.664246"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/password_resets/gW2or818Kw1_Av1c6MHmNA/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"gW2or818Kw1_Av1c6MHmNA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "t"], ["updated_at", "2015-12-23 21:57:48.669644"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/password_resets/wrong%20token/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"wrong token"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/password_resets/gW2or818Kw1_Av1c6MHmNA/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"gW2or818Kw1_Av1c6MHmNA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 10ms (Views: 7.2ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/gW2or818Kw1_Av1c6MHmNA" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"gW2or818Kw1_Av1c6MHmNA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (2.1ms)
Completed 200 OK in 10ms (Views: 3.6ms | ActiveRecord: 0.3ms)
Started PATCH "/password_resets/gW2or818Kw1_Av1c6MHmNA" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"gW2or818Kw1_Av1c6MHmNA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (2.0ms)
Completed 200 OK in 6ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/gW2or818Kw1_Av1c6MHmNA" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"gW2or818Kw1_Av1c6MHmNA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$KwSvNaLI7ro/OAX/nNqKs.PmCctXX1D2WeoChfDYZtNRr7f80eC6e"], ["updated_at", "2015-12-23 21:57:48.721467"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.2ms)
  Rendered users/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (1.8ms)
  Rendered users/_form.html.erb (3.9ms)
  Rendered users/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 13ms (Views: 5.5ms | ActiveRecord: 0.3ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.2ms)
  Rendered users/_form.html.erb (4.1ms)
  Rendered users/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$S.l1UEgZkbqvTODjLc/aEOu6/0cl2Yk.pxFL.7R0T9GCoMn.6Yq7S"], ["created_at", "2015-12-23 21:57:48.768450"], ["updated_at", "2015-12-23 21:57:48.768450"], ["activation_digest", "$2a$04$rvlALcUZwvmCOVDZ46wzSud4C5B0nO4NDyuUyaNQzd3gN1AHXJqY2"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.4ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.2ms)

UserMailer#account_activation: processed outbound mail in 3.7ms

Sent mail to user@example.com (3.2ms)
Date: Wed, 23 Dec 2015 13:57:48 -0800
From: from@example.com
To: user@example.com
Message-ID: <567b18dcbe14b_15e1356598c83372@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b18dcbd905_15e1356598c83285";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b18dcbd905_15e1356598c83285
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/4COAhujXFQEnla9J9uslrw/edit?email=user%40example.com



----==_mimepart_567b18dcbd905_15e1356598c83285
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/4COAhujXFQEnla9J9uslrw/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567b18dcbd905_15e1356598c83285--

Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.6ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/login" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/4COAhujXFQEnla9J9uslrw/edit?email=wrong" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"4COAhujXFQEnla9J9uslrw"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/4COAhujXFQEnla9J9uslrw/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"4COAhujXFQEnla9J9uslrw"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "activated" = 't', "activated_at" = '2015-12-23 21:57:48.812388' WHERE "users"."id" = ?  [["id", 1046959424]]
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 13:57:48 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.2ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (1.8ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 22:05:08', '2015-12-23 22:05:08', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 22:05:08', '2015-12-23 22:05:08', 298486374)
  [1m[36mFixture Delete (0.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$orKfcMp8T8hGI1uLLezdoerEKF43EsvnWPlunuPAXQ486QIzJt2gW', 't', 't', '2015-12-23 22:05:08 UTC', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$kzRg0yTfcqDdF75bKPoeKecpviJOLCwac0Lgzhs4Abn3QzlQsikPy', 't', '2015-12-23 22:05:08 UTC', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$AEQu9qs9htNd0K2o9tC9UuSRqwFTUQJ4BTnMkjdkFhj4/FHiqOuV.', 't', '2015-12-23 22:05:08 UTC', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$pdzbVJWZQfBDm4ARAVlcYeVp2nfCB06TDuvZyOGPBxru1uNrQBVwu', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$GbwUh8wLjuoZP3b802O3lOWJ0bqJaoc7J9xI.A5oKa72MvBYWybGq', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$2IDRLFUrDgH7jY0VL.GPauvaWqMkSXSio5hMubozTfwfaro74Kc1C', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$zl8mXRC1.aKI3lyQmxNkeOr.R0ursLElJ5SFF0joxpfSS6bBcVq9S', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$Kdlyvq5kvAZ7xRQUMtMX/.6i8Bpd5mLmkV9TfYTSWVwQsIOmVPaqu', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$m4TbzS92Wpnwahw29T2wTO6xoXS0Ec6SxjHOrnBBsjDiALPjXn3Zm', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$0SNbVsQHOgnHRGFfRmQ8MukUYSJ6zk6yhDs51cIHta3ncmx1EazNy', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$OH2LG3oVy3RXjNwlIV4p.eJJwUxgalDQMlHBwx9HehSvsi6z5edd.', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$CpidpmPIi0kDeThz736/nuAALBCvJOiOFbE9YC7d6.T9smxT4OsvO', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$auWSqrui/MDPTcgMhTu4GehHfFJlmggXKSM/bVVAcrP7LB.EvhlRO', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$JReIkGDV3mFvytUGgjOTVuDg7ka8k7A9AemeDTrBJdNRjlyK23ZSK', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$XoPyzRY3RJCGYzr3EynTJOWeO.2rjx6xU2zy7QSVHWMlRqwd9Lram', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$c3Rc/kuyFiRT4k366rHbg.iaL2laFtkYv5cEuXKYRHnVn.lTq5DB.', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$7fEMpfQQDKF9GgMYxJgH7.bTA20xJgWeUPhC6334kiUW7CJbgbDmq', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$oqfdu45CbnYcrWXbR6uk1uaNN.YTW4wKTZJeStr8XbiVyxYYvG006', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$oVoj6h0ePBahrSks72GwkuR.gF4szHE9Z3CfUYvJjXCMMNYPAfHyS', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$9oBAfhbJMSW5x1/IGWRoLeuDay/LfsUjWjBVAr5HlDydsVX3K5dIO', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$6wQpyPHcK2N5jq7o0ZcX6OBe4BQZEtKwgzVcJxtkkhIbyEd4nrKhC', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$.xG5vrptlHFb.tmRS1VvXexLAwh4GlL/ERq2KV4lHkuRkuZ7Zfw6O', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$l0yaPqllX0sM300M8jMwxuHxjmOG6gVW3LgAfiDErmwvkx0CEhmYC', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$NkbleiTyikZAoMD3K.xUJO.41.IXBRcruUBulRGF5cyXFS/jgVrq.', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$v68y6TCs4J2riyPm4MXdsO.YuwOxaSUllrR/AciUk6PaDwZc8SNRO', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$q8GiN3MGDOuEB2X2Q3ewn.7DT.I91jZ.4n9kpeVoRgbBkImSjSgKK', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$zDQNGcI7xw54JKnZewB8Au2bIJBa4v5R5uFDNib5ql9yi7n12DnZG', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$TjczMn/VvZh8tuHuK2oMhuLaQBr8id3dEY5uzlUqwyH0bjwF5iAWK', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$sCry9MHwNzQpEpRv1qMxYuVon9HSMVvxbbEMNdrGQN7xYLbgENPuK', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$Y.g3hBIsa/sBMgZrtI65KOHVyuX4NC2gKoBVtAeq4T9Tk2Wn4rwHy', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$wCBMOZBDxZk6dS.0H/y/de7DZUCBBt96MkxO1m.TQVEoPkTh9GQJS', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$ErB4Raq7gwvR96P.oTnmuOtS13eWh9R4KpBVt91at.glAVHo93bAe', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$DfK4w9JgvalwOJNSh4Olm.QTAKjfKKPaHoVqNNTioFcnLbSt/TOUC', 't', '2015-12-23 22:05:08.000000', '2015-12-23 22:05:08', '2015-12-23 22:05:08', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 22:05:08', '2015-12-23 22:05:08', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 22:05:08', '2015-12-23 22:05:08', 298486374)[0m
  [1m[35m (3.6ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 14:05:08 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (348.5ms)
Completed 200 OK in 764ms (Views: 754.4ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 14:05:09 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (0.9ms)
Completed 200 OK in 54ms (Views: 2.9ms | ActiveRecord: 0.3ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 14:05:09 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "reset_digest" = '$2a$04$y2fUiKmQCx7SRJIkgESs9uv7ko8pnRj7Xh4L.EjER..vYyFxAFUya', "reset_sent_at" = '2015-12-23 22:05:09.129311' WHERE "users"."id" = ?[0m  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (2.0ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.6ms)

UserMailer#password_reset: processed outbound mail in 288.3ms

Sent mail to kendra@example.com (56.7ms)
Date: Wed, 23 Dec 2015 14:05:09 -0800
From: from@example.com
To: kendra@example.com
Message-ID: <567b1a956eb64_15ea7edf99062742@ubuntu.mail>
Subject: Password reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b1a9568f60_15ea7edf99062684";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b1a9568f60_15ea7edf99062684
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

To reset your password click the link below:

http://example.com/password_resets/obgNvA3DNATVFubVye7ApA/edit?email=kendra%40example.com

This link will expire in two hours.

If you did not request your password to be reset, please ignore this email and
your password will stay as it is.



----==_mimepart_567b1a9568f60_15ea7edf99062684
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Password reset</h1>

<p>To reset your password click the link below:</p>

<a href="http://example.com/password_resets/obgNvA3DNATVFubVye7ApA/edit?email=kendra%40example.com">Reset password</a>

<p>This link will expire in two hours.</p>

<p>
If you did not request your password to be reset, please ignore this email and
your password will stay as it is.
</p>

  </body>
</html>

----==_mimepart_567b1a9568f60_15ea7edf99062684--

Redirected to http://www.example.com/
Completed 302 Found in 363ms (ActiveRecord: 0.5ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/password_resets/obgNvA3DNATVFubVye7ApA/edit?email=" for 127.0.0.1 at 2015-12-23 14:05:09 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"", "id"=>"obgNvA3DNATVFubVye7ApA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (4.9ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "f"], ["updated_at", "2015-12-23 22:05:09.501450"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/password_resets/obgNvA3DNATVFubVye7ApA/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 14:05:09 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"obgNvA3DNATVFubVye7ApA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["activated", "t"], ["updated_at", "2015-12-23 22:05:09.513187"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Started GET "/password_resets/wrong%20token/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 14:05:09 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"wrong token"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/password_resets/obgNvA3DNATVFubVye7ApA/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 14:05:09 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"obgNvA3DNATVFubVye7ApA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (13.5ms)
  Rendered password_resets/edit.html.erb within layouts/application (128.8ms)
Completed 200 OK in 135ms (Views: 133.0ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/obgNvA3DNATVFubVye7ApA" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"obgNvA3DNATVFubVye7ApA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (2.1ms)
Completed 200 OK in 53ms (Views: 3.9ms | ActiveRecord: 0.5ms)
Started PATCH "/password_resets/obgNvA3DNATVFubVye7ApA" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"obgNvA3DNATVFubVye7ApA"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered password_resets/edit.html.erb within layouts/application (1.8ms)
Completed 200 OK in 6ms (Views: 3.6ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/obgNvA3DNATVFubVye7ApA" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"obgNvA3DNATVFubVye7ApA"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$y3i2FDUTx7Q9RE6uVLLFVOwYdYJ1Ayk4QqwmUvTSXhTrQ5yYZxtgC"], ["updated_at", "2015-12-23 22:05:10.325156"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$/iJV7Td49Ry8BL6RTLCJpu1NB3vZTvTjoyNZxj61KoQw9RWIl4N46"], ["updated_at", "2015-12-23 22:05:10.333254"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$pdL2ZPIA3FjYwIew7gWYWetdcaT8AYdWQyU8zLGpPzOxj.ADjTcc2"], ["updated_at", "2015-12-23 22:05:10.345545"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$vHE16Qi6WlWMq7mgeZlRfOVSxv.vCx71/QvEs6X0pCBBOSpJCcz/u"], ["updated_at", "2015-12-23 22:05:10.348836"], ["id", 834146161]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$MuMcAuV92h6hO6ZtpdbpcOlzM0yoIi1NT.dUmZuBRAVoYmD0B.oAG"], ["updated_at", "2015-12-23 22:05:10.370866"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 9ms (ActiveRecord: 0.6ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 8ms (Views: 7.5ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
Started GET "/users/834146161" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered users/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 9ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 7ms (Views: 6.2ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.3ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (9.5ms)
Completed 200 OK in 18ms (Views: 16.3ms | ActiveRecord: 0.3ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$vIcBupTVqzR90MN3lqSc4OX9CJ8vhKuK6pRkEcocpPK6w3RK6TG9G"], ["created_at", "2015-12-23 22:05:10.525551"], ["updated_at", "2015-12-23 22:05:10.525551"], ["activation_digest", "$2a$04$1vM.nWds03P7.0IS5VHekeIUCQcEq6EkzwjJ87axWpglTr6eRtunC"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$rr38MSm6x5xKyMNIwfRG3.ws8kMz..cdvPFRSml0sAWuDi2AhG8xy"], ["created_at", "2015-12-23 22:05:10.589896"], ["updated_at", "2015-12-23 22:05:10.589896"], ["activation_digest", "$2a$04$pbtTmZW1vo6nvxZdWb1CoeUjErRQiZ.O/7OOCd6U4b7dIRuUrWThG"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (4.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$OR1tfS7LOhEfjpyUB1u5GeBHBc4HqYubUWNFcj6eB1QsKOSUk7X2e"], ["updated_at", "2015-12-23 22:05:10.650731"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 18ms (ActiveRecord: 0.7ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (10.5ms)
  Rendered users/index.html.erb within layouts/application (17.7ms)
Completed 200 OK in 43ms (Views: 20.7ms | ActiveRecord: 0.6ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kimberly@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$XBepKoQZpNq/n38Jrw9P6eb6C/c4URK2D47aTXvWs9RTlZ6HdYavG"], ["updated_at", "2015-12-23 22:05:10.751948"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (24.0ms)
  Rendered users/index.html.erb within layouts/application (28.0ms)
Completed 200 OK in 31ms (Views: 29.3ms | ActiveRecord: 0.4ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (4.2ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.9ms)

UserMailer#account_activation: processed outbound mail in 16.8ms
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.1ms)

UserMailer#password_reset: processed outbound mail in 3.4ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered users/_form.html.erb (4.1ms)
  Rendered users/new.html.erb within layouts/application (5.8ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$PqrOtifB5lMgFLd4kSDeZuu6J30upgF5cyO2iCKkCgD1fU.7ikbIy"], ["updated_at", "2015-12-23 22:05:10.892870"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.5ms)
  Rendered users/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.5ms)
  Rendered users/_form.html.erb (8.8ms)
  Rendered users/new.html.erb within layouts/application (9.1ms)
Completed 200 OK in 19ms (Views: 12.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.1ms)
  Rendered users/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Yi.nlK6brWoy6Z.oE.fJ1.tUsf/0azN4FN.YudjbxxYh3NP.Zynie"], ["created_at", "2015-12-23 22:05:10.947560"], ["updated_at", "2015-12-23 22:05:10.947560"], ["activation_digest", "$2a$04$lc57xwKhN2WbDCM4iRbnL.O2JW3co7zB8CiBMNCbpfHoCSeJEKH0e"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.1ms)

UserMailer#account_activation: processed outbound mail in 2.8ms

Sent mail to user@example.com (9.3ms)
Date: Wed, 23 Dec 2015 14:05:10 -0800
From: from@example.com
To: user@example.com
Message-ID: <567b1a96e9f47_15ea7edf990631a@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b1a96e8c77_15ea7edf9906307d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b1a96e8c77_15ea7edf9906307d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/R-d3h0KkbspVRUJNis0HXg/edit?email=user%40example.com



----==_mimepart_567b1a96e8c77_15ea7edf9906307d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/R-d3h0KkbspVRUJNis0HXg/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567b1a96e8c77_15ea7edf9906307d--

Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/R-d3h0KkbspVRUJNis0HXg/edit?email=wrong" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"R-d3h0KkbspVRUJNis0HXg"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/R-d3h0KkbspVRUJNis0HXg/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"R-d3h0KkbspVRUJNis0HXg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "activated" = 't', "activated_at" = '2015-12-23 22:05:10.988124' WHERE "users"."id" = ?[0m  [["id", 1046959424]]
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.3ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 14:05:10 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:05:11 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$WUT6e/wXD8.tTyFxfboulO.s46HSiEyUOPwfiyyWrL1pS2PTGwqGG"], ["updated_at", "2015-12-23 22:05:11.007524"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 14:05:11 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 22:05:11.021222"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 12ms (ActiveRecord: 1.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:05:11 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$vPJQc9fmotlnfX2Qu6Touu9E96cOJb3vUoW3RzCtgBn3Uf2wKfe7u"], ["updated_at", "2015-12-23 22:05:11.035934"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 14:05:11 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (4.9ms)
  Rendered users/edit.html.erb within layouts/application (5.7ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.1ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 14:05:11 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered users/_form.html.erb (5.5ms)
  Rendered users/edit.html.erb within layouts/application (5.9ms)
Completed 200 OK in 14ms (Views: 7.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 22:09:38', '2015-12-23 22:09:38', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 22:09:38', '2015-12-23 22:09:38', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$Kig2yJ4aqifN3LchDw2OoeHEJwi0l6SeFuk5My9/1fpyY9wQFBFHG', 't', 't', '2015-12-23 22:09:38 UTC', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$nkKJ1eALgRYxG4f78lps5ex5zFq8/3WAfa5WyoquaylG4x8zJ7P8m', 't', '2015-12-23 22:09:38 UTC', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$Fp2HHpRz/.OPMwhPH6uHKePpWcD4PwIh.YaIL2I051XUrbMy1O.d.', 't', '2015-12-23 22:09:38 UTC', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$jRByhaHC3AU8Cu026KKbyO5QyMtrJWeJjwfpc/VmulOUz/QguuhcG', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$X1L.w/mPc5hIITjFUVFuE.06I81s1KsiXx2xkFd6/tnlQOAi1c1d.', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$.RZbt.P9EX/suxPDz8lQz.W3mPe/kE8DBi7pJo54UO2UoozDqehey', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$xSQjtri3udG87aQUlQy/CufPJUCCjUwV.PvzGw1ajzHsFE6h4kaBi', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$bsCKKJh1GxVcvf671OTDl.ji5l1FHlLEvBMcorhu233qCrzG1KnAC', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$k6mp2ptM7APoRIXkYoo2mOQuooGVO7.pVE/w7IJILjfzQ2aWX9n1K', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$VWIyuvZxXNIze4tyUrWBz.rdIPC/vL9YFWl/hUjOspk1lQM3hIcTe', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$o08Fp/QD0uvrKIcqwGl3JOXnLRsJn5dufObJC3v79x2xe06sEBeK6', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$BYgxckZcteqcy0G5fRBqF.0NErA4H6Sjht4SJ6975eqB1DcjbPOru', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$/Q3LH18Vdt5LtjSNnRrIVOq9KmjlfYDDjvfh.EKcqbH3JbRD/wIf.', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$488Up54B2ynncQts395KJesHm28Jf7xn2dIG/GCQh9FNdzuLhW6mi', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$xNmtEiMcuS.baWyXkVQfze0DFSZbEAocwsGiSalpvHBVhTEai.Xm.', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$3A/CyQZL9S6pp7OoNoX/eem28jCSYRELluHZlu6chFl1yM8tI7HMW', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$KPLKq2hWceNNItVE3EHhOuLeL1qlvdVt8aylKbmPVuAmQ2o7WYVu6', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$sgBeF9Gu2Ubk7BW5VI1HleEcmik4lmiErmbfklXlMCm.MzWCtbHru', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$PI4.uxE1PPrZrX6Rg7mMyO8FNiv17QzZkLXcVu9kRH60cdE/gqhDW', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$FpywsO7EyIqDxjIohNwKYeZgd7XoXRJPWAYJJMW8tApfaxlo9dJRG', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$rDEp/tmvJhP7JQEiNzzOQO/8PGzjuLfHqIRUK4NfnQMPyL.HpmCcO', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$Xvud13P/bUOX./v6s7CzbuobOhD1Vxk34U.YsI5DoqWZU6lsvPwKy', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$w3se1COvLvh7dlETT5uqveKNerPwassQgPskyEHxQ1DzIssKMy4KK', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$u5rOTj1lqSf0iurgSdAZ9OSwyWed5u1IxQAlZE6EBfufyjp0MRYVW', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$doHCMxoUJqyIAnYbkuxW2.spbkoheDBAOExGLRhO3b6hTxzR7EFwm', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$qgRpCAoL5UPC52UctIoBFOQO.FAMrtJPRUt33M9OXbVrPlcmjRj4C', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$9/l04x0zlDjXftApspPFEe7niq1xR2UlUg5CPMqdh7qcpvnDMiM0m', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$CC87oLDMj30PpYlHZPj/VuyhKq7qO6HOqTQTSA2wyYuV9mnh7fl7O', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$iDgvaQkYheo/wu2ecpmiIOJpp7MxiDbWjukjFbAp6Ox33/Xvf5Vyu', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$SBaJMcFWl/C95GN7Aq8.oeZjOU1BjAn.ld1G4yG1GEWtnSc6b/g0W', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$C5zEOlv4aWZYmAxGMzTIkO1.H4caSEiaeAjcGRDS0n3N2xp2zHl6.', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$koMeF1Ioz5ANXUykaz83iOPWXBvYQNUG4e.g2k829WpG6ns6FldxW', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$.wE8rDwUzG6mP7lbbtwoheFVcxf5rmImRlNgWacs0pUtMjiE473hu', 't', '2015-12-23 22:09:38.000000', '2015-12-23 22:09:38', '2015-12-23 22:09:38', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 22:09:38', '2015-12-23 22:09:38', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 22:09:38', '2015-12-23 22:09:38', 298486374)[0m
  [1m[35m (1.8ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered users/_form.html.erb (390.0ms)
  Rendered users/new.html.erb within layouts/application (396.7ms)
  Rendered layouts/_header.html.erb (56.4ms)
Completed 500 Internal Server Error in 908ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 15ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[35mUser Load (3.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["password_digest", "$2a$04$7C9dfjsYNI0hH1fu.9aHbuSLPO4UI6QX3g00xwEl15UUqjJ/Uv4/i"], ["updated_at", "2015-12-23 22:09:39.625134"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/users/436798503
Completed 302 Found in 44ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (4.6ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.1ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[36mUser Load (4.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 14:09:39 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (25.0ms)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 14:09:39 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (7.4ms)
  Rendered layouts/_header.html.erb (49.4ms)
Completed 500 Internal Server Error in 64ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:09:39 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$C6pIblsR0ODoJgOVuaTsCevLm/TEp66VArO6zoBc594MQQMU4iXEi"], ["updated_at", "2015-12-23 22:09:39.802171"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 76ms (ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 14:09:39 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.7ms)
  Rendered layouts/_header.html.erb (45.9ms)
Completed 500 Internal Server Error in 52ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (2.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:09:39 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 5ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:09:39 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$A6UgfwCtsnjH4hhUfkuR9uYQDZhww8K1TYH9Lq4CUSLFrcyfBYyEu"], ["updated_at", "2015-12-23 22:09:39.962820"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 14:09:39 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (17.4ms)
  Rendered users/index.html.erb within layouts/application (39.4ms)
  Rendered layouts/_header.html.erb (51.8ms)
Completed 500 Internal Server Error in 99ms (ActiveRecord: 2.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:09:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kimberly@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$vog56xLewd86HXg5l059VuK7SBZsFasFfOrZtl4EB7UooPV1bFTg2"], ["updated_at", "2015-12-23 22:09:40.082887"], ["id", 436798503]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 14:09:40 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (5.7ms)
  Rendered users/index.html.erb within layouts/application (14.6ms)
  Rendered layouts/_header.html.erb (73.8ms)
Completed 500 Internal Server Error in 95ms (ActiveRecord: 0.4ms)
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$mNai86d4X9u0Xg2D4oK0u.U3RxX27Lzjd7weUKWLO6OHvqdAK8ZQ2"], ["updated_at", "2015-12-23 22:09:40.191443"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$GV.2WixZez7wHBCDUWTTguaFxsn2W0DwXK.5U7jkikM1ITkt17Ztm"], ["updated_at", "2015-12-23 22:09:40.202533"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.6ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$uP9moNHkSfdK/imb2fyCd.5QOcUNulstfIRTJGR72HkZ2X36lLinS"], ["updated_at", "2015-12-23 22:09:40.206299"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 14:09:40 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.6ms)
  Rendered users/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (49.5ms)
Completed 500 Internal Server Error in 57ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 14:09:40 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (2.0ms)
  Rendered users/new.html.erb within layouts/application (2.2ms)
  Rendered layouts/_header.html.erb (32.1ms)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:09:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$DCVmr8qx2FFsNkwSp7/9aeMWD0ulRAWjcdubQiLnNqND65Fwjnbba"], ["updated_at", "2015-12-23 22:09:40.327478"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 14:09:40 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (2.8ms)
  Rendered users/edit.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (28.9ms)
Completed 500 Internal Server Error in 63ms (ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 14:09:40 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:09:40 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$RmPy.QYRldf.hns2jqiA/.6bmPEFM9bUYrwJq7FnDy77c4YK7qdkO"], ["updated_at", "2015-12-23 22:09:40.405321"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 8ms (ActiveRecord: 0.4ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 14:09:40 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 22:09:40.417541"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.2ms)[0m  begin transaction
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (1.8ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.5ms)

UserMailer#account_activation: processed outbound mail in 11.1ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (2.1ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.4ms)

UserMailer#password_reset: processed outbound mail in 11.1ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$C4jA8lNQJQ81.Rp6v7pjNedH0n7tsPBx6iJivdRmTyY6Lr2ZIb4uC"], ["created_at", "2015-12-23 22:09:41.667500"], ["updated_at", "2015-12-23 22:09:41.667500"], ["activation_digest", "$2a$04$9ykN4ZUXmTSW/jFkKLGAW.Hkxm5gbZPiEDOJSRDNYxV5lS6s07ujC"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$sBfb4odLrFNTMId3BKn/zO4LLHmKkgMaeqPPNuq.wp3W7zJgEx1pi"], ["created_at", "2015-12-23 22:09:41.730054"], ["updated_at", "2015-12-23 22:09:41.730054"], ["activation_digest", "$2a$04$CPNdOY/zIelZARItzwYhp.iPh2bxLiKblCC9cANDO8E6hEx48OSZK"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "ratings"[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "ratings" ("difficulty", "police", "pedestrian", "time", "description", "created_at", "updated_at", "id") VALUES (1, 1, 1, 'MyString', 'MyString', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 298486374)[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "locations"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 22:10:14', '2015-12-23 22:10:14', 980190962)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "locations" ("created_at", "updated_at", "id") VALUES ('2015-12-23 22:10:14', '2015-12-23 22:10:14', 298486374)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "admin", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kendra Example', 'kendra@example.com', '$2a$04$MNYKPWBBpYB6Mb6wa/5W5OcUt807DUtaYZCswirMnh7nXi/RO86Nm', 't', 't', '2015-12-23 22:10:14 UTC', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 834146161)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kimberly Example', 'kimberly@example.com', '$2a$04$wO0c1/p5XGrjXMQjM5AhaObSsmffQLVLpdMbYu8p.k0Slt.7UbiZG', 't', '2015-12-23 22:10:14 UTC', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 436798503)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('Kevin Example', 'kevin@example.com', '$2a$04$eaqDcKom0uaC4iB/rlkx5.r3d8tPnTTdtBaYjYGMvwMVn0UPW5x92', 't', '2015-12-23 22:10:14 UTC', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 712064548)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 0', 'user-0@example.com', '$2a$04$UiUPx0PX2F1Rqnnba8e/.ez5b6nV.5xERlQmgelhFyBqdwglfpm4q', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 338193910)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 1', 'user-1@example.com', '$2a$04$/jFG13kHOgNTIOIt23yUT.RSPjk7EqBU1l6JcXMjv6/oqLYGWyPdy', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 590306657)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 2', 'user-2@example.com', '$2a$04$9P85f4rf11sPjRKvBRBIve4KOkIGvm4VWUcQ2CryuapOvm2gL8KS6', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 975572189)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 3', 'user-3@example.com', '$2a$04$/QgUrqTCnqzBZOmlJ9.iveAKkIaevS6W.WYPD2EXK2SdGsWknuomS', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 220281934)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 4', 'user-4@example.com', '$2a$04$OOYR3ePEuDpru9YgkbD4uuCy4HlB2PWOlav6UtmnxJrrqo2H62YYG', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 323332591)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 5', 'user-5@example.com', '$2a$04$AMFWzCoyn.bf7ENtzobpjOyOB4r8YlHCYEfMvuaq4hspcPNF3NdFq', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 608344442)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 6', 'user-6@example.com', '$2a$04$RpObdvf87PczdyIuLdvKQu0cjH34rNeOZn/iqbU.8/BwPC6hfvLom', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 1028376774)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 7', 'user-7@example.com', '$2a$04$Dglyg2LDiMSmkLPBRl4QW.M9GCKpi/i8uBjAQKLD05UolYT05FH6y', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 172816471)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 8', 'user-8@example.com', '$2a$04$0Ps.1l0Z7gIBO1pgVnYp5OypZI7cEa1n259mPRZXY3EVE8Fyp70Te', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 452191684)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 9', 'user-9@example.com', '$2a$04$Uhv2WBi2A8DL82li5gWdEeEhXH6kndQSr89n4N0prQAhfTSRvSUK2', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 771020115)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 10', 'user-10@example.com', '$2a$04$zWv0XE2GOIwsLi.JN8REzOfSIwdOVrI35ZVsqJvfBG9srlGpi1lCu', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 956993830)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 11', 'user-11@example.com', '$2a$04$jRZQtx33pFkPNLvCd4QqCeo1TqLbPIhcw/clb7LX1rNR9TxXE3aJ6', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 235774389)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 12', 'user-12@example.com', '$2a$04$IsXLIaNebw63jTCOwZkazefEOpumXgY/UOdkabpY76mQjC07UUfuy', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 386199561)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 13', 'user-13@example.com', '$2a$04$wVD7WX4dKgbdBCk4IX5SYuEKjENgiCcYmHfwOKkoobM4cYtAqmfpG', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 537116830)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 14', 'user-14@example.com', '$2a$04$mxnsK9U33jI9kqpTL5tDbO6eSP0YdQmFa3UYgBPjg/JeYxbsQaqQm', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 1046959423)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 15', 'user-15@example.com', '$2a$04$O0xoNuL/YpzbE369Re9VU.fctlxUHcAc1Dbq.udlvfrsazeE2xF0K', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 157312430)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 16', 'user-16@example.com', '$2a$04$PC0mLp4o6CXT04bI7Rbe2eDZmSHxg.DoGXHU7Ob8n7yHg/mvz.fSW', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 275330066)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 17', 'user-17@example.com', '$2a$04$DAGw9QT.gg7T5X5K9C.mEu/PzTbeK7vXyveFNIBJXa46UIbH1lRhS', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 661521543)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 18', 'user-18@example.com', '$2a$04$0GVvmtaKNsugYy96ceMZ6uab3.E.J9eeUdGft/gTOdn0QKimypc72', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 936450328)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 19', 'user-19@example.com', '$2a$04$4LxQl4cUSvD7VSwVht3FCO4yQJ8DuO/4rdBRubmIya3SyrKZhx8Za', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 14035331)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 20', 'user-20@example.com', '$2a$04$08qUvjNxoPB4OuGsGPFH4u6GLvgoKfyGtZj4D4Xrp1/dwQvmYiMVe', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 304595689)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 21', 'user-21@example.com', '$2a$04$7sPJLxi9t3dIAW8aUpWzVOFDvz6yNAFbLUYa0IqqFopjEhKB.AIdm', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 622916212)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 22', 'user-22@example.com', '$2a$04$rc5eX3aJwCbfwaMUcVw7vu2sRURdxFKDUtaFp/WmCj5Pg1SaJ5Xtq', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 1009361868)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 23', 'user-23@example.com', '$2a$04$Eab5l8sc/kVWCB9nfaAm2uWlVfGvrSxBfVEdvHj4x09pOQXH5ruZ.', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 187601757)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 24', 'user-24@example.com', '$2a$04$ImXC3M9fIpOnYieNbgMm8e.yd1Gl/70eLsEn9TMCj.UxVqsLNNrXa', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 357172992)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 25', 'user-25@example.com', '$2a$04$Y2VTUqE4v91az13fEQWjZe12tJxLg2IyTCwRuzQBs5AG3OS9Wk5j.', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 575485547)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 26', 'user-26@example.com', '$2a$04$jt18Wt7vRTU4vBHenbILp.3bKQ53md.qylBBbIegN6WdbklzcTMZe', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 994338771)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 27', 'user-27@example.com', '$2a$04$gwUQK9GUloBDhxdQA4LJAOqTS8.Bv7BM/A4tczmlzT1xeQS87W.GK', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 205739844)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 28', 'user-28@example.com', '$2a$04$Os5xW/XeD6IzJxgmAe8JouuRnIfOZOE1.cgEYisPBqmH1Wbs5y/xG', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 486296279)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "activated", "activated_at", "created_at", "updated_at", "id") VALUES ('User 29', 'user-29@example.com', '$2a$04$nAZ940c0dzmeg4yo/XugCu8mao91OLhzRy92dKDyuyjDFEhRIFydi', 't', '2015-12-23 22:10:14.000000', '2015-12-23 22:10:14', '2015-12-23 22:10:14', 737901126)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "skate_spots"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 22:10:14', '2015-12-23 22:10:14', 980190962)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "skate_spots" ("created_at", "updated_at", "id") VALUES ('2015-12-23 22:10:14', '2015-12-23 22:10:14', 298486374)[0m
  [1m[35m (24.4ms)[0m  commit transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 14:10:14 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered users/_form.html.erb (356.6ms)
  Rendered users/new.html.erb within layouts/application (369.8ms)
  Rendered layouts/_header.html.erb (4.7ms)
Completed 200 OK in 737ms (Views: 712.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users" for 127.0.0.1 at 2015-12-23 14:10:14 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"user@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (3.1ms)
  Rendered users/_form.html.erb (5.7ms)
  Rendered users/new.html.erb within layouts/application (5.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 26ms (Views: 8.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------
UsersSignupTest: test_valid_signup_information_with_account_activation
----------------------------------------------------------------------
Started GET "/signup" for 127.0.0.1 at 2015-12-23 14:10:14 -0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (2.2ms)
  Rendered users/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users" for 127.0.0.1 at 2015-12-23 14:10:14 -0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"Example User", "email"=>"user@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Y.1uWQbRqLo.UHRhREeLj.uDVl.TilzhYiwJ/OKM6vbKjbkLP6juO"], ["created_at", "2015-12-23 22:10:14.991073"], ["updated_at", "2015-12-23 22:10:14.991073"], ["activation_digest", "$2a$04$.jwufer40QJMpJ8MtjhZyO0UUNjjuivhLbgZKaxEJGpu3C1/v8GXu"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (2.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.7ms)

UserMailer#account_activation: processed outbound mail in 258.0ms

Sent mail to user@example.com (9.2ms)
Date: Wed, 23 Dec 2015 14:10:15 -0800
From: from@example.com
To: user@example.com
Message-ID: <567b1bc7436b2_15f7a5b9988265e7@ubuntu.mail>
Subject: Activate account
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b1bc741df4_15f7a5b998826481";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b1bc741df4_15f7a5b998826481
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Hi Example User,

Welcome to Skate Spot App! To activate your account, click on the link below:

http://example.com/account_activations/d4QM_CmeZgqu16KJyt9XXQ/edit?email=user%40example.com



----==_mimepart_567b1bc741df4_15f7a5b998826481
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Sample App</h1>

<p>Hi Example User,</p>

<p>
Welcome to the Skate Spot App! To activate your account, click on the link below:
</p>

<a href="http://example.com/account_activations/d4QM_CmeZgqu16KJyt9XXQ/edit?email=user%40example.com">Activate</a>



  </body>
</html>

----==_mimepart_567b1bc741df4_15f7a5b998826481--

Redirected to http://www.example.com/
Completed 302 Found in 296ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"user@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "user@example.com"]]
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/invalid%20token/edit" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"id"=>"invalid token"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" IS NULL LIMIT 1
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started GET "/account_activations/d4QM_CmeZgqu16KJyt9XXQ/edit?email=wrong" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"wrong", "id"=>"d4QM_CmeZgqu16KJyt9XXQ"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "wrong"]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
Started GET "/account_activations/d4QM_CmeZgqu16KJyt9XXQ/edit?email=user%40example.com" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by AccountActivationsController#edit as HTML
  Parameters: {"email"=>"user@example.com", "id"=>"d4QM_CmeZgqu16KJyt9XXQ"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "user@example.com"]]
  [1m[36mSQL (5.8ms)[0m  [1mUPDATE "users" SET "activated" = 't', "activated_at" = '2015-12-23 22:10:15.313358' WHERE "users"."id" = ?[0m  [["id", 1046959424]]
Redirected to http://www.example.com/users/1046959424
Completed 302 Found in 9ms (ActiveRecord: 5.9ms)
Started GET "/users/1046959424" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1046959424"}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 1046959424]]
  Rendered users/show.html.erb within layouts/application (0.7ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  Rendered layouts/_header.html.erb (2.1ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$xGPEcl7mLYnWT6olwI8f3ep9GaSQWVGyowpMwTTQcYODx9YEb3sNG"], ["updated_at", "2015-12-23 22:10:15.342077"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$OfJKZ6o4xj5TyqFPygsHkuA6pWM.KgOM2t9chePX7eYYMGPF2dxVe"], ["updated_at", "2015-12-23 22:10:15.349302"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$ZYMk.gc2pjyzazKPbaXAX.LQt8d7HuM5ey2KDyZhr91c2f/6MxFWa"], ["updated_at", "2015-12-23 22:10:15.356979"], ["id", 834146161]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------
UsersIndexTest: test_index_as_non-admin
---------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kimberly@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kimberly@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["remember_digest", "$2a$04$tuwKD/piMZP9u.Obd8GC0u0A7nsaL3Af1qTZ0xuKRwFZUTNPiMnWW"], ["updated_at", "2015-12-23 22:10:15.375105"], ["id", 436798503]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/436798503
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?  [["activated", "t"]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0[0m  [["activated", "t"]]
  Rendered users/_user.html.erb (5.7ms)
  Rendered users/index.html.erb within layouts/application (12.6ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 17ms (Views: 14.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------
UsersIndexTest: test_index_as_admin_including_pagination_and_delete_links
-------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$9m1Jcqu06FBKFLn/CwOor.OZq0Fu95lWrTcqcihzMES53JkoMxP4y"], ["updated_at", "2015-12-23 22:10:15.409736"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.3ms)
Started GET "/users" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users" WHERE "users"."activated" = ?[0m  [["activated", "t"]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."activated" = ? LIMIT 30 OFFSET 0  [["activated", "t"]]
  Rendered users/_user.html.erb (7.1ms)
  Rendered users/index.html.erb within layouts/application (10.6ms)
  Rendered layouts/_header.html.erb (0.9ms)
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" LIMIT 30 OFFSET 0[0m
  [1m[35m (0.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/436798503" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"436798503"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = ?[0m  [["id", 436798503]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
UsersLoginTest: test_login_with_valid_information_followed_by_logout
--------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.7ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 4ms (ActiveRecord: 0.3ms)
Started GET "/users/834146161" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by UsersController#show as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered users/show.html.erb within layouts/application (0.2ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered layouts/_header.html.erb (3.0ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started DELETE "/logout" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by SkateSpotsController#index as HTML
  [1m[36mSkateSpot Load (0.2ms)[0m  [1mSELECT "skate_spots".* FROM "skate_spots"[0m
  Rendered skate_spots/index.html.erb within layouts/application (6.8ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.2ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------
UsersLoginTest: test_login_with_invalid_information
---------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Started GET "/login" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", ""]]
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.1ms)
Started GET "/" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by SkateSpotsController#index as HTML
  [1m[35mSkateSpot Load (0.2ms)[0m  SELECT "skate_spots".* FROM "skate_spots"
  Rendered skate_spots/index.html.erb within layouts/application (1.3ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 2.9ms | ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------
UsersLoginTest: test_login_without_remembering
----------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 3ms (ActiveRecord: 0.2ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
UsersLoginTest: test_login_with_remembering
-------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$Py9U4ThAcoaABjJ0LzLO8OBlu13yjaea0R0f5hBpKudsCQ.vW58B."], ["updated_at", "2015-12-23 22:10:15.572157"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------
UserMailerTest: test_account_activation
---------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  Rendered user_mailer/account_activation.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/account_activation.text.erb within layouts/mailer (0.2ms)

UserMailer#account_activation: processed outbound mail in 2.6ms
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------
UserMailerTest: test_password_reset
-----------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (6.9ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (1.1ms)

UserMailer#password_reset: processed outbound mail in 14.8ms
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------
UserTest: test_email_shouldn't_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------
UserTest: test_name_shouldn't_be_too_long
-----------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------
UserTest: test_email_addresses_should_be_unique
-----------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)  [["name", "Elissa Steamer"], ["email", "elissa@steamer.com"], ["password_digest", "$2a$04$BMaZccW/KkM91FkvDjK1qeCDHzGu.WjHlrRE0mol.VmpgkpKalVze"], ["created_at", "2015-12-23 22:10:15.614710"], ["updated_at", "2015-12-23 22:10:15.614710"], ["activation_digest", "$2a$04$tWFgP.QdgY5Rxe8hf5ooRelV17gRVPsSoPmkXwFjBSV6.XZC.1pcS"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('ELISSA@STEAMER.COM') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (1.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('      ') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
UserTest: test_email_addresses_should_be_saved_as_lower-case
------------------------------------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('Foo@ExAMPle.CoM') LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "activation_digest") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Elissa Steamer"], ["email", "foo@example.com"], ["password_digest", "$2a$04$5Aqsfx7vkSx00kW8xX7soOFkryZw/A3WTUiFGVOShMsQbybvdAzwy"], ["created_at", "2015-12-23 22:10:15.644344"], ["updated_at", "2015-12-23 22:10:15.644344"], ["activation_digest", "$2a$04$nNrVvY71TSg6nfgOclXXlOtNDgz/e7ZIvhcJWrM8ejYM75vQ3ytbe"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 1046959424]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (2.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('elissa@steamer.com') LIMIT 1
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$.fXE5KGYl2MSeTQ3F9ZHJ.DKMbY2Oyd7inx4nFx0L34fUMkWITXgO"], ["updated_at", "2015-12-23 22:10:15.703302"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 6ms (ActiveRecord: 0.4ms)
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (10.1ms)
  Rendered users/edit.html.erb within layouts/application (11.7ms)
  Rendered layouts/_header.html.erb (0.8ms)
Completed 200 OK in 19ms (Views: 17.3ms | ActiveRecord: 0.2ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", "834146161"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.5ms)
  Rendered users/_form.html.erb (5.1ms)
  Rendered users/edit.html.erb within layouts/application (5.4ms)
  Rendered layouts/_header.html.erb (0.5ms)
Completed 200 OK in 16ms (Views: 8.1ms | ActiveRecord: 0.4ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/users/834146161/edit" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://www.example.com/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started POST "/login" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"kendra@example.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["remember_digest", "$2a$04$cfOrhnd4qmFH3ZJNsZVBkOjmddIHaG2FG.g00SeF5uLnkcjZRX9cu"], ["updated_at", "2015-12-23 22:10:15.757959"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161/edit
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started PATCH "/users/834146161" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"834146161"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", "834146161"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "name" = ?, "email" = ?, "updated_at" = ? WHERE "users"."id" = ?[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2015-12-23 22:10:15.768391"], ["id", 834146161]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------
UsersControllerTest: test_should_redirect_index_when_not_logged_in
------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Processing by UsersController#index as HTML
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Redirected to http://test.host/
Filter chain halted as :admin_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.1ms)
  Rendered users/_form.html.erb (3.0ms)
  Rendered users/new.html.erb within layouts/application (3.2ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------
UsersControllerTest: test_should_not_allow_the_admin_attribute_to_be_edited_via_the_web
---------------------------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "admin"=>"834146161"}, "id"=>"436798503"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
Unpermitted parameter: admin
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kimberly@example.com') AND "users"."id" != 436798503) LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$bkyUn6SstKIn3HA3skWJi.JlUOWDFG3WG4XoNpKC00oF0bSKFM9bC"], ["updated_at", "2015-12-23 22:10:15.830890"], ["id", 436798503]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/users/436798503
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
  [1m[36m (0.2ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"834146161"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 436798503]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 834146161]]
Redirected to http://test.host/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1  [["id", 436798503]]
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"name"=>"Kendra Example", "email"=>"kendra@example.com"}, "id"=>"834146161"}
Redirected to http://test.host/login
Filter chain halted as :logged_in_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------
PasswordResetsTest: test_password_resets
----------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/password_resets/new" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by PasswordResetsController#new as HTML
  Rendered password_resets/new.html.erb within layouts/application (2.4ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
  Rendered password_resets/new.html.erb within layouts/application (0.6ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.1ms)
Started POST "/password_resets" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by PasswordResetsController#create as HTML
  Parameters: {"password_reset"=>"[FILTERED]"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "reset_digest" = '$2a$04$Np/aHaQ.Zp8gzY3z5LOoX.ETfo9oxJZyOnmxU47jKgYk2bvHljf/2', "reset_sent_at" = '2015-12-23 22:10:15.877691' WHERE "users"."id" = ?  [["id", 834146161]]
  Rendered user_mailer/password_reset.html.erb within layouts/mailer (0.3ms)
  Rendered user_mailer/password_reset.text.erb within layouts/mailer (0.1ms)

UserMailer#password_reset: processed outbound mail in 2.9ms

Sent mail to kendra@example.com (2.9ms)
Date: Wed, 23 Dec 2015 14:10:15 -0800
From: from@example.com
To: kendra@example.com
Message-ID: <567b1bc7d7a77_15f7a5b99882692b@ubuntu.mail>
Subject: Password reset
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_567b1bc7d7289_15f7a5b99882688d";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_567b1bc7d7289_15f7a5b99882688d
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

To reset your password click the link below:

http://example.com/password_resets/zikRP9W8gncLG-dPK9clrg/edit?email=kendra%40example.com

This link will expire in two hours.

If you did not request your password to be reset, please ignore this email and
your password will stay as it is.



----==_mimepart_567b1bc7d7289_15f7a5b99882688d
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<html>
  <body>
    <h1>Password reset</h1>

<p>To reset your password click the link below:</p>

<a href="http://example.com/password_resets/zikRP9W8gncLG-dPK9clrg/edit?email=kendra%40example.com">Reset password</a>

<p>This link will expire in two hours.</p>

<p>
If you did not request your password to be reset, please ignore this email and
your password will stay as it is.
</p>

  </body>
</html>

----==_mimepart_567b1bc7d7289_15f7a5b99882688d--

Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.4ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT 1[0m  [["id", 834146161]]
Started GET "/password_resets/zikRP9W8gncLG-dPK9clrg/edit?email=" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"", "id"=>"zikRP9W8gncLG-dPK9clrg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated", "f"], ["updated_at", "2015-12-23 22:10:15.893268"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/password_resets/zikRP9W8gncLG-dPK9clrg/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"zikRP9W8gncLG-dPK9clrg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "activated" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["activated", "t"], ["updated_at", "2015-12-23 22:10:15.899446"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Started GET "/password_resets/wrong%20token/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"wrong token"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
Redirected to http://www.example.com/
Filter chain halted as :valid_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.1ms)
Started GET "/password_resets/zikRP9W8gncLG-dPK9clrg/edit?email=kendra%40example.com" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by PasswordResetsController#edit as HTML
  Parameters: {"email"=>"kendra@example.com", "id"=>"zikRP9W8gncLG-dPK9clrg"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.6ms)
  Rendered password_resets/edit.html.erb within layouts/application (3.9ms)
  Rendered layouts/_header.html.erb (0.3ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/zikRP9W8gncLG-dPK9clrg" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"zikRP9W8gncLG-dPK9clrg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (0.7ms)
  Rendered password_resets/edit.html.erb within layouts/application (2.3ms)
  Rendered layouts/_header.html.erb (0.4ms)
Completed 200 OK in 14ms (Views: 6.9ms | ActiveRecord: 0.4ms)
Started PATCH "/password_resets/zikRP9W8gncLG-dPK9clrg" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"zikRP9W8gncLG-dPK9clrg"}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1  [["email", "kendra@example.com"]]
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered password_resets/edit.html.erb within layouts/application (1.9ms)
  Rendered layouts/_header.html.erb (0.2ms)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.1ms)
Started PATCH "/password_resets/zikRP9W8gncLG-dPK9clrg" for 127.0.0.1 at 2015-12-23 14:10:15 -0800
Processing by PasswordResetsController#update as HTML
  Parameters: {"email"=>"kendra@example.com", "user"=>{"password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"zikRP9W8gncLG-dPK9clrg"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT 1[0m  [["email", "kendra@example.com"]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('kendra@example.com') AND "users"."id" != 834146161) LIMIT 1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "password_digest" = ?, "updated_at" = ? WHERE "users"."id" = ?  [["password_digest", "$2a$04$pntvStmZjCRNXa7So.yCg.shzEJohwLln5Tqckjq0WIQAJahnDKoa"], ["updated_at", "2015-12-23 22:10:15.954877"], ["id", 834146161]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/users/834146161
Completed 302 Found in 7ms (ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  rollback transaction

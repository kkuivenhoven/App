!function(d,f,_){function v(t){return t}function m(t){return e(decodeURIComponent(t.replace(o," ")))}function e(t){return 0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")),t}function b(t){return S.json?JSON.parse(t):t}var o=/\+/g,S=d.cookie=function(t,e,o){if(e!==_){if(o=d.extend({},S.defaults,o),null===e&&(o.expires=-1),"number"==typeof o.expires){var n=o.expires,r=o.expires=new Date;r.setDate(r.getDate()+n)}return e=S.json?JSON.stringify(e):String(e),f.cookie=[encodeURIComponent(t),"=",S.raw?e:encodeURIComponent(e),o.expires?"; expires="+o.expires.toUTCString():"",o.path?"; path="+o.path:"",o.domain?"; domain="+o.domain:"",o.secure?"; secure":""].join("")}for(var i=S.raw?v:m,s=f.cookie.split("; "),p=t?null:{},a=0,u=s.length;a<u;a++){var c=s[a].split("="),h=i(c.shift()),l=i(c.join("="));if(t&&t===h){p=b(l);break}t||(p[h]=b(l))}return p};S.defaults={},d.removeCookie=function(t,e){return null!==d.cookie(t)&&(d.cookie(t,null,e),!0)}}(jQuery,document),function(){var u,n,t,c;u=jQuery,n=window,c=n.document,t=function(){function t(t){this._options=u.extend({name:"tour",labels:{end:"End tour",next:"Next &raquo;",prev:"&laquo; Prev"},template:"<div class='popover tour'>            <div class='arrow'></div>            <h3 class='popover-title'></h3>            <div class='popover-content'></div>          </div>",container:"body",keyboard:!0,useLocalStorage:!1,debug:!1,backdrop:!1,redirect:!0,basePath:"",afterSetState:function(){},afterGetState:function(){},afterRemoveState:function(){},onStart:function(){},onEnd:function(){},onShow:function(){},onShown:function(){},onHide:function(){},onHidden:function(){},onNext:function(){},onPrev:function(){}},t),this._options.useLocalStorage||u.cookie||this._debug("jQuery.cookie is not loaded."),this._steps=[],this.setCurrentStep(),this.backdrop={overlay:null,step:null,background:null}}return t.prototype.setState=function(t,e){return t=this._options.name+"_"+t,this._options.useLocalStorage?n.localStorage.setItem(t,e):u.cookie(t,e,{expires:36500,path:"/"}),this._options.afterSetState(t,e)},t.prototype.removeState=function(t){return t=this._options.name+"_"+t,this._options.useLocalStorage?n.localStorage.removeItem(t):u.removeCookie(t,{path:"/"}),this._options.afterRemoveState(t)},t.prototype.getState=function(t){var e;return void 0!==(e=this._options.useLocalStorage?n.localStorage.getItem(this._options.name+"_"+t):u.cookie(this._options.name+"_"+t))&&"null"!==e||(e=null),this._options.afterGetState(t,e),e},t.prototype.addSteps=function(t){var e,o,n,r;for(r=[],o=0,n=t.length;o<n;o++)e=t[o],r.push(this.addStep(e));return r},t.prototype.addStep=function(t){return this._steps.push(t)},t.prototype.getStep=function(t){if(null!=this._steps[t])return u.extend({path:"",placement:"right",title:"",content:"",id:"step-"+t,next:t===this._steps.length-1?-1:t+1,prev:t-1,animation:!0,backdrop:this._options.backdrop,redirect:this._options.redirect,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,template:this._options.template,container:this._options.container},this._steps[t])},t.prototype.start=function(t){var e,o=this;return null==t&&(t=!1),this.ended()&&!t?this._debug("Tour ended, start prevented."):(u(c).off("click.bootstrap-tour",".popover .next").on("click.bootstrap-tour",".popover .next",function(t){return t.preventDefault(),o.next()}),u(c).off("click.bootstrap-tour",".popover .prev").on("click.bootstrap-tour",".popover .prev",function(t){return t.preventDefault(),o.prev()}),u(c).off("click.bootstrap-tour",".popover .end").on("click.bootstrap-tour",".popover .end",function(t){return t.preventDefault(),o.end()}),this._onresize(function(){return o.showStep(o._current)}),this._setupKeyboardNavigation(),e=this._makePromise(null!=this._options.onStart?this._options.onStart(this):void 0),this._callOnPromiseDone(e,this.showStep,this._current))},t.prototype.next=function(){var t;return t=this.hideStep(this._current),this._callOnPromiseDone(t,this.showNextStep)},t.prototype.prev=function(){var t;return t=this.hideStep(this._current),this._callOnPromiseDone(t,this.showPrevStep)},t.prototype.end=function(){var t,e,o=this;return t=function(){if(u(c).off("click.bootstrap-tour"),u(c).off("keyup.bootstrap-tour"),u(n).off("resize.bootstrap-tour"),o.setState("end","yes"),o._hideBackdrop(),null!=o._options.onEnd)return o._options.onEnd(o)},e=this.hideStep(this._current),this._callOnPromiseDone(e,t)},t.prototype.ended=function(){return!!this.getState("end")},t.prototype.restart=function(){return this.removeState("current_step"),this.removeState("end"),this.setCurrentStep(0),this.start()},t.prototype.hideStep=function(t){var e,o,n,r=this;return n=this.getStep(t),o=this._makePromise(null!=n.onHide?n.onHide(this):void 0),e=function(){var t;if(t=u(n.element).popover("hide"),n.reflex&&t.css("cursor","").off("click.boostrap-tour"),n.backdrop&&r._hideBackdrop(),null!=n.onHidden)return n.onHidden(r)},this._callOnPromiseDone(o,e),o},t.prototype.showStep=function(o){var t,e,n,r=this;if(n=this.getStep(o))return t=this._makePromise(null!=n.onShow?n.onShow(this):void 0),e=function(){var t,e;if(r.setCurrentStep(o),e="function"==typeof n.path?n.path.call():r._options.basePath+n.path,t=[c.location.pathname,c.location.hash].join(""),!r._isRedirect(e,t))return null!=n.element&&0!==u(n.element).length&&u(n.element).is(":visible")?(n.backdrop&&r._showBackdrop(n.element),r._showPopover(n,o),null!=n.onShown&&n.onShown(r),r._debug("Step "+(r._current+1)+" of "+r._steps.length)):(r._debug("Skip the step "+(r._current+1)+". The element does not exist or is not visible."),void r.showNextStep());r._redirect(n,e)},this._callOnPromiseDone(t,e)},t.prototype.setCurrentStep=function(t){return null!=t?(this._current=t,this.setState("current_step",t)):(this._current=this.getState("current_step"),null===this._current?this._current=0:this._current=parseInt(this._current))},t.prototype.showNextStep=function(){var t,e,o,n=this;return o=this.getStep(this._current),e=function(){return n.showStep(o.next)},t=this._makePromise(null!=o.onNext?o.onNext(this):void 0),this._callOnPromiseDone(t,e)},t.prototype.showPrevStep=function(){var t,e,o,n=this;return o=this.getStep(this._current),e=function(){return n.showStep(o.prev)},t=this._makePromise(null!=o.onPrev?o.onPrev(this):void 0),this._callOnPromiseDone(t,e)},t.prototype._debug=function(t){if(this._options.debug)return n.console.log("Bootstrap Tour '"+this._options.name+"' | "+t)},t.prototype._isRedirect=function(t,e){return null!=t&&""!==t&&t.replace(/\?.*$/,"").replace(/\/?$/,"")!==e.replace(/\/?$/,"")},t.prototype._redirect=function(t,e){return"function"==typeof t.redirect?t.redirect.call(this,e):!0===t.redirect?(this._debug("Redirect to "+e),c.location.href=e):void 0},t.prototype._renderNavigation=function(t,e){var o;return o=[],0<=t.prev&&o.push("<a href='#"+t.prev+"' class='prev'>"+e.labels.prev+"</a>"),0<=t.next&&o.push("<a href='#"+t.next+"' class='next'>"+e.labels.next+"</a>"),o.join(" | ")+"<a href='#' class='pull-right end'>"+e.labels.end+"</a>"},t.prototype._showPopover=function(t){var e,o,n,r=this;return o=t.content+"<br /><p>",n=u.extend({},this._options),t.options&&u.extend(n,t.options),t.reflex&&u(t.element).css("cursor","pointer").on("click.bootstrap-tour",function(){return r.next()}),o+=this._renderNavigation(t,n),u(t.element).popover("destroy").popover({placement:t.placement,trigger:"manual",title:t.title,content:o,html:!0,animation:t.animation,container:t.container,template:t.template}).popover("show"),(e=u(t.element).data("popover").tip()).attr("id",t.id),this._reposition(e,t),this._scrollIntoView(e)},t.prototype._reposition=function(t,e){var o,n,r,i,s,p,a;if(s=t[0].offsetWidth,i=t[0].offsetHeight,r=(a=t.offset()).left,p=a.top,(o=u(c).outerHeight()-a.top-u(t).outerHeight())<0&&(a.top=a.top+o),(n=u("html").outerWidth()-a.left-u(t).outerWidth())<0&&(a.left=a.left+n),a.top<0&&(a.top=0),a.left<0&&(a.left=0),t.offset(a),"bottom"===e.placement||"top"===e.placement){if(r!==a.left)return this._replaceArrow(t,2*(a.left-r),s,"left")}else if(p!==a.top)return this._replaceArrow(t,2*(a.top-p),i,"top")},t.prototype._replaceArrow=function(t,e,o,n){return t.find(".arrow").css(n,e?50*(1-e/o)+"%":"")},t.prototype._scrollIntoView=function(t){var e;if(!(0<=(e=t.get(0).getBoundingClientRect()).top&&e.bottom<u(n).height()&&0<=e.left&&e.right<u(n).width()))return t.get(0).scrollIntoView(!0)},t.prototype._onresize=function(t,e){return u(n).on("resize.bootstrap-tour",function(){return clearTimeout(e),e=setTimeout(t,100)})},t.prototype._setupKeyboardNavigation=function(){var e=this;if(this._options.keyboard)return u(c).on("keyup.bootstrap-tour",function(t){if(t.which)switch(t.which){case 39:return t.preventDefault(),e._current<e._steps.length-1?e.next():e.end();case 37:if(t.preventDefault(),0<e._current)return e.prev();break;case 27:return t.preventDefault(),e.end()}})},t.prototype._makePromise=function(t){return t&&u.isFunction(t.then)?t:null},t.prototype._callOnPromiseDone=function(t,e,o){var n=this;return t?t.then(function(){return e.call(n,o)}):e.call(this,o)},t.prototype._showBackdrop=function(t){if(null===this.backdrop.overlay)return this._showOverlay(),this._showOverlayElement(t)},t.prototype._hideBackdrop=function(){if(null!==this.backdrop.overlay)return this._hideOverlayElement(),this._hideOverlay()},t.prototype._showOverlay=function(){return this.backdrop=u("<div/>"),this.backdrop.addClass("tour-backdrop"),this.backdrop.height(u(c).innerHeight()),u("body").append(this.backdrop)},t.prototype._hideOverlay=function(){return this.backdrop.remove(),this.backdrop.overlay=null},t.prototype._showOverlayElement=function(t){var e,o,n,r;return n=5,(o=(r=u(t)).offset()).top=o.top-n,o.left=o.left-n,(e=u("<div/>")).width(r.innerWidth()+n).height(r.innerHeight()+n).addClass("tour-step-background").offset(o),r.addClass("tour-step-backdrop"),u("body").append(e),this.backdrop.step=r,this.backdrop.background=e},t.prototype._hideOverlayElement=function(){return this.backdrop.step.removeClass("tour-step-backdrop"),this.backdrop.background.remove(),this.backdrop.step=null,this.backdrop.background=null},t}(),n.Tour=t}.call(this);
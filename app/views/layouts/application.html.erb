<!-- deploying to heroku: http://docs.railsbridge.org/intro-to-rails/deploying_to_heroku -->
<!--Sources:
https://www.railstutorial.org/book, Hartl Michael, 2014
http://stackoverflow.com/questions/8705590/custom-classes-and-formatting-on-flash-messages-for-twitter-bootstrap-defaults-->

<!DOCTYPE html>
<!--script src="//maps.google.com/maps/api/js?key=[AIzaSyAi1wyResdXi_VeCzL95Q4G4MLXG9qAM-M]"></script>
<script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
<script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script--> <!-- only if you need custom infoboxes -->
<html>
<head>
  <title>Skate App</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <!--title>Skate App</title-->
  <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
  <%= csrf_meta_tags %>
	<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
	<script type="text/javascript" src="http://code.google.com/apis/gears/gears_init.js"></script>
	<!--script type="text/javascript" src="Scripts/jquery-2.1.1.min.js"></script-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<!--script type="text/javascript" src="Scripts/bootstrap.min.js"></script-->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<!--script type="text/javascript" src="/path/to/jquery-latest.js"></script>--> 
	<!--script type="text/javascript" src="/path/to/jquery.tablesorter.js"></script--> 
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.tablesorter/2.28.13/js/jquery.tablesorter.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>
	<% if Rails.env.development? %>
		<!--%= javascript_include_tag "jquery", "jquery-ui","rails" %-->
		<%= javascript_include_tag "application" %>
	<% end %>
</head>
<body class="<%= controller_name %> <%= action_name %>">

  <%= render 'layouts/header' %>

  <div class="container">
   <div class="center jumbotron">
					 <h1>Skate App <span id="bar">|</span> <small><!--|&nbsp;--><%= yield(:title) %></small></h1>
     <p>
     <% if current_page?(controller: 'sessions', action: 'new') %>
        New user? <%= link_to "Sign up now!", signup_path %>
     <% end %>  
     <br>
     <%= yield(:p) %></p>

     <% if current_page?(controller: 'skate_spots', action: 'index') %>
						 <p-small>Confused on skate spot sizing? Visit our <%= link_to "Help", static_pages_help_path, :title => "Click for skate spot size info" %> page to learn about skate spot sizes.</p>
     <% end %>  

<% if current_page?(controller: 'skate_spots', action: 'show') %>
 <% if logged_in? %>
  <%=link_to"<i class='glyphicon glyphicon-thumbs-up'></i>".html_safe, {:controller => 'skate_spots', :action => 'like_ss', :skate_spot => @skate_spot.id, :vote_value => 1 }%><%= @skate_spot.user_votes.select{|key, hash| hash["1"] == "1" }.count %>&nbsp;
 <%=link_to"<i class='glyphicon glyphicon-thumbs-down'></i>".html_safe, {:controller => 'skate_spots', :action => 'dislike_ss', :skate_spot => @skate_spot.id, :vote_value => 0 }%><%= @skate_spot.user_votes.select{|key, hash| hash["0"] == "0" }.count %>&nbsp;
 <% else %>
  <i class='glyphicon glyphicon-thumbs-up'></i><%= @skate_spot.user_votes.select{|key, hash| hash["1"] == "1" }.count %>&nbsp;
  <i class='glyphicon glyphicon-thumbs-down'></i><%= @skate_spot.user_votes.select{|key, hash| hash["0"] == "0" }.count %>&nbsp;
 <% end %>  
<% end %>  

     <p-small>
       <% if current_page?(controller: 'static_pages', action: 'home') %>
         Developed by: Kendra Kuivenhoven
       <% end %>  
     </p-small>

     <!--% if current_page?(controller: 'ratings', action: 'index') || current_page?(controller: 'ratings', action: 'index_park_spot') %-->
					<% if current_page?(controller: 'ratings', action: 'index') %>
										 <%= yield(:text) %></p>
				        <%= form_tag(ratings_path, :method => "get", id: "search-form") do %>
											<%= select_tag "first", options_for_select(["Difficulty(HighLow)", "Difficulty(LowHigh)", "Security(HighLow)", "Security(LowHigh)", "Pedestrian(HighLow)", "Pedestrian(LowHigh)"]) %>&nbsp;&nbsp;
											<%= select_tag "second", options_for_select(["Difficulty(HighLow)", "Difficulty(LowHigh)", "Security(HighLow)", "Security(LowHigh)", "Pedestrian(HighLow)", "Pedestrian(LowHigh)"]) %>&nbsp;&nbsp;
											<%= select_tag "third", options_for_select(["Difficulty(HighLow)", "Difficulty(LowHigh)", "Security(HighLow)", "Security(LowHigh)", "Pedestrian(HighLow)", "Pedestrian(LowHigh)"]) %>&nbsp;&nbsp;
										 <%= submit_tag "Filter", class: "btn btn-default btn-sm" %><br>
									<% end %>
					<% end %>
   </div>


   <div>
    <% flash.each do |message_type, message| %>
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        <%= content_tag(:div, message, class: "alert alert-#{message_type}") %>
    <% end %>

   <!--%= yield :scripts %-->
<script type="text/javascript">
<%= yield(:javascript)%>
</script>

   </div>
   <%= yield %>
	<%= debug(params) if Rails.env.development? %>
  </div>

</body>

</html>
